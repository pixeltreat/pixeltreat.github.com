function toggleMainNavActive(e){var t=$(e.currentTarget),n="is-mainnav-active",a=t.hasClass(n);a?resetMainSubNavState(n):(resetMainSubNavState(n),t.addClass(n))}function resetMainSubNavState(e){var t="is-subnav-active",n=$(".app-nav__main__li"),a=$(".app-nav__sub__li");n.removeClass(e),a.removeClass(t)}function toggleSubNavActive(e){var t=$(e.currentTarget),n="is-subnav-active",a=t.siblings("."+n);e.stopPropagation(),a.removeClass(n),t.addClass(n)}define("core/helpers/localizer",[],function(){function e(e){var t=_.templateSettings;_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var n=_.template(e);return _.templateSettings=t,n}var t=function(){};return t.localize=function(t,n){if(!n)return t;var a=e(t);return a({nls:n})},t.setLanguage=function(e){localStorage.setItem("user-language",e),location.reload()},t.clearLanguage=function(){localStorage.removeItem("user-language"),location.reload()},t}),define("core/helpers/logger",[],function(){var e=function(){this.info=function(e){console&&console.log(e)},this.error=function(e,t){console&&(console.log("ERROR : "+e),console.error(t))}};return e}),define("core/helpers/mediator",[],function(){var e=function(){var e=new PubSub;return{notify:function(t,n){e.publish(t,n)},listen:function(t,n){e.subscribe(t,n)}}};return e}),define("core/helpers/router",[],function(){var e=function(){var e=crossroads.create();return e.normalizeFn=crossroads.NORM_AS_OBJECT,{addRoute:function(t,n){e.addRoute(t,n)},init:function(){function t(t,n){e.parse(t)}hasher.initialized.add(t),hasher.changed.add(t),hasher.isActive()||hasher.init()}}};return e.routeTo=function(e){hasher.setHash(e)},e}),define("core/helpers/settings",[],function(){var e=function(e){var t=!0,n={};return{load:function(e){_.extend(n,e)},items:function(){return t&&e?_.extend(_.clone(e.items()),n):n},chainSettings:function(e){t=e}}};return e}),define("core/helpers/styler",[],function(){var e=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},t=function(){};return t.attachCssLink=function(t,n){if(n){var a=document.getElementById(n);a?a.href=t:e(t)}else{for(var l=document.getElementsByTagName("link"),i=0;i<l.length;i++)if(l[i].href&&-1!=l[i].href.indexOf(t))return;e(t)}},t.attachCssText=function(e,t){var n=document.getElementById(e);n&&n.parentNode.removeChild(n);var a=document.createElement("style");a.type="text/css",a.setAttribute("id",e),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(a)},t.attachScopedCss=function(e,t){t&&(styleElement=$("<style type='text/css' scoped='scoped'>"+t+"</style>"),e.prepend(styleElement))},t}),define("core/helpers/_helpers_",["require","./localizer","./logger","./mediator","./router","./settings","./styler"],function(e){return{Localizer:e("./localizer"),Logger:e("./logger"),Mediator:e("./mediator"),Router:e("./router"),Settings:e("./settings"),Styler:e("./styler")}}),define("core/context",["./helpers/_helpers_"],function(e){var t=function(t){this.parentContext=t,this.mediator=this.parentContext?this.parentContext.mediator:new e.Mediator,this.settings=this.parentContext?new e.Settings(this.parentContext.settings):new e.Settings};return t.prototype.getSettings=function(){return this.settings.items()},t.prototype.addSettings=function(e){this.settings.load(e)},t.prototype.notify=function(e,t){this.mediator.notify(e,t)},t.prototype.listen=function(e,t){this.mediator.listen(e,t)},t.prototype.setLanguage=function(t){return e.Localizer.setLanguage(t)},t.prototype.clearLanguage=function(){return e.Localizer.clearLanguage()},t.prototype.getParentContext=function(){return this.parentContext},t.prototype.loadChildContexts=function(e){for(var t=0;t<e.length;t++){var n=e[t];new n(this)}},t}),define("core/dom-controller",[],function(){var DomController=function(scope){var self=this;return self.handles={},{addRoutes:function(e){_.extend(self.handles,e)},start:function(){for(path in self.handles)scope.find(path).each(function(index){var paramString=$(this).attr("params"),params=paramString?eval("({"+paramString+"})"):{};$(this).trigger("DEACTIVATE_HANDLERS"),$(this).bind("DEACTIVATE_HANDLERS",function(){!function(e){e.deactivate()}(self.handles[path])}),self.handles[path].activate($(this),params)})}}};return DomController}),define("core/url-controller",["./helpers/_helpers_"],function(e){var t=function(t){function n(e){this.handle=e;var n=this;this.activate=function(e){t.trigger("DEACTIVATE_HANDLERS"),n.handle.activate(t,e)},this.deactivate=function(){jQuery.isFunction(n.handle.deactivate)&&n.handle.deactivate()}}var a={},l=new e.Router;return t.bind("DEACTIVATE_HANDLERS",function(){for(handler in a)a[handler].deactivate()}),{addRoutes:function(e){for(path in e){var t=new n(e[path]);l.addRoute(path,t.activate),a[path]=t}},start:function(){l.init()}}};return t.goTo=function(t){e.Router.routeTo(t)},t}),define("core/view-template",["./helpers/_helpers_"],function(e){var t=function(e,t,n,a){this.createView(e,t,n,a)};return t.setStyleText=function(t,n){e.Styler.attachCssText(t,n)},t.setStyleLink=function(t,n){e.Styler.attachCssLink(t,n)},t.prototype.getElementId=function(){return this.viewId},t.prototype.getJQueryElement=function(){return this.jQueryElement},t.prototype.getDomElement=function(){return this.jQueryElement.get(0)},t.prototype.appendTo=function(e){this.jQueryElement.appendTo(e)},t.prototype.remove=function(){this.jQueryElement.remove()},t.prototype.hide=function(){this.jQueryElement.hide()},t.prototype.show=function(){this.jQueryElement.show()},t.prototype.createView=function(t,n,a,l){n=e.Localizer.localize(n,a),this.viewId=_.uniqueId(["bpjscontainer_"]),this.jQueryElement=$("<span id='"+this.viewId+"'>"+n+"</span>"),e.Styler.attachScopedCss(this.jQueryElement,l),t&&t.append(this.jQueryElement)},t}),define("Boiler",["require","./core/context","./core/dom-controller","./core/url-controller","./core/view-template","./core/helpers/_helpers_"],function(e){return{Context:e("./core/context"),DomController:e("./core/dom-controller"),UrlController:e("./core/url-controller"),ViewTemplate:e("./core/view-template"),Helpers:e("./core/helpers/_helpers_")}}),define("settings",{appName:"Shelter"}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a="undefined"!=typeof location&&location.href,l=a&&location.protocol&&location.protocol.replace(/\:/,""),i=a&&location.hostname,r=a&&(location.port||void 0),s=[];define("text",[],function(){var d,o,c;return"undefined"!=typeof window&&window.navigator&&window.document?o=function(e,t){var n=d.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),o=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(o=function(e,t){var n,a,l=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),l=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(l),"utf-8")),r="";try{for(n=new java.lang.StringBuffer,(a=l.readLine())&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),n.append(a);null!==(a=l.readLine());)n.append(i),n.append(a);r=String(n.toString())}finally{l.close()}t(r)}),d={version:"0.27.0",strip:function(e){if(e){var e=e.replace(t,""),a=e.match(n);a&&(e=a[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(n=0;3>n;n++){a=e[n];try{t=new ActiveXObject(a)}catch(l){}if(t){e=[a];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:o,parseName:function(e){var t=!1,n=e.indexOf("."),a=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return-1!==n&&(t=e.substring(n+1,e.length),t="strip"===t,e=e.substring(0,n)),{moduleName:a,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,a){var l,i=d.xdRegExp.exec(e);return i?(e=i[2],i=i[3],i=i.split(":"),l=i[1],i=i[0],!(e&&e!==t||i&&i!==n||(l||i)&&l!==a)):!0},finishLoad:function(e,t,n,a,l){n=t?d.strip(n):n,l.isBuild&&l.inlineText&&(s[e]=n),a(n)},load:function(e,t,n,s){var o=d.parseName(e),c=o.moduleName+"."+o.ext,p=t.toUrl(c),u=s&&s.text&&s.text.useXhr||d.useXhr;!a||u(p,l,i,r)?d.get(p,function(t){d.finishLoad(e,o.strip,t,n,s)}):t([c],function(e){d.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n,s)})},write:function(e,t,n){if(t in s){var a=d.jsEscape(s[t]);n.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,n,a,l){var t=d.parseName(t),i=t.moduleName+"."+t.ext,r=n.toUrl(t.moduleName+"."+t.ext)+".js";d.load(i,n,function(){var t=function(e){return a(r,e)};t.asModule=function(e,t){return a.asModule(e,r,t)},d.write(e,i,t,l)},l)}}})}(),define("text!modules/baseModule/pageHeader/view.html",[],function(){return'<!-- top bar section -->\r\n<div class="row topbar">\r\n    <div class="wrapper">\r\n        <div class="one-col">\r\n            <div class="welcome">\r\n                <i class="icon-user"></i><span class="lblue">{{nls.lblWelcome}}</span> <span id="username" data-bind="text:userFullName"> </span>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class="two-of-three-col pull-right">\r\n            <ul class="topNav pull-right cfx">\r\n\r\n                <li class="cursor-pointer" data-bind="click:homeClick, style: {display: showHomeAndRefreshStyle}"><i class="icon-home"></i>{{nls.lblHome}}</li>\r\n                <li class="cursor-pointer" data-bind="click:refreshClick, style: {display: showHomeAndRefreshStyle}"><i class="icon-arrows-cw"></i>{{nls.lblRefresh}}</li>\r\n                <li ><a href="mailto:esf8help@la.gov"><i class="icon-mail-alt"></i>{{nls.lblContact}}</a></li>\r\n                <li ><a data-bind="click:helpClick"><i class="icon-help-circled"></i>{{nls.lblHelp}}</a></li>\r\n                <li data-bind=" click : logOutClick"> <i class="icon-logout"></i>{{nls.lblLogout}}</li>\r\n\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),function(){function e(e,t,n,a,l,i){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&a.push(l+e+"/"+i))}function t(e,t,n,a,l){t=a+t+"/"+l,require._fileExists(e.toUrl(t))&&n.push(t)}var n=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,a={};define("i18n",{version:"1.0.0",load:function(l,i,r,s){var d,o,s=s||{},c=n.exec(l),p=c[1],u=c[4],h=c[5],m=u.split("-"),f=[],v={},y="";if(c[5]?(p=c[1],l=p+h):(h=c[4],u=s.locale||(s.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),m=u.split("-")),s.isBuild){for(f.push(l),t(i,"root",f,p,h),d=0;o=m[d];d++)y+=(y?"-":"")+o,t(i,y,f,p,h);i(f,function(){r()})}else i([l],function(t){var n=[];for(e("root",t,n,f,p,h),d=0;o=m[d];d++)y+=(y?"-":"")+o,e(y,t,n,f,p,h);i(f,function(){var e,l;for(e=n.length-1;e>-1&&(o=n[e]);e--){l=t[o],(l===!0||1===l)&&(l=i(p+o+"/"+h));var s=v,d=void 0;for(d in l)!(d in a)&&!(d in s)&&(s[d]=l[d])}r(v)})})}})}(),define("modules/baseModule/pageHeader/nls/resources",{root:{lblHome:"Home",lblWelcome:"Welcome",lblRefresh:"Refresh",lblContact:"Contact",lblHelp:"Help",lblLogout:"Logout"}}),define("text!modules/baseModule/pageHeader/help/help.html",[],function(){return'<div id = "vwHelp"  class="imcommonhelp" >\r\n    <p>If you need assistance with Shelter application, entering or maintaining data about your Shelter, you can request help by emailing esf8help@la.gov.</p>\r\n</div>\r\n\r\n'}),define("modules/baseModule/pageHeader/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a,$ct.ht.getHelp())},userFullName:"",setUserFullName:function(e){a.set("userFullName",$ct.security.getUserName())},showHomeAndRefresh:!0,setHideHomeAndRefresh:function(){a.set("showHomeAndRefresh",!1)},showHomeAndRefreshStyle:function(){return a.get("showHomeAndRefresh")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},goToHome:function(){n.notify($ct.en.getDisplayTransportTypeList(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},homeClick:function(e){this.showHomeAndRefresh&&a.goToHome()},refreshClick:function(e){void 0!=n.parentContext.currentView?n.notify($ct.en.getRefreshView(),n.parentContext.currentView):$ct.helpers.displayAlertWindow("Current view not set")},initializeSecurity:function(){$ct.ds.common.getUserIdentityData(function(e){var t=$ct.mt.getErrorObject(e);return null!=t?void $ct.security.authenticationFailedAction():void 0==e.Data?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity.IsAuthenticated?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity.Roles?void $ct.security.authenticationFailedAction():e.Data.UserIdentity.IsAuthenticated?($ct.security.setUserIdentity(e.Data.UserIdentity),$ct.security.setRoles(),n.notify($ct.en.getUpdateSecuritySettings(),null),$ct.security.isValidRole()?($ct.helpers.hidePageBusyCursor(),void a.goToHome()):void $ct.security.authenticationFailedAction()):void $ct.security.authenticationFailedAction()})},logOutClick:function(e){$(document).ajaxError(null),window.location.href="logOut.aspx"}});return{data:a}};return n}),define("modules/baseModule/pageHeader/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,l){var i=function(e){var i,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){i&&i.data.setHideHomeAndRefresh()}),e.listen($ct.en.getGoToHome(),function(){i&&i.data.goToHome()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){i&&i.data.setUserFullName()}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),i=new l(e),kendo.bind(r.getDomElement(),i.data),i.data.initializeSecurity()),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/baseModule/mainMenu/view.html",[],function(){return'<nav class="app-nav" role="navigation" id="app-nav">\r\n    <ol class="app-nav__main">\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-user app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">\r\n                    Hi, P Prasad Ravi\r\n                </span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a">\r\n                        My Profile\r\n                    </a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:logOutClick">\r\n                        <!-- <span class="f-icon__nav-logout app-nav__main__li__a__icon" aria-hidden="true"></span> -->\r\n                        {{nls.lblLogout}}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-admin app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Admin</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:agencyListClick">Agency</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:departmentListClick">Department</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:medicalConditionListClick">Medical Condition</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:medicalConditionTierListClick">Medical Condition Tier</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterTypeListClick">Shelter Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:sheltreeEmployeeRatioListClick">Shelteree Employee Ratio</a>\r\n                </li>\r\n\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:staffSpecialtyListClick">Staff Specialty</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:stafftypeListClick">Staff Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:transportTypeListClick">Transportation Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:dispositionListClick">Disposition</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:equipmentSupplyListClick">Equipment Supply</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterIdentificationListClick">Shelter Identification</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <!-- <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" href="#/dashboard" ui-sref="dashboard">\r\n                <span class="f-icon__nav-dashboard app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Dashboard</span>\r\n            </a>\r\n        </li> -->\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-employee app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Employee</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeListClick">Employee List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeExpandedListClick">Employee Expanded List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeAttendanceClick">Employee Attendance</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-shelter app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Shelter</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterStatusClick">Shelter Status</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" data-bind="click:showActiveState">\r\n                <span class="f-icon__nav-transport app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Transportation</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a">Subnav Link1</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-reports app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Reports</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" href="">Subnav Link1</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" data-bind="click:helpClick">\r\n                <span class="f-icon__nav-help app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">{{nls.lblHelp}}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" href="mailto:esf8help@la.gov">\r\n                <span class="f-icon__nav-contact app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">{{nls.lblContact}}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-refresh app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Refresh</span>\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-logout app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Logout</span>\r\n            </a>\r\n        </li> -->\r\n    </ol>\r\n</nav>\r\n'}),define("modules/baseModule/mainMenu/nls/resources",{root:{status:"Status",admin:"Administration",lblHome:"Home",lblWelcome:"Welcome",lblRefresh:"Refresh",lblContact:"Contact",lblHelp:"Help",lblLogout:"Logout"}}),define("modules/baseModule/mainMenu/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({showMenu:!0,toggleSubnav:toggleMainNavActive,showActiveState:toggleSubNavActive,homeClick:function(e){this.showMenu&&t.notify($ct.en.getGoToHome())},transportTypeListClick:function(n){t.notify($ct.en.getDisplayTransportTypeList(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},agencyListClick:function(n){t.notify($ct.en.getDisplayAgencyList(),null),e.UrlController.goTo($ct.rn.getAgencyList())},departmentListClick:function(n){t.notify($ct.en.getDisplayDepartmentList(),null),e.UrlController.goTo($ct.rn.getDepartmentList())},medicalConditionListClick:function(n){t.notify($ct.en.getDisplayMedicalConditionList(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())},medicalConditionTierListClick:function(n){t.notify($ct.en.getDisplayMedicalConditionTierList(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())},shelterTypeListClick:function(n){t.notify($ct.en.getDisplayShelterTypeList(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())},sheltreeEmployeeRatioListClick:function(n){t.notify($ct.en.getDisplaySheltreeEmployeeRatioList(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())},staffSpecialtyListClick:function(n){t.notify($ct.en.getDisplayStaffSpecialtyList(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())},stafftypeListClick:function(n){t.notify($ct.en.getDisplayStaffTypeList(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())},dispositionListClick:function(n){t.notify($ct.en.getDisplayDispositionList(),null),e.UrlController.goTo($ct.rn.getDispositionList())},equipmentSupplyListClick:function(t){e.UrlController.goTo($ct.rn.getequipmentSupplyList())},shelterIdentificationListClick:function(t){e.UrlController.goTo($ct.rn.getshelterIdentificationList())},isEmployeeOrEmployeeExpandedListClicked:!1,employeeListClick:function(a){n.isEmployeeOrEmployeeExpandedListClicked?(t.notify($ct.en.getManageEmployeeClicked()),e.UrlController.goTo($ct.rn.getEmployeeList())):(t.notify($ct.en.getLoadEmployeeHeaderInfo(),$ct.rn.getEmployeeList()),n.isEmployeeOrEmployeeExpandedListClicked=!0)},employeeExpandedListClick:function(a){n.isEmployeeOrEmployeeExpandedListClicked?(t.notify($ct.en.getManageEmployeeExpandedClicked()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())):(t.notify($ct.en.getLoadEmployeeHeaderInfo(),$ct.rn.getEmployeeExtendedList()),n.isEmployeeOrEmployeeExpandedListClicked=!0)},employeeAttendanceClick:function(n){t.notify($ct.en.getEmployeeAttendenceList(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance())},shelterStatusClick:function(t){e.UrlController.goTo($ct.rn.getShelterStatus())},multifacilityEmployeeAttendanceClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeAttendance())},multifacilityEmployeeExtendedClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeExtendedList())},multifacilityEmployeeClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeList())}});return{data:n}};return t}),define("modules/baseModule/mainMenu/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,l){var i=function(e){var i,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){i&&i.data.setHideMenu()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),i=new l(e),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/baseModule/common/responseError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\r\n    <hr>\r\n    <div class="container">\r\n        <span data-bind="text: message"></span><br/>\r\n        <i class="icon-cancel-circle close-btn"></i>\r\n    </div>\r\n</div> -->\r\n\r\n<article class="message is-error">\r\n    <span class="message__icon" aria-hidden="true"></span>\r\n    <h4 class="message__title">Error</h4>\r\n    <p class="message__desc">Looks like somthing went wrong!</p>\r\n</article>\r\n'}),define("text!modules/baseModule/common/responseSuccess.htm",[],function(){return'\ufeff<!-- <div class="msg-block  pagesuccess">\r\n    <hr>\r\n    <div class="container">\r\n        <span data-bind="text: message"></span>\r\n    </div>\r\n</div> -->\r\n<article class="message is-success">\r\n    <span class="message__icon" aria-hidden="true"></span>\r\n    <h4 class="message__title">Success</h4>\r\n    <p class="message__desc">Your changes has been updated successfully</p>\r\n</article>\r\n'}),define("text!modules/baseModule/common/validationTmpl.htm",[],function(){return'\ufeff<!-- <div class="msg-block  pagevalidation">\r\n    <hr>\r\n    <div class="container">\r\n        <span data-bind="text: message"></span>\r\n    </div>\r\n</div> -->\r\n<article class="message is-alert">\r\n    <span class="message__icon" aria-hidden="true"></span>\r\n    <h4 class="message__title">Alert</h4>\r\n    <p class="message__desc">Please complete form with valid information</p>\r\n</article>\r\n'}),define("modules/baseModule/common/component",["Boiler","text!./responseError.htm","text!./responseSuccess.htm","text!./validationTmpl.htm"],function(e,t,n,a){var l=function(l){var i=null;$(document).bind($ct.en.getGoToNoPermissionPage(),function(t){l.notify($ct.en.getDoNotHavePermission(),null),e.UrlController.goTo($ct.rn.getNoPermission()),$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor()}),l.listen($ct.en.getShowValidationMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send validation message");var t=kendo.observable({message:e});$ct.helpers.sucessMsgShow(a,t)}),l.listen($ct.en.getShowSuccMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send succ message");var t=kendo.observable({message:e});$ct.helpers.sucessMsgShow(n,t)}),$(document).bind($ct.en.getShowErrorMsgJS(),function(e){(null===e.errorObj||void 0===e.errorObj)&&$ct.helpers.displayAlertWindow("Please send error object");var n=kendo.observable({message:e.errorObj.message});$ct.helpers.errorMsgShow(t,n)}),l.listen($ct.en.getShowErrorMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send error object"),(null===e.message||void 0===e.message)&&$ct.helpers.displayAlertWindow("Please send error message");var n=kendo.observable({message:e.message});$ct.helpers.errorMsgShow(t,n)}),l.listen($ct.en.getHideErrorMsg(),function(){$ct.helpers.hideErrorMsgWindow()}),this.activate=function(e){i&&i.show()},this.deactivate=function(){i&&i.hide()}};return l}),define("modules/baseModule/employeeHeader/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({selectedShelterNameItem:{},previousShelterName:"",hideShelterHeader:!0,isMultiShelterUser:!0,isGoButtonDisabled:!0,showDDLsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},showLabelsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},initializeEmployeeHeader:function(e){n.set("isMultiShelterUser",$ct.security.isMultiFacilityUser()),n.fillShelters(e)},dsShelterNames:function(){},isIntialLoad:!0,fillShelters:function(t){n.set("isGoButtonDisabled",!0);var a=$ct.ds.shlt.shelter.getSheltersWithDs(function(a){$ct.helpers.hidePageBusyCursor(),void 0!==a&&null!==a&&a.length>0&&(n.set("isGoButtonDisabled",!1),n.set("selectedShelterNameItem",a[0]),1==n.isIntialLoad&&($ct.helpers.hidePageBusyCursor(),n.set("hideShelterHeader",!1),n.set("isIntialLoad",!1),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setEmployeeHeaderDataToGlobalContext(),t==$ct.rn.getEmployeeList()?e.UrlController.goTo($ct.rn.getEmployeeList()):t==$ct.rn.getEmployeeExtendedList()?e.UrlController.goTo($ct.rn.getEmployeeExtendedList()):alert("Error in employee header : Not a valid view ")))});this.set("dsShelterNames",a)},ddlShelterNames:function(e){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setEmployeeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getEmployeeList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList()),
t.parentContext.activeForm==$ct.rn.getEmployeeExtendedList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeExtendedList())},goToManageEmployees:function(){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setEmployeeHeaderDataToGlobalContext(),t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList())},btnGoClick:function(e){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setEmployeeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getEmployeeList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList()),t.parentContext.activeForm==$ct.rn.getEmployeeExtendedList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeExtendedList())},setPreviouslySelectedShelterTypeAndShelterNameToCurrent:function(){n.set("previousShelterName",n.selectedShelterNameItem.Name)},setEmployeeHeaderDataToGlobalContext:function(){var e={};e.shelter=n.selectedShelterNameItem,t.parentContext.empHeaderData=e},intialize:function(){t.parentContext.empRequestData=n.get("empRequestData")},selectedItemsCount:0,empRequestData:kendo.observable({ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([]),SelectedIdsCount:0,OrigSelectedIdsCount:0,OrigCurPageSelectedIdsCount:0}),btnManageEmployeeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageEmployeeClicked()),e.UrlController.goTo($ct.rn.getEmployeeList())},btnManageEmployeeExpandedClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageEmployeeExpandedClicked()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())},btnUploadEmployeeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getUploadEmployee())},btnDownloadEmployeeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getDownloadEmployee())},btnDownloadEmployeeTemplateClick:function(){window.location.href=$ct.other.getEmployeeTemplateURL()},activateCurrentMenuItem:function(e){$(e.target.parentElement.parentElement).find(".item_nav_active").removeClass("item_nav_active"),$(e.target.parentElement).addClass("item_nav_active")}});return{data:n}};return t}),define("text!modules/baseModule/employeeHeader/view.html",[],function(){return'<div id="vwEmployeeHeader" class="employee-header">\r\n    <!-- nav list to filter table data -->\r\n    <ul id="activeNav" class="employee-header__nav-list">\r\n\r\n        <!-- <li><a id="vwehemployeelist" data-bind="click:btnManageEmployeeClick">{{nls.mnuEmployee}}</a></li>\r\n        <li><a id="vwehemployeeextendedlist" data-bind="click:btnManageEmployeeExpandedClick">{{nls.mnuEmployeeExpanded}}</a></li> -->\r\n        <li>\r\n            <button class="btn--secondary" data-bind="click:btnDownloadEmployeeTemplateClick">\r\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\r\n                {{nls.mnuDownloadTemplate}}\r\n            </button>\r\n        </li>\r\n        <li>\r\n            <button class="btn--secondary" id="vwehuploademployee" data-bind="click:btnUploadEmployeeDataClick">\r\n                <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                {{nls.mnuUploadData}}\r\n            </button>\r\n        </li>\r\n        <li>\r\n            <button class="btn--secondary" id="vwehdownloademployee" data-bind="click:btnDownloadEmployeeDataClick">\r\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\r\n                {{nls.mnuDownloadData}}\r\n            </button>\r\n        </li>\r\n    </ul>\r\n\r\n    <!--SHELTER HEADER START-->\r\n    <div id="vwehDDLs" class="employee-header__shelter">\r\n    <div class="employee-header__shelter-dropdown">\r\n        <label for="vwehDdlShelterNames" class="employee-header__shelter-dropdown__label">{{nls.lblShelter}}:</label>\r\n        <div class="custom-select employee-header__shelter-dropdown__select">\r\n            <select id="vwehDdlShelterNames"\r\n                    data-role="dropdownlist"\r\n                    data-bind="source:dsShelterNames,events:{change:ddlShelterNames},value:selectedShelterNameItem"\r\n                    data-text-field="Name"\r\n                    data-value-field="Id"></select>\r\n        </div>\r\n\r\n        <label class="employee-header__shelter-dropdown__value-label" hidden>-- All --</label>\r\n        <!-- <button class="btn" data-bind="disabled:isGoButtonDisabled, click:btnGoClick">{{nls.btnGo}}</button> -->\r\n    </div>\r\n\r\n    <div class="employee-header__shelter-event">\r\n        <div class="employee-header__shelter-event__name">\r\n            <span>Event Name:</span>\r\n            <strong>Hurricane Name Very Very Big For Testing</strong>\r\n        </div>\r\n        <div class="employee-header__shelter-event__duration">\r\n            <span>Duration:</span>\r\n            <strong> May 20 - May 30, 2016</strong>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<!-- <div class="row grid-select-container bg-border" data-bind=" style: {display: showLabelsInShelterHeader}">\r\n    <div class="full-col top-select-boxes no-margin-top">\r\n        <label class="facilityname">\r\n            <span class="label2">{{nls.lblShelter}}:</span>\r\n            <span data-bind="text:previousShelterName"></span>\r\n        </label>\r\n    </div>\r\n</div> -->\r\n<!-- <div id="vwehLabels" class="wrapper cfx">\r\n    <div class="row grid-select-container bg-border">\r\n        <div class="full-col top-select-boxes">\r\n            <label class="facilityname">\r\n                <span class="label2">{{nls.lblShelter}}\r\n                    :\r\n                </span>\r\n                <span data-bind="text:previousShelterName"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n<!--FACILITY HEADER END-->\r\n'}),define("modules/baseModule/employeeHeader/nls/resources",{root:{lblRegion:"Region",lblParish:"Parish",lblShelter:"Shelter Name",btnGo:"Go",mnuEmployee:"Employee",mnuEmployeeExpanded:"Employee Expanded",mnuUploadData:"Upload Data",mnuDownloadData:"Download Data",mnuDownloadTemplate:"Download Template"}}),define("modules/baseModule/employeeHeader/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getHideEmployeeHeader(),function(){$("#idxEmployeeHeader").hide()}),l.listen($ct.en.getHideEmployeeHeaderNavigation(),function(){$("#idxEmployeeHeader").show(),$("#activeNav").hide()}),l.listen($ct.en.getShowActiveEmployeeHeader(),function(){$("#idxEmployeeHeader").show(),$("#activeNav").show(),$("#vwEmployeeHeader").find(".item_nav_active").removeClass("item_nav_active"),void 0!=$("#vweh"+l.parentContext.activeForm)[0]&&$($("#vweh"+l.parentContext.activeForm)[0].parentElement).addClass("item_nav_active")}),l.listen($ct.en.getHideEmployeeShelterHeader(),function(){$("#idxEmployeeHeader").show(),$("#vwehDDLs").hide()}),l.listen($ct.en.getShowEmployeeShelterHeader(),function(){$("#idxEmployeeHeader").show(),$("#vwehDDLs").show()}),l.listen($ct.en.getLoadEmployeeHeaderInfo(),function(e){i&&i.data.initializeEmployeeHeader(e)}),l.listen($ct.en.getEmployeeMenuItemClicked(),function(){i&&i.data.goToManageEmployees()}),this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.intialize()),$("#vwehLabels").hide(),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/baseModule/alerts/view.html",[],function(){return'<article class="app-alerts">\r\n    <h2 class="app-alerts__title">\r\n        <span class="app-alerts__title__icon" aria-hidden="true"></span>\r\n        <span class="app-alerts__title__text">Alerts</span>\r\n    </h2>\r\n\r\n    <ol class="app-alerts__list">\r\n        <li class="app-alerts__list__item">\r\n            <span class="app-alerts__list__item__number">5</span>\r\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 2</span>\r\n        </li>\r\n        <li class="app-alerts__list__item">\r\n            <span class="app-alerts__list__item__number">3</span>\r\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 1</span>\r\n        </li>\r\n        <li class="app-alerts__list__item">\r\n            <span class="app-alerts__list__item__number">12</span>\r\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 4</span>\r\n        </li>\r\n        <li class="app-alerts__list__item">\r\n            <span class="app-alerts__list__item__number">8</span>\r\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 3</span>\r\n        </li>\r\n        <li class="app-alerts__list__item">\r\n            <span class="app-alerts__list__item__number">6</span>\r\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 5</span>\r\n        </li>\r\n    </ol>\r\n</article>\r\n'}),define("modules/baseModule/alerts/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/alerts/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showAlerts:!0});return{data:t}};return t}),define("modules/baseModule/alerts/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,l){var i=function(e){var i,r=null;this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),i=new l(e),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/baseModule/appLogo/view.html",[],function(){return'<div class="app-logo">\r\n    <a href="/" class="app-logo__link">MSNS logo</a>\r\n\r\n    <button class="app-logo__menu-collapse">\r\n        <span class="app-logo__menu-collapse-icon" aria-hidden="true"></span>\r\n        <span class="f-icon__text">Menu Collapse/Expand</span>\r\n    </button>\r\n</div>\r\n'}),define("modules/baseModule/appLogo/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/appLogo/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showAppLogo:!0});return{data:t}};return t}),define("modules/baseModule/appLogo/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,l){var i=function(e){var i,r=null;this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),i=new l(e),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/baseModule/footer/view.html",[],function(){return'<footer class="app-footer" role="contentinfo">\r\n    <p>\r\n        <span class="app-footer__copyright-text">&copy; <strong>ComTec</strong> Information Systems.</span>\r\n        <span class="app-footer__rights-text">All rights reserved 2016</span>\r\n    </p>\r\n</footer>\r\n\r\n<!-- <div id="ft" class="cfx">\r\n    <div class="wrapper cfx">\r\n        <div class="row">\r\n            <div class="two-col">\r\n                Copyright &copy; Shelter. All Rights Reserved 2012</div>\r\n            <div class="two-col pull-right  customInlineLi">\r\n\r\n                <ul data-bind=" attr: { class: showHideMenuWithPullRightClass, className:  showHideMenuWithPullRightClass }" class="pull-right cfx">\r\n\r\n                    <li  data-bind="click:homeClick, attr: { class: showHideMenuClass, className:  showHideMenuClass }"><a> {{nls.lblHome}} </a> :</li>\r\n\r\n                </ul>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n'}),define("modules/baseModule/footer/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/footer/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showMenu:!0,setHideMenu:function(){t.set("showMenu",!1)},showHideMenuWithPullRightClass:function(){return t.get("showMenu")?$ct.styles.getDisplayInlineBlockClass()+" pull-right":$ct.styles.getDisplayNoneImportantClass()},showHideMenuClass:function(){return t.get("showMenu")?$ct.styles.getDisplayInlineBlockClass():$ct.styles.getDisplayNoneImportantClass()},homeClick:function(t){this.showMenu&&e.notify($ct.en.getGoToHome())}});return{data:t}};return t}),define("modules/baseModule/footer/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,l){var i=function(e){var i,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){i&&i.data.setHideMenu()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),i=new l(e),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/baseModule/sheltereeHeader/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({selectedShelterNameItem:{},previousShelterName:"",hideShelterHeader:!0,isMultiShelterUser:!0,isGoButtonDisabled:!0,showDDLsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},showLabelsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},initializeSheltereeHeader:function(){n.set("isMultiShelterUser",$ct.security.isMultiFacilityUser()),n.populateShelterNames()},populateShelterNames:function(e){n.fillShelters()},dsShelterNames:function(){},isIntialLoad:!0,fillShelters:function(){n.set("isGoButtonDisabled",!0);var t=$ct.ds.shlt.shelter.getSheltersWithDs(function(t){$ct.helpers.hidePageBusyCursor(),void 0!==t&&null!==t&&t.length>0&&(n.set("isGoButtonDisabled",!1),n.set("selectedShelterNameItem",t[0]),1==n.isIntialLoad&&($ct.helpers.hidePageBusyCursor(),n.set("hideShelterHeader",!1),n.set("isIntialLoad",!1),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setSheltereeHeaderDataToGlobalContext(),e.UrlController.goTo($ct.rn.getSheltereeList())))});this.set("dsShelterNames",t)},ddlShelterNames:function(e){},goToManageShelterees:function(){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setSheltereeHeaderDataToGlobalContext(),t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeList())},btnGoClick:function(e){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setSheltereeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getSheltereeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeList()),t.parentContext.activeForm==$ct.rn.getSheltereeDischargeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeDischargeList()),t.parentContext.activeForm==$ct.rn.getSheltereeMedicalUpdateList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeMedicalUpdateList())},setPreviouslySelectedShelterTypeAndShelterNameToCurrent:function(){n.set("previousShelterName",n.selectedShelterNameItem.Name)},setSheltereeHeaderDataToGlobalContext:function(){var e={};e.shelter=n.selectedShelterNameItem,t.parentContext.sheltereeHeaderData=e},intialize:function(){t.parentContext.sheltereeRequestData=n.get("sheltereeRequestData")},selectedItemsCount:0,sheltereeRequestData:kendo.observable({ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([]),SelectedIdsCount:0,OrigSelectedIdsCount:0,OrigCurPageSelectedIdsCount:0}),btnManageSheltereeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeClicked()),e.UrlController.goTo($ct.rn.getSheltereeList())},btnManageSheltereeDischargeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeDischargeClicked()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())},btnManageSheltereeMedicalUpdateClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeMedicalUpdateClicked()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())},btnUploadSheltereeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getUploadShelteree())},btnDownloadSheltereeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getDownloadShelteree())},btnDownloadSheltereeTemplateClick:function(){window.location.href=$ct.other.getSheltereeTemplateURL()},activateCurrentMenuItem:function(e){$(e.target.parentElement.parentElement).find(".item_nav_active").removeClass("item_nav_active"),$(e.target.parentElement).addClass("item_nav_active")}});return{data:n}};return t}),define("text!modules/baseModule/sheltereeHeader/view.html",[],function(){return'<div id="vwSheltereeHeader" class="wrapper wrapper2">\r\n\r\n    <div class="paddingB0 cfx" style="background: #fff;">\r\n\r\n        <!--<div data-bind="text:objText">\r\n        </div>-->\r\n        <div class=" padding10">\r\n           <!-- <div class="menu-toparrow">\r\n            </div>\r\n            <div class="menu-topline">\r\n            </div>-->\r\n            <div class="item_parent" id="activeNav" style="display: block">\r\n\r\n                <!--\r\n                ID NAMING CONVENSION\r\n                vwshsheltereelist : id naming convetion is  vwsh + <route name of the form>\r\n                -->\r\n\r\n                <div class="item_nav item_nav_active ">\r\n                    <a id="vwshsheltereelist" data-bind="click:btnManageSheltereeClick">{{nls.mnuShelteree}}</a>\r\n                </div>\r\n\r\n                <div class="item_nav">\r\n                    <a id="vwshsheltereedischargelist" data-bind="click:btnManageSheltereeDischargeClick">{{nls.mnuSheltereeDischarge}}</a></div>\r\n                <div class="item_nav">\r\n                    <a id="vwshsheltereemedicalupdatelist" data-bind="click:btnManageSheltereeMedicalUpdateClick">{{nls.mnuSheltereeMedicalUpdate}}</a>\r\n                </div>\r\n                \r\n                <div class="item_nav">\r\n                    <a id="vwshuploadshelteree" data-bind="click:btnUploadSheltereeDataClick">{{nls.mnuUploadData}}</a></div>\r\n                <div class="item_nav">\r\n                    <a id="vwshdownloadshelteree" data-bind="click:btnDownloadSheltereeDataClick">{{nls.mnuDownloadData}}</a></div>\r\n                <div class="item_nav">\r\n                    <a  data-bind="click:btnDownloadSheltereeTemplateClick" >{{nls.mnuDownloadTemplate}}</a></div>\r\n                <div class="clear">\r\n                </div>\r\n                <div class="menu-bottomline">\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n<!--SHELTER HEADER START-->\r\n\r\n\r\n           <div id = "vwshDDLs" class="cfx marginB-10" style="background:#fff;">\r\n       <div class="padding10 marginT-20" data-bind="style: {display: showDDLsInShelterHeader}">\r\n       <div class="patientFilterDiv" >\r\n\r\n       \r\n       <div class="patientDropdownDiv">\r\n       <div class="paddingR10 patientDropdownLabel pull-left">\r\n           \r\n             \r\n             <!--<label for="vwphDdlFacilityTypes"><span class="label2">{{nls.lblFacilityType}}</span> </label>\r\n             </div>\r\n             <div class="paddingR10 mobilePatientselectWidth pull-left">\r\n                <select id="vwphDdlFacilityTypes" data-role="dropdownlist" class="select inputClass2" data-bind="source:dsFacilityTypes,events:{change:populateRegions},value:selectedFacilityTypeItem"\r\n                    data-text-field="Value" data-value-field="Key" />\r\n\r\n                    </div>-->\r\n\r\n             \r\n             <!--<div class="paddingR10 patientDropdownLabel pull-left">\r\n              <label for="vwphDdlRegions"><span class="label2">{{nls.lblRegion}}</span></label>\r\n              </div>\r\n\r\n              <div class="paddingR10 mobilePatientselectWidth pull-left">\r\n                <select id="vwphDdlRegions" data-role="dropdownlist" class="select inputClass2_region" data-bind="source:dsRegions,events:{change:populateParishes},value:selectedRegionItem"\r\n                    data-text-field="Value" data-value-field="Key" />\r\n\r\n                    </div>-->\r\n\r\n        </div>\r\n\r\n        <div class="patientDropdownDiv">\r\n              \r\n                <!--<div class="paddingR10 patientDropdownLabel pull-left">\r\n              <label for="vwphDdlParishes"><span class="label2">{{nls.lblParish}}</span></label>\r\n              </div>\r\n\r\n              <div class="paddingR10 mobilePatientselectWidth pull-left">\r\n                <select id="vwphDdlParishes" data-role="dropdownlist" class="select inputClass2" data-bind="source:dsParishes,events:{change:populateFacilityNames},value:selectedParishItem"\r\n                    data-text-field="Value" data-value-field="Key" />\r\n\r\n                    </div>-->\r\n              \r\n              <div class="paddingR10 patientDropdownLabel pull-left">\r\n               <label for="vwshDdlShelterNames"  class="facilityname"><span class="label2">{{nls.lblShelter}}</span></label>\r\n               </div>\r\n\r\n               <div class="paddingR10 mobilePatientselectWidth pull-left">\r\n                <select id="vwshDdlShelterNames" data-role="dropdownlist" class="select inputClass2_facility" data-bind="source:dsShelterNames,events:{change:ddlShelterNames},value:selectedShelterNameItem"\r\n                    data-text-field="Name" data-value-field="Id" />\r\n\r\n                </div>\r\n\r\n              \r\n              <div class="paddingR10 mobilePatientbuttonMargin pull-left">\r\n                <button class="btn" type="button" data-bind="disabled:isGoButtonDisabled, click:btnGoClick">\r\n                {{nls.btnGo}}</button>\r\n                </div>\r\n\r\n\r\n        </div>\r\n\r\n        \r\n        <div class="clear"></div>\r\n              \r\n            </div>\r\n\r\n            <div class="menu-bottomline">\r\n                </div>\r\n            </div>\r\n\r\n            <!--To display readonly header for user associated to single facility-->\r\n\r\n<div class="row grid-select-container bg-border" data-bind=" style: {display: showLabelsInShelterHeader}">\r\n       <div class="full-col top-select-boxes no-margin-top">\r\n             \r\n             <!--<label><span class="label2">{{nls.lblFacilityType}} : </span>                \r\n                    <span data-bind="text:previousFacilityType"></span>\r\n              </label>\r\n\r\n              <label><span class="label2">{{nls.lblRegion}} : </span>\r\n                    <span data-bind="text:previousRegionName"></span>\r\n              </label>\r\n\r\n              <label><span class="label2">{{nls.lblParish}} : </span>\r\n                    <span data-bind="text:previousParishName"></span>\r\n              </label>-->\r\n    \r\n               <label  class="facilityname"><span class="label2">{{nls.lblShelter}} : </span>\r\n                     <span data-bind="text:previousShelterName"></span>\r\n              </label>\r\n                            \r\n            </div>\r\n            </div>\r\n\r\n\r\n       </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n       <div id = "vwshLabels" class="wrapper cfx">\r\n       <div class="row grid-select-container bg-border">\r\n       <div class="full-col top-select-boxes">\r\n             \r\n             <!--<label><span class="label2">{{nls.lblFacilityType}} : </span>                \r\n                    <span data-bind="text:previousFacilityType"></span>\r\n              </label>\r\n\r\n              <label><span class="label2">{{nls.lblRegion}} : </span>\r\n                    <span data-bind="text:previousRegionName"></span>\r\n              </label>\r\n\r\n              <label><span class="label2">{{nls.lblParish}} : </span>\r\n                    <span data-bind="text:previousParishName"></span>\r\n              </label>-->\r\n    \r\n               <label  class="facilityname"><span class="label2">{{nls.lblShelter}} : </span>\r\n                     <span data-bind="text:previousShelterName"></span>\r\n              </label>\r\n                            \r\n            </div>\r\n            </div>\r\n       </div>\r\n\r\n\r\n<!--FACILITY HEADER END-->\r\n\r\n\r\n    \r\n</div>\r\n'}),define("modules/baseModule/sheltereeHeader/nls/resources",{root:{lblRegion:"Region",lblParish:"Parish",lblShelter:"Shelter Name",btnGo:"Go",mnuShelteree:"Shelteree",mnuSheltereeDischarge:"Shelteree Discharge",mnuSheltereeMedicalUpdate:"Shelteree Medical Update",mnuUploadData:"Upload Data",mnuDownloadData:"Download Data",mnuDownloadTemplate:"Download Template"}}),define("modules/baseModule/sheltereeHeader/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getHideSheltereeHeader(),function(){$("#idxSheltereeHeader").hide()}),l.listen($ct.en.getHideSheltereeHeaderNavigation(),function(){$("#idxSheltereeHeader").show(),$("#activeNav").hide()}),l.listen($ct.en.getShowActiveSheltereeHeader(),function(){$("#idxSheltereeHeader").show(),$("#activeNav").show(),$("#vwSheltereeHeader").find(".item_nav_active").removeClass("item_nav_active"),void 0!=$("#vwsh"+l.parentContext.activeForm)[0]&&$($("#vwsh"+l.parentContext.activeForm)[0].parentElement).addClass("item_nav_active")}),l.listen($ct.en.getHideSheltereeShelterHeader(),function(){$("#idxSheltereeHeader").show(),$("#vwshDDLs").hide()}),l.listen($ct.en.getShowSheltereeShelterHeader(),function(){$("#idxSheltereeHeader").show(),$("#vwshDDLs").show()}),l.listen($ct.en.getLoadSheltereeHeaderInfo(),function(){i&&i.data.initializeSheltereeHeader()}),l.listen($ct.en.getSheltereeMenuItemClicked(),function(){i&&i.data.goToManageShelterees()}),this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.intialize()),$("#vwshLabels").hide(),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/baseModule/module",["Boiler","./pageHeader/component","./mainMenu/component","./common/component","./employeeHeader/component","./alerts/component","./appLogo/component","./footer/component","./sheltereeHeader/component"],function(e,t,n,a,l,i,r,s,d){var o=function(o){var c=new e.Context(o),p=new e.DomController($("#page-content"));p.addRoutes({".page-header":new t(c),".main-menu":new n(c),".common-module":new a(c),".employee-header":new l(c),".app-alerts-wrap":new i(c),".app-logo-wrap":new r(c),".footer":new s(c),".shelteree-header":new d(c)}),p.start()};return o}),define("modules/adminModule/settings",{urls:{}}),define("text!modules/adminModule/agencyList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Agency  list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/agencyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Agency List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsAgency:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsAgency",$ct.ds.admin.agency.getAgencies(this))},searchAgencies:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshAgencyGrid:function(e){a.dsAgency.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},agencyEditUrl:function(e){return e?$ct.rn.getAgency()+"/"+$ct.constants.getNewRecordId():$ct.rn.getAgency()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.agencyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.agencyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.agency.deleteAgencyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsAgency.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getAgencyDeleteSuccessMsg()),a.dsAgency.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/agencyList/view.html",[],function(){return'\r\n\r\n\r\n<div id="vwAgencyList">\r\n    <!--View name : vwAgencyList-->\r\n    <!--Control id prefix : vwal-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerAgency}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwalTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchAgencies}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwalDgAgency" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsAgency, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwalRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} \r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vwalRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n\r\n';
}),define("modules/adminModule/agencyList/nls/resources",{root:{headerAgency:"Agency",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/agencyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getAgencyList()==e&&s()}),l.listen($ct.en.getAgencyCreatedOrUpdated(),function(){i&&i.data.refreshAgencyGrid()}),l.listen($ct.en.getDisplayAgencyList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getAgencyList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwAgencyList, #vwalDgAgency").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.agencyEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/agency/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Agency help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/agency/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Agency edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},agencyData:{},initialLoad:!1,DescriptionLength:4e3,agencyId:"",fillQueryParam:function(e){a.set("agencyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwAgency"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.agency.getAgencyById(this.agencyId,function(e){var t=e.Data;null===t.Agency&&(t.Agency={},t.Agency.Id=$ct.constants.getNewRecordId(),t.Agency.Name="",t.Agency.Description="",t.Agency.DisplayOrder=1),a.set("agencyData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.agencyData.Agency.set("Name",$.trim(this.agencyData.Agency.Name)),this.agencyData.Agency.set("Description",$.trim(this.agencyData.Agency.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwAgency").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.agencyData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.agency.saveAgency(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getAgencySuccessMsg()),n.notify($ct.en.getAgencyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getAgencyList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getAgencyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getAgencyList())},setValidClassForDisplayOrder:function(){return null!=a.get("agencyData.Agency.DisplayOrder")&&void 0!=a.get("agencyData.Agency.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/agency/view.html",[],function(){return'\r\n<div id="vwAgency">\r\n    <!--View name : vwAgency-->\r\n    <!--Control id prefix : vwa-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditAgency}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwaTbName" name="vwaTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:agencyData.Agency.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwaTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwaTaDescription" name="vwaTaDescription" class="form-element-with-label__inp" data-bind="value:agencyData.Agency.Description , attr:{maxlength: DescriptionLength}" required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwaTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwaTaDisplayOrder" name="vwaTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:agencyData.Agency.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwaTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("modules/adminModule/agency/nls/resources",{root:{headerAddEditAgency:"Add edit Agency",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/agency/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getAgency()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getAgency(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwAgency").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/departmentList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Department list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/departmentList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsDepartments:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsDepartments",$ct.ds.admin.department.getDepartments(this))},seachDepartments:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshDepartmentGrid:function(e){a.dsDepartments.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},departmentEditUrl:function(e){return e?$ct.rn.getDepartment()+"/"+$ct.constants.getNewRecordId():$ct.rn.getDepartment()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.departmentEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.departmentEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.department.deleteDepartmentById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsDepartments.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDepartmentDeleteSuccessMsg()),a.dsDepartments.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/departmentList/view.html",[],function(){return'\r\n<div id="vwDepartmentList">\r\n    <!--View name : vwDepartmentList-->\r\n    <!--Control id prefix : vwdl-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerDepartment}} \r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        \r\n                        <input type="text" \r\n                               class="search-label__inp"\r\n                               id="vwdlTxtSearch"\r\n                               placeholder="Search"\r\n                        data-bind="value:searchToken,events:{keyup:seachDepartments}"\r\n                        data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n        {{nls.btnEdit}}\r\n    </button>\r\n    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n        {{nls.btnDelete}}\r\n    </button> -->\r\n                </div>\r\n            </div>         \r\n            <div class="table-wrapper">\r\n                <table id="vwdlDgDepartmentList" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                    data-bind="source:dsDepartments, events: { change: rowSelectionChange }" data-role="grid"\r\n                    data-filterable="true"\r\n                    data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                    data-row-template="vwdlRow-template"\r\n                    data-selectable="true"\r\n                    data-columns="[\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                        {title:\'Delete\',width:\'70px\'},\r\n                        {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                        {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                        {field:\'AgenciesForDisplay\',title:\'{{nls.gdColAgenciesForDisplay}}\'} ,\r\n                        {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                        {field:\'UpdatedByUserName\',title:\'{{nls.gdColUpdatedByUserName}}\'},\r\n                        {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedOnValue}}\',filterable:false}\r\n                    ]"\r\n                    data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vwdlRow-template">\r\n        <tr>\r\n           \r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColAgenciesForDisplay}}">\r\n                <span data-bind="html: AgenciesForDisplay"></span>\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedByUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedOnValue}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n'}),define("modules/adminModule/departmentList/nls/resources",{root:{headerDepartment:"Department",lblSearch:"Search",gdColName:"Name",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColDescription:"Description",gdColAgenciesForDisplay:"Agencies",gdColDisplayOrder:"DisplayOrder",gdColUpdatedByUserName:"User Name",gdColUpdatedOnValue:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/departmentList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDepartmentList()==e&&s()}),l.listen($ct.en.getDepartmentCreatedOrUpdated(),function(){i&&i.data.refreshDepartmentGrid()}),l.listen($ct.en.getDisplayDepartmentList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDepartmentList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwDepartmentList, #vwdlDgDepartment").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.departmentEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/adminModule/department/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({departmentData:{},departmentData:{},agencyDepartments:[],departmentId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,agencyDepartmentId:-1,oldAgencyDepartmentId:-1,fillQueryParam:function(e){n.set("departmentId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwDepartment"),n.set("agencyDepartmentId",-1),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.department.getDepartmentById(this.departmentId,function(e){var t=e.Data;null===t.Department&&(t.Department={},t.Department.Id=$ct.constants.getNewRecordId(),t.Department.Name="",t.Department.Description="",t.Department.DisplayOrder=1,t.Department.AgencyDepartments=[],n.set("agencyDepartmentId",-1),n.set("oldAgencyDepartmentId",-1));$.each(t.AgencyLookupWithDepartmentData,function(e,t){1==t.IsSelected&&(n.set("agencyDepartmentId",t.AgencyId),n.set("oldAgencyDepartmentId",t.AgencyId))}),n.set("departmentData",t),n.set("agencyDepartments",t.AgencyLookupWithDepartmentData),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwDepartment").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==n.agencyDepartmentId)return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=n.departmentData.toJSON();l.Department.AgencyDepartments=[],$.each(n.agencyDepartments,function(e,t){if(n.agencyDepartmentId==n.oldAgencyDepartmentId){if(n.agencyDepartmentId==t.AgencyId){var a={};a.AgencyId=n.agencyDepartmentId,a.DepartmentId=n.departmentId,a.IsSelected=!0,a.IsNew=!1,a.Deleted=!1,a.Version=t.Version,l.Department.AgencyDepartments.push(a)}}else{if(n.oldAgencyDepartmentId==t.AgencyId){var i={};i.AgencyId=n.oldAgencyDepartmentId,i.DepartmentId=n.departmentId,i.IsSelected=!1,i.IsNew=!1,i.Deleted=!0,i.Version=t.Version,l.Department.AgencyDepartments.push(i)}if(n.agencyDepartmentId==t.AgencyId){var r={};r.AgencyId=n.agencyDepartmentId,r.DepartmentId=n.departmentId,r.IsSelected=!0,r.IsNew=!0,r.Deleted=!1,r.Version=t.Version,l.Department.AgencyDepartments.push(r)}}}),$ct.ds.admin.department.saveDepartment(l,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var l=$ct.mt.getErrorObject(a);null!=l?t.notify($ct.en.getShowErrorMsg(),l):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getDepartmentSuccessMsg()),t.notify($ct.en.getDepartmentCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDepartmentList())})},trimWhiteSpaces:function(){this.departmentData.Department.set("Name",$.trim(this.departmentData.Department.Name)),this.departmentData.Department.set("Description",$.trim(this.departmentData.Department.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getDepartmentCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDepartmentList())},setValidClassForDisplayOrder:function(){return null!=n.get("departmentData.Department.DisplayOrder")&&void 0!=n.get("departmentData.Department.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()},setClassForAgency:function(){return-1==n.get("selectedAgencyId")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():"emptycolor"},setValidationMsgForAgency:function(){return-1==n.get("agencyDepartmentId")&&0==n.get("initialLoad")?!1:!0}});return{data:n}};return t}),define("text!modules/adminModule/department/view.html",[],function(){return'<div id="vwDepartment">\r\n    <!--View name : vwDepartment-->\r\n    <!--Control id prefix : vwd-->\r\n\r\n    <div class="module cfx no-margin-top">\r\n        <h2 class="module-title">{{nls.headerAddEditDepartment}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input id="vwdTbName" name="vwdTbName" type="text" maxlength="250" class="form-element-with-label__inp"\r\n                    data-bind="value:departmentData.Department.Name"\r\n                    required validationmessage="{{nls.valmsgNameRequired}}" />\r\n                <span class="k-invalid-msg" data-for="vwbtTbName"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwdTaDescription" name="vwdTaDescription" class="form-element-with-label__inp"\r\n                    data-bind="value:departmentData.Department.Description,attr:{maxlength: DescriptionLength} "\r\n                    required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwdTaDescription"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwdTaDisplayOrder" name="vwdTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:departmentData.Department.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwdTaDisplayOrder"></span>\r\n            </label>\r\n\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblAgencies}}</span>\r\n                <ul class="form-list" data-template="vwdAgencyRow-template" data-bind="source:agencyDepartments"></ul>\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:setValidationMsgForAgency">\r\n                    <span class="k-icon k-warning"></span>Please select agency\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwdAgencyRow-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio" name="vwdRbAgency"\r\n                value="${AgencyId}" data-bind="checked:agencyDepartmentId">\r\n            <span class="radio-button__text" data-bind="text:AgencyName"></span>\r\n        </label>\r\n    </li>\r\n</script>\r\n'}),define("modules/adminModule/department/nls/resources",{root:{headerAddEditDepartment:"Add edit Department",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",lblAgencies:"Agencies",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/department/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDepartment()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDepartment(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwDepartment").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/medicalConditionList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>MedicalCondition list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/medicalConditionList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsMedicalConditions:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsMedicalConditions",$ct.ds.admin.medicalcondition.getMedicalconditions(this))},seachMedicalConditions:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshMedicalConditionsGrid:function(e){a.dsMedicalConditions.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},medicalConditionstEditUrl:function(e){return e?$ct.rn.getMedicalCondition()+"/"+$ct.constants.getNewRecordId():$ct.rn.getMedicalCondition()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.medicalConditionstEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.medicalConditionstEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.medicalcondition.deletegetMedicalConditionById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsMedicalConditions.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionDeleteSuccessMsg()),a.dsMedicalConditions.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionList/view.html",[],function(){return'\r\n\r\n\r\n\r\n<div id="vwMedicalConditionList">\r\n    <!--View name : vwMedicalConditionList-->\r\n    <!--Control id prefix : vwmcl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerMedicalCondition}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwmclTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:seachMedicalConditions}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwmclDgMedicalCondition" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsMedicalConditions, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwclRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                           {title:\'Edit\',width:\'60px\'},\r\n                           {title:\'Delete\',width:\'70px\'},\r\n                           {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                           {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                           {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                           {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\r\n                           {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwclRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n\r\n    </tr>\r\n</script>\r\n\r\n\r\n\r\n'}),define("modules/adminModule/medicalConditionList/nls/resources",{root:{headerMedicalCondition:"Medical Condition",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/medicalConditionList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionList()==e&&s()}),l.listen($ct.en.getMedicalConditionCreatedOrUpdated(),function(){i&&i.data.refreshMedicalConditionsGrid()}),l.listen($ct.en.getDisplayMedicalConditionList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMedicalConditionList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwMedicalConditionList, #vwmclDgMedicalCondition").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.medicalConditionstEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/adminModule/medicalCondition/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({medicalConditionData:{},medicalConditionId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,questionTypeLookUp:[],selectedQuestionTypeId:-1,fillQueryParam:function(e){n.set("medicalConditionId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwMedicalCondition"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),
$ct.ds.admin.medicalcondition.getMedicalConditionById(this.medicalConditionId,function(e){var t=e.Data;null===t.MedicalCondition&&(t.MedicalCondition={},t.MedicalCondition.Id=$ct.constants.getNewRecordId(),t.MedicalCondition.Name="",t.MedicalCondition.Description="",t.MedicalCondition.DisplayOrder=1,t.MedicalCondition.QuestionTypeId=-1),n.set("selectedQuestionTypeId",t.MedicalCondition.QuestionTypeId),n.set("questionTypeLookUp",t.QuestionTypesLookup),n.set("medicalConditionData",t),$ct.helpers.hideWorkAreaBusyCursor()})},setValidationMsgForQuestionType:function(){return null!=n.get("selectedQuestionTypeId")&&void 0!=n.get("selectedQuestionTypeId")&&-1!=n.get("selectedQuestionTypeId")||0!=n.get("initialLoad")?!0:!1},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwMedicalCondition").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==n.get("selectedQuestionTypeId"))return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=n.medicalConditionData.toJSON();l.MedicalCondition.QuestionTypeId=n.selectedQuestionTypeId,$ct.ds.admin.medicalcondition.saveMedicalCondition(l,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var l=$ct.mt.getErrorObject(a);null!=l?t.notify($ct.en.getShowErrorMsg(),l):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionSuccessMsg()),t.notify($ct.en.getMedicalConditionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())})},trimWhiteSpaces:function(){this.medicalConditionData.MedicalCondition.set("Name",$.trim(this.medicalConditionData.MedicalCondition.Name)),this.medicalConditionData.MedicalCondition.set("Description",$.trim(this.medicalConditionData.MedicalCondition.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getMedicalConditionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())},setValidClassForDisplayOrder:function(){return null!=n.get("medicalConditionData.MedicalCondition.DisplayOrder")&&void 0!=n.get("medicalConditionData.MedicalCondition.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/medicalCondition/view.html",[],function(){return'\r\n<div id="vwMedicalCondition">\r\n    <!--View name : vwMedicalCondition-->\r\n    <!--Control id prefix : vwmc-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditMedicalCondition}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwmcTbName" name="vwmcTbName" maxlength="250" class="form-element-with-label__inp" data-bind="value:medicalConditionData.MedicalCondition.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwmcTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwmcTaDescription" name="vwmcTaDescription" class="form-element-with-label__inp" data-bind="value:medicalConditionData.MedicalCondition.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}"  rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwmcTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwmcTaDisplayOrder" name="vwmcTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:medicalConditionData.MedicalCondition.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwmcTaDisplayOrder"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblQuestionTypes}}</span>\r\n                <ul class="form-list" data-template="vwmcQuestionTypeRow-template" data-bind="source:questionTypeLookUp"></ul>\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:setValidationMsgForQuestionType">\r\n                    <span class="k-icon k-warning"></span>Please select question type\r\n                </span>\r\n            </label>\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwmcQuestionTypeRow-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio" name="vwmcRbQuestionType"\r\n                   value="${Key}" data-bind="checked:selectedQuestionTypeId" />\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n'}),define("modules/adminModule/medicalCondition/nls/resources",{root:{headerAddEditMedicalCondition:"Add edit Medical Condition",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",lblQuestionTypes:"Question Types",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/medicalCondition/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalCondition()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMedicalCondition(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwMedicalCondition").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/medicalConditionTierList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>MedicalConditionTier list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/medicalConditionTierList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"MedicalConditionTier List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsMedicalConditionTier:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsMedicalConditionTier",$ct.ds.admin.medicalconditiontier.getMedicalConditionTiers(this))},searchMedicalConditionTiers:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshMedicalConditionTierGrid:function(e){a.dsMedicalConditionTier.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},medicalConditionTierEditUrl:function(e){return e?$ct.rn.getMedicalConditionTier()+"/"+$ct.constants.getNewRecordId():$ct.rn.getMedicalConditionTier()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.medicalConditionTierEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.medicalConditionTierEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.medicalconditiontier.deleteMedicalConditionTierById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsMedicalConditionTier.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionTierDeleteSuccessMsg()),a.dsMedicalConditionTier.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionTierList/view.html",[],function(){return'\r\n<div id="vwMedicalConditionTierList">\r\n    <!--View name : vwMedicalConditionTierList-->\r\n    <!--Control id prefix : vwmctl-->\r\n\r\n  <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerMedicalConditionTier}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwmctlTbSearch"\r\n                               placeholder="Search"\r\n                              data-bind="value:searchToken, events:{keyup:searchMedicalConditionTiers}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1150px"-->\r\n                <table id="vwmctlDgMedicalConditionTier" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table"\r\n                       data-bind="source:dsMedicalConditionTier, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwmctlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                        {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n          \r\n        </div>\r\n    </div>\r\n </div>\r\n<script type="text/x-kendo-template" id="vwmctlRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n    </tr>\r\n</script>\r\n\r\n'}),define("modules/adminModule/medicalConditionTierList/nls/resources",{root:{headerMedicalConditionTier:"Medical Condition Tier",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/medicalConditionTierList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionTierList()==e&&s()}),l.listen($ct.en.getMedicalConditionTierCreatedOrUpdated(),function(){i&&i.data.refreshMedicalConditionTierGrid()}),l.listen($ct.en.getDisplayMedicalConditionTierList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMedicalConditionTierList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwMedicalConditionTierList, #vwmctlDgMedicalConditionTier").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.medicalConditionTierEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/medicalConditionTier/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>MedicalConditionTier help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/medicalConditionTier/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"MedicalConditionTier edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},medicalConditionTierData:{},initialLoad:!1,DescriptionLength:4e3,medicalConditionTierId:"",fillQueryParam:function(e){a.set("medicalConditionTierId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwMedicalConditionTier"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.medicalconditiontier.getMedicalConditionTierById(this.medicalConditionTierId,function(e){var t=e.Data;null===t.MedicalConditionTier&&(t.MedicalConditionTier={},t.MedicalConditionTier.Id=$ct.constants.getNewRecordId(),t.MedicalConditionTier.Name="",t.MedicalConditionTier.Description="",t.MedicalConditionTier.DisplayOrder=1),a.set("medicalConditionTierData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.medicalConditionTierData.MedicalConditionTier.set("Name",$.trim(this.medicalConditionTierData.MedicalConditionTier.Name)),this.medicalConditionTierData.MedicalConditionTier.set("Description",$.trim(this.medicalConditionTierData.MedicalConditionTier.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwMedicalConditionTier").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.medicalConditionTierData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.medicalconditiontier.saveMedicalConditionTier(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionTierSuccessMsg()),n.notify($ct.en.getMedicalConditionTierCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getMedicalConditionTierCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())},setValidClassForDisplayOrder:function(){return null!=a.get("medicalConditionTierData.MedicalConditionTier.DisplayOrder")&&void 0!=a.get("medicalConditionTierData.MedicalConditionTier.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionTier/view.html",[],function(){return'\r\n<div id="vwMedicalConditionTier">\r\n    <!--View name : vwMedicalConditionTier---->\r\n    <!--Control id prefix : vwmct-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditMedicalConditionTier}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwmctTbName" name="vwmctTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:medicalConditionTierData.MedicalConditionTier.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwmctTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwmctTaDescription" name="vwmctTaDescription" class="form-element-with-label__inp" data-bind="value:medicalConditionTierData.MedicalConditionTier.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}"  rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwmctTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwmctTaDisplayOrder" name="vwmctTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:medicalConditionTierData.MedicalConditionTier.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwmctTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/medicalConditionTier/nls/resources",{root:{headerAddEditMedicalConditionTier:"Add edit Medical Condition Tier",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/medicalConditionTier/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionTier()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMedicalConditionTier(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwMedicalConditionTier").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/shelterTypeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Shelter Type list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/shelterTypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Type List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsShelterType:function(){this.fillGrid()},fillGrid:function(){this.set("dsShelterType",$ct.ds.admin.sheltertype.getShelterTypes(this))},searchShelterTypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshShelterTypeGrid:function(e){a.dsShelterType.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},shelterTypeEditUrl:function(e){return e?$ct.rn.getShelterType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getShelterType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.shelterTypeEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.shelterTypeEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.sheltertype.deleteShelterTypeById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterType.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterTypeDeleteSuccessMsg()),a.dsShelterType.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/shelterTypeList/view.html",[],function(){return'\r\n<div id="vwShelterTypeList">\r\n    <!--View name : vwShelterTypeList-->\r\n    <!--Control id prefix : vwshtl-->\r\n    <div class="module">\r\n        <h2 class="module-title">\r\n            {{nls.headerShelterTypeList}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwttlTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchShelterTypes}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n\r\n\r\n                <!--<div class="module-container">\r\n        <div class="row grid-select-container gridsearch">\r\n            <div class="two-of-three-col">\r\n                <label for="vwshtlTbSearch" class="search-label">\r\n                    <span class="label">{{nls.lblSearch}}:</span>\r\n                    <fieldset>\r\n                        <input type="text" id="vwshtlTbSearch" value="" data-bind="value:searchToken, events:{keyup:searchShelterTypes}"\r\n                               data-value-update="keyup" class="k-textbox searchIcon" />\r\n                    </fieldset>\r\n                </label>\r\n            </div>-->\r\n\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                   {{nls.btnEdit}}\r\n                   </button>\r\n                     <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                    {{nls.btnDelete}}\r\n                     </button> -->\r\n                </div>\r\n            </div>\r\n                        <!--<div class="one-col btn-container pull-right">\r\n                            <button class="btn" data-bind="click:btnAddClick" type="button">\r\n                                {{nls.btnAdd}}\r\n                            </button>\r\n                            <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                                {{nls.btnEdit}}\r\n                            </button>\r\n                            <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                                {{nls.btnDelete}}\r\n                            </button>\r\n\r\n                        </div>-->\r\n                    <!--</div>-->\r\n                    <div class="table-wrapper">\r\n                        <!--style="width:1000px"-->\r\n                        <table id="vwshtlDgShelterType" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                               data-bind="source:dsShelterType, events: { change: rowSelectionChange }" data-role="grid"\r\n                               data-filterable="true"\r\n                               data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                               data-row-template="vwshtlRow-template"\r\n                               data-selectable="true"\r\n                               data-columns="[{title:\'Edit\',width:\'60px\'},\r\n                                       {title:\'Delete\',width:\'70px\'},\r\n                                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                                       {field:\'StaffTypes\',title:\'{{nls.gdColStaffTypes}}\',width:\'250px\'},\r\n                                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                               data-pageable="true"></table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <script type="text/x-kendo-template" id="vwshtlRow-template">\r\n            <tr>\r\n                <td>\r\n                    <button class="btn-edit" data-bind="click:btnEditClick">\r\n                        <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Edit</span>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                        <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Delete</span>\r\n                    </button>\r\n                </td>\r\n                <td data-title="{{nls.gdColName}}">\r\n                    ${Name}\r\n                </td>\r\n                <td data-title="{{nls.gdColDescription}}">\r\n                    ${Description}\r\n                </td>\r\n                <td data-title="{{nls.gdColStaffTypes}}">\r\n                    <span data-bind="html: StaffTypesForDisplay"></span>\r\n                </td>\r\n                <td data-title="{{nls.gdColDisplayOrder}}">\r\n                    ${DisplayOrder}\r\n                </td>\r\n                <td data-title="{{nls.gdColUserName}}">\r\n                    ${UpdatedByUserName}\r\n                </td>\r\n                <td data-title="{{nls.gdColUpdatedDate}}">\r\n                    ${UpdatedOnValue}\r\n                </td>\r\n\r\n            </tr>\r\n        </script>\r\n'}),define("modules/adminModule/shelterTypeList/nls/resources",{root:{headerShelterTypeList:"Shelter Type",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColStaffTypes:"Staff Types",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/shelterTypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterTypeList()==e&&s()}),l.listen($ct.en.getShelterTypeCreatedOrUpdated(),function(){i&&i.data.refreshShelterTypeGrid()}),l.listen($ct.en.getDisplayShelterTypeList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getShelterTypeList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwShelterTypeList, #vwshtlDgShelterType").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.shelterTypeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide();
}};return l}),define("text!modules/adminModule/shelterType/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Shelter Type help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/shelterType/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Type edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},shelterTypeData:{},staffTypeShelterTypes:[],shelterTypeId:-1,initialLoad:!1,DescriptionLength:4e3,fillQueryParam:function(e){a.set("shelterTypeId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwShelterType"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltertype.getShelterTypeById(this.shelterTypeId,function(e){var t=e.Data;null===t.ShelterType&&(t.ShelterType={},t.ShelterType.Id=$ct.constants.getNewRecordId(),t.ShelterType.Name="",t.ShelterType.Description="",t.ShelterType.DisplayOrder=1),a.set("shelterTypeData",t),a.set("staffTypeShelterTypes",t.StaffTypeLookupWithShelterTypeData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.shelterTypeData.ShelterType.set("Name",$.trim(this.shelterTypeData.ShelterType.Name)),this.shelterTypeData.ShelterType.set("Description",$.trim(this.shelterTypeData.ShelterType.Description))},checkMappedStaffTypes:function(){if(a.get("initialLoad"))return!0;var e=!1;return $.each(a.get("staffTypeShelterTypes"),function(t,n){n.IsSelected&&(e=!0)}),e},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwShelterType").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.shelterTypeData.toJSON();l.ShelterType.ShelterTypeStaffTypes=a.staffTypeShelterTypes.toJSON();var i=!1;return $.each(l.ShelterType.ShelterTypeStaffTypes,function(e,t){t.IsSelected&&(i=!0)}),i?($ct.helpers.displayWorkAreaBusyCursor(),void $ct.ds.admin.sheltertype.saveShelterType(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterTypeSuccessMsg()),n.notify($ct.en.getShelterTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())})):void n.notify($ct.en.getShowValidationMsg(),"Please select atleast one staff type")},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getShelterTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())},setValidClassForDisplayOrder:function(){return null!=a.get("shelterTypeData.ShelterType.DisplayOrder")&&void 0!=a.get("shelterTypeData.ShelterType.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/shelterType/view.html",[],function(){return'\r\n\r\n\r\n<div id="vwShelterType">\r\n    <!--View name : vwShelterType-->\r\n    <!--Control id prefix : vwsht-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditShelterType}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwshtTbName" name="vwshtTbName" type="text" maxlength="250" class="form-element-with-label__inp" data-bind="value:shelterTypeData.ShelterType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwshtTbName"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwshtTaDescription" name="vwshtTaDescription" class="form-element-with-label__inp"\r\n                          data-bind="value:shelterTypeData.ShelterType.Description,attr:{maxlength: DescriptionLength}"\r\n                          required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwshtTaDescription"></span>\r\n            </label>\r\n\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwshtTbDisplayOrder" name="vwshtTbDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:shelterTypeData.ShelterType.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwshtTbDisplayOrder"></span>\r\n            </label>\r\n\r\n\r\n\r\n\r\n\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStaffTypes}}</span>\r\n                <ul class="form-list" data-template="vwshtRow-template" data-bind="source:staffTypeShelterTypes"></ul>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert"  data-bind="invisible:checkMappedStaffTypes">\r\n                    <span class="k-icon k-warning"></span> At least one staff Type should be selected.\r\n                </span>\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwshtRow-template">\r\n\r\n    <li>\r\n        <label class="checkbox">\r\n            <input  class="checkbox__inp" type="checkbox"\r\n                  data-bind="checked:IsSelected">\r\n            <span class="checkbox__text"  data-bind="text:StaffTypeName"></span>\r\n        </label>\r\n    </li>\r\n\r\n\r\n</script>\r\n'}),define("modules/adminModule/shelterType/nls/resources",{root:{headerAddEditShelterType:"Add edit Shelter Type",lblName:"Name",lblStaffTypes:"Staff Types",lblDisplayOrder:"Display Order",lblActive:"Active",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/shelterType/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterType()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getShelterType(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwShelterType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/sheltreeEmployeeRatioList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>SheltereeEmployeeRatio list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/sheltreeEmployeeRatioList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsSheltreeEmployeeRatio:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsSheltreeEmployeeRatio",$ct.ds.admin.sheltreeEmployeeRatio.getSheltreeEmployeeRatio(this))},searchSheltreeEmployeeRatio:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshSheltreeEmployeeRatioGrid:function(e){a.dsSheltreeEmployeeRatio.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},sheltreeEmployeeRatioEditUrl:function(e){return e?$ct.rn.getSheltreeEmployeeRatio()+"/"+$ct.constants.getNewRecordId():$ct.rn.getSheltreeEmployeeRatio()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.sheltreeEmployeeRatioEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltreeEmployeeRatioEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.sheltreeEmployeeRatio.deletesheltreeEmployeeRatioById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltreeEmployeeRatio.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeEmployeeDeleteSuccessMsg()),a.dsSheltreeEmployeeRatio.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/sheltreeEmployeeRatioList/view.html",[],function(){return'\r\n <div id="vwSheltreeEmployeeRatioList">\r\n    <!--View name : vwSheltreeEmployeeRatioList-->\r\n    <!--Control id prefix : vwserl-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerSheltreeEmployeeRatio}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwserlTxtSearch"\r\n                                placeholder="Search"\r\n                              data-bind="value:searchToken,events:{keyup:searchSheltreeEmployeeRatio}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwserlDgSheltreeEmployeeRatio" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsSheltreeEmployeeRatio, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwserlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                         {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                          {field:\'StaffSpecialityName\',title:\'{{nls.gdColName}}\' },\r\n                         {field:\'EmployeeCount\',title:\'{{nls.gdColEmployeecount}}\' },\r\n                         {field:\'SheltreeCount\',title:\'{{nls.gdColSheltreecount}}\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n\r\n                          ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n     <script type="text/x-kendo-template" id="vwserlRow-template">\r\n         <tr>\r\n             <td>\r\n                 <button class="btn-edit" data-bind="click:btnEditClick">\r\n                     <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                     <span class="f-icon__text">Edit</span>\r\n                 </button>\r\n             </td>\r\n             <td>\r\n                 <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                     <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                     <span class="f-icon__text">Delete</span>\r\n                 </button>\r\n             </td>\r\n             <td data-title="{{nls.gdColName}}">\r\n                 ${StaffSpecialityName}\r\n             </td>\r\n             <td data-title="{{nls.gdColEmployeecount}}">\r\n                 ${EmployeeCount}\r\n             </td>\r\n             <td data-title="{{nls.gdColSheltreecount}}">\r\n                 ${SheltreeCount}\r\n             </td>\r\n             <td data-title="{{nls.gdColUpdatedbyusername}}">\r\n                 ${UpdatedByUserName}\r\n             </td>\r\n             <td data-title="{{nls.gdColUpdatedon}}">\r\n                 ${UpdatedOnValue}\r\n             </td>\r\n         </tr>\r\n     </script>'}),define("modules/adminModule/sheltreeEmployeeRatioList/nls/resources",{root:{headerSheltreeEmployeeRatio:"Shelteree Employee Ratio",lblSearch:"Search",gdColName:" Staff Speciality Name",gdColEmployeecount:"Employee Count",gdColSheltreecount:"Shelteree Count",gdColStaffspecailityid:"Staffspecaility Id",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/sheltreeEmployeeRatioList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltreeEmployeeRatioList()==e&&s()}),l.listen($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),function(){i&&i.data.refreshSheltreeEmployeeRatioGrid()}),l.listen($ct.en.getDisplaySheltreeEmployeeRatioList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getSheltreeEmployeeRatioList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwSheltreeEmployeeRatioList, #vwserlDgSheltreeEmployeeRatio").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.sheltreeEmployeeRatioEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/sheltreeEmployeeRatio/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>SheltereeEmployeeRatio help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/sheltreeEmployeeRatio/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},sheltreeEmployeeRatioData:{},dsStaffSpeciality:[],sheltreeEmployeeRatioId:-1,selectedStaffSpeciality:{},initialLoad:!1,fillQueryParam:function(e){a.set("sheltreeEmployeeRatioId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwSheltreeEmployeeRatio"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltreeEmployeeRatio.getsheltreeEmployeeRatioById(this.sheltreeEmployeeRatioId,function(e){var t=e.Data;if(null===t.SheltreeEmployeeRatio&&(t.SheltreeEmployeeRatio={},t.SheltreeEmployeeRatio.EmployeeCount=null,t.SheltreeEmployeeRatio.SheltreeCount=null,t.SheltreeEmployeeRatio.StaffSpecialityId=-1),a.set("sheltreeEmployeeRatioData",t),a.set("dsStaffSpeciality",t.StaffSpecialityLookup),-1==t.SheltreeEmployeeRatio.StaffSpecialityId)a.set("selectedStaffSpeciality",t.StaffSpecialityLookup[0]);else{var n={};n.Key=t.SheltreeEmployeeRatio.StaffSpecialityId,a.set("selectedStaffSpeciality",n)}$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwSheltreeEmployeeRatio").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l={};l.SheltreeEmployeeRatioId=a.sheltreeEmployeeRatioId,a.sheltreeEmployeeRatioData.SheltreeEmployeeRatio.StaffSpecialityId=a.selectedStaffSpeciality.Key,l.SheltreeEmployeeRatio=a.sheltreeEmployeeRatioData.SheltreeEmployeeRatio.toJSON(),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltreeEmployeeRatio.savesheltreeEmployeeRatio(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeEmployeeSuccessMsg()),n.notify($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())},setValidClassForEmployeeCount:function(){return null!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount")&&void 0!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()},setValidClassForSheltreeCount:function(){return null!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount")&&void 0!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/sheltreeEmployeeRatio/view.html",[],function(){return'\r\n<div id="vwSheltreeEmployeeRatio">\r\n    <!--View name : vwSheltreeEmployeeRatio-->\r\n    <!--Control id prefix : vwser-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditSheltreeEmployeeRatio}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblEmployeeCount}}</span>\r\n                <input type="text" id="vwserTaEmployeeCount" name="vwserTaEmployeeCount" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgEmployeeCountRequired}}"\r\n                       data-bind="value:sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount" />\r\n                <span class="k-invalid-msg" data-for="vwserTaEmployeeCount"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblSheltreeCount}}</span>\r\n                <input type="text" id="vwserTaSheltreeCount" name="vwserTaSheltreeCount" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgSheltreeCountRequired}}"\r\n                       data-bind="value:sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount" />\r\n                <span class="k-invalid-msg" data-for="vwserTaSheltreeCount"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStaffspeciality}}</span>\r\n                <select id="vwserDdlStaffSpeciality" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsStaffSpeciality,value:selectedStaffSpeciality"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/sheltreeEmployeeRatio/nls/resources",{root:{headerAddEditSheltreeEmployeeRatio:"Add edit Shelteree Employee Ratio",lblName:"Name",lblEmployeeCount:"Employee Count",lblSheltreeCount:"Shelteree Count",lblStaffSpecailityId:"Staff Specaility Id",lblStaffspeciality:"Staff Speciality",valmsgNameRequired:"Name is required",valmsgEmployeeCountRequired:"EmployeeCount is required",valmsgSheltreeCountRequired:"SheltereeCount is required",valmsgStaffSpecailityIdRequired:"StaffSpecailityId is required",valmsgStaffspecialityRequired:"Please select Staffspeciality",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/sheltreeEmployeeRatio/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltreeEmployeeRatio()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getSheltreeEmployeeRatio(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwSheltreeEmployeeRatio").kendoValidator().data("kendoValidator");r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/staffSpecialtyList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Staff Specialty list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/staffSpecialtyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"StaffSpecialty List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsStaffSpecialty:function(){this.fillGrid()},fillGrid:function(){this.set("dsStaffSpecialty",$ct.ds.admin.staffspecialty.getStaffSpecialities(this))},searchStaffSpecialities:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshStaffSpecialtyGrid:function(e){a.dsStaffSpecialty.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},staffSpecialtyEditUrl:function(e){return e?$ct.rn.getStaffSpecialty()+"/"+$ct.constants.getNewRecordId():$ct.rn.getStaffSpecialty()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.staffSpecialtyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.staffSpecialtyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.staffspecialty.deleteStaffSpecialtyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsStaffSpecialty.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffSpecialtyDeleteSuccessMsg()),a.dsStaffSpecialty.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/staffSpecialtyList/view.html",[],function(){return'\r\n<div id="vwStaffSpecialtyList">\r\n    <!--View name : vwStaffSpecialtyList-->\r\n    <!--Control id prefix : vwssl-->  \r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerStaffSpecialtyList}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwsslTbSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken, events:{keyup:searchStaffSpecialities}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1000px"-->\r\n                <table id="vwsslDgStaffSpecialty" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsStaffSpecialty, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsslRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                                        {title:\'Edit\',width:\'60px\'},\r\n                                       {title:\'Delete\',width:\'70px\'},\r\n                                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                                       {field:\'MedicalConditions\',title:\'{{nls.gdColMedicalConditions}}\',width:\'250px\'},\r\n                                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n<script type="text/x-kendo-template" id="vwsslRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColMedicalConditions}}">\r\n            <span data-bind="html: MedicalConditionsForDisplay"></span>\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>'}),define("modules/adminModule/staffSpecialtyList/nls/resources",{root:{headerStaffSpecialtyList:"Staff Specialty",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColMedicalConditions:"Medical Conditions",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/staffSpecialtyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffSpecialtyList()==e&&s()}),l.listen($ct.en.getStaffSpecialtyCreatedOrUpdated(),function(){i&&i.data.refreshStaffSpecialtyGrid()}),l.listen($ct.en.getDisplayStaffSpecialtyList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getStaffSpecialtyList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwStaffSpecialtyList, #vwsslDgStaffSpecialty").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.staffSpecialtyEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/staffSpecialty/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Staff Specialty help</h1>\r\n</div>\r\n\r\n';
}),define("modules/adminModule/staffSpecialty/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"StaffSpecialty edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},staffSpecialtyData:{},medicalConditionStaffSpecialities:[],staffSpecialtyId:-1,initialLoad:!1,DescriptionLength:4e3,fillQueryParam:function(e){a.set("staffSpecialtyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwStaffSpecialty"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.staffspecialty.getStaffSpecialtyById(this.staffSpecialtyId,function(e){var t=e.Data;null===t.StaffSpeciality&&(t.StaffSpeciality={},t.StaffSpeciality.Id=$ct.constants.getNewRecordId(),t.StaffSpeciality.Name="",t.StaffSpeciality.Description="",t.StaffSpeciality.DisplayOrder=1),a.set("staffSpecialtyData",t),a.set("medicalConditionStaffSpecialities",t.MedicalConditionLookupWithStaffSpecialityData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.staffSpecialtyData.StaffSpeciality.set("Name",$.trim(this.staffSpecialtyData.StaffSpeciality.Name)),this.staffSpecialtyData.StaffSpeciality.set("Description",$.trim(this.staffSpecialtyData.StaffSpeciality.Description))},checkMappedMedicalConditions:function(){if(a.get("initialLoad"))return!0;var e=!1;return $.each(a.get("medicalConditionStaffSpecialities"),function(t,n){n.IsSelected&&(e=!0)}),e},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwStaffSpecialty").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.staffSpecialtyData.toJSON();l.StaffSpeciality.MedicalConditionStaffSpecialities=a.medicalConditionStaffSpecialities.toJSON();var i=!1;return $.each(l.StaffSpeciality.MedicalConditionStaffSpecialities,function(e,t){t.IsSelected&&(i=!0)}),i?($ct.helpers.displayWorkAreaBusyCursor(),void $ct.ds.admin.staffspecialty.saveStaffSpecialty(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffSpecialtySuccessMsg()),n.notify($ct.en.getStaffSpecialtyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())})):void n.notify($ct.en.getShowValidationMsg(),"Please select atleast one medical condition")},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getStaffSpecialtyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())},setValidClassForDisplayOrder:function(){return null!=a.get("staffSpecialtyData.StaffSpeciality.DisplayOrder")&&void 0!=a.get("staffSpecialtyData.StaffSpeciality.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/staffSpecialty/view.html",[],function(){return'\r\n<div id="vwStaffSpecialty">\r\n    <!--View name : vwStaffSpecialty-->\r\n    <!--Control id prefix : vwss-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditStaffSpecialty}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwssTbName" name="vwssTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:staffSpecialtyData.StaffSpeciality.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwssTbName"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwssTaDescription" name="vwssTaDescription" class="form-element-with-label__inp"\r\n                          data-bind="value:staffSpecialtyData.StaffSpeciality.Description,attr:{maxlength: DescriptionLength}"\r\n                          required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwssTaDescription"></span>\r\n            </label>\r\n\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwssTbDisplayOrder" name="vwssTbDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:staffSpecialtyData.StaffSpeciality.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwssTbDisplayOrder"></span>\r\n            </label>\r\n\r\n\r\n\r\n\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblMedticalConditions}}</span>\r\n                <ul class="form-list" data-template="vwssRow-template" data-bind="source:medicalConditionStaffSpecialities"></ul>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:checkMappedMedicalConditions">\r\n                    <span class="k-icon k-warning"></span> At least one medical condition should be selected.\r\n                </span>\r\n\r\n\r\n            </label>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwssRow-template">\r\n\r\n    <li>\r\n        <label class="checkbox">\r\n            <input class="checkbox__inp" type="checkbox"\r\n                   data-bind="checked:IsSelected">\r\n            <span class="checkbox__text" data-bind="text: MedicalConditionName"></span>\r\n        </label>\r\n    </li>\r\n\r\n\r\n</script>\r\n\r\n'}),define("modules/adminModule/staffSpecialty/nls/resources",{root:{headerAddEditStaffSpecialty:"Add edit Staff Specialty",lblName:"Name",lblMedticalConditions:"Medical Conditions",lblDisplayOrder:"Display Order",lblActive:"Active",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/staffSpecialty/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffSpecialty()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getStaffSpecialty(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwStaffSpecialty").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/stafftypeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Staff Type list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/stafftypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsStaffTypes:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsStaffTypes",$ct.ds.admin.stafftype.getStaffTypes(this))},seachStafftypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshStaffTypeGrid:function(e){a.dsStaffTypes.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},staffTypetEditUrl:function(e){return e?$ct.rn.getStaffType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getStaffType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.staffTypetEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.staffTypetEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.stafftype.deletegetStaffTypesById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsStaffTypes.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffTypeDeleteSuccessMsg()),a.dsStaffTypes.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/stafftypeList/view.html",[],function(){return'<div id="vwStaffTypeList">\r\n\r\n    <!--View name : vwTransportationTypeList-->\r\n    <!--Control id prefix : vwstl-->\r\n\r\n        <div class="module">\r\n            <!-- view title -->\r\n            <h2 class="module-title">\r\n                {{nls.headerStafftype}}\r\n\r\n                <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n            </h2>\r\n            <div class="module-container">\r\n                <div class="gridsearch">\r\n                    <div class="gridsearch__search-col">\r\n                        <label class="search-label">\r\n                            <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                            <input type="text"\r\n                                   class="search-label__inp"\r\n                                   id="vwstlTxtSearch"\r\n                                   placeholder="Search"\r\n                                   data-bind="value:searchToken,events:{keyup:seachStafftypes}"\r\n                                   data-value-update="keyup" />\r\n                        </label>\r\n                    </div>\r\n                    <div class="gridsearch__btns-col">\r\n                        <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                            <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n                        <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                            {{nls.btnEdit}}\r\n                        </button>\r\n                        <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                            {{nls.btnDelete}}\r\n                        </button> -->\r\n                    </div>\r\n                </div>\r\n                <div class="table-wrapper">\r\n                    <table id="vwstlDgStafftype" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                           data-bind="source:dsStaffTypes, events: { change: rowSelectionChange }" data-role="grid"\r\n                           data-filterable="true"\r\n                           data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                           data-row-template="vwstlRow-template"\r\n                           data-selectable="true"\r\n                           data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n                        ]"\r\n                           data-pageable="true"></table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <script type="text/x-kendo-template" id="vwstlRow-template">\r\n            <tr>\r\n                <td>\r\n                    <button class="btn-edit" data-bind="click:btnEditClick">\r\n                        <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Edit</span>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                        <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Delete</span>\r\n                    </button>\r\n                </td>\r\n                <td data-title="{{nls.gdColName}}">\r\n                    ${Name}\r\n                </td>\r\n                <td data-title="{{nls.gdColDescription}}">\r\n                    ${Description}\r\n                </td>\r\n\r\n                <td data-title="{{nls.gdColDisplayOrder}}">\r\n                    ${DisplayOrder}\r\n                </td>\r\n                <td data-title="{{nls.gdColUserName}}">\r\n                    ${UpdatedByUserName}\r\n                </td>\r\n                <td data-title="{{nls.gdColUpdatedDate}}">\r\n                    ${UpdatedOnValue}\r\n                </td>\r\n\r\n\r\n\r\n            </tr>\r\n        </script>'}),define("modules/adminModule/stafftypeList/nls/resources",{root:{headerStafftype:"Staff Type",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/stafftypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffTypeList()==e&&s()}),l.listen($ct.en.getStaffTypeCreatedOrUpdated(),function(){i&&i.data.refreshStaffTypeGrid()}),l.listen($ct.en.getDisplayStaffTypeList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getStaffTypeList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwStaffTypeList, #vwstlDgStafftype").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.staffTypetEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/adminModule/stafftype/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({staffTypeData:{},staffTypeId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,fillQueryParam:function(e){n.set("staffTypeId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwStaffType"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.stafftype.getStaffTypesById(this.staffTypeId,function(e){var t=e.Data;null===t.StaffType&&(t.StaffType={},t.StaffType.Id=$ct.constants.getNewRecordId(),t.StaffType.Name="",t.StaffType.Description="",t.StaffType.DisplayOrder=1),n.set("staffTypeData",t),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwStaffType").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=n.staffTypeData.toJSON();$ct.ds.admin.stafftype.saveStaffTypes(l,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var l=$ct.mt.getErrorObject(a);null!=l?t.notify($ct.en.getShowErrorMsg(),l):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffTypeSuccessMsg()),t.notify($ct.en.getStaffTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())})},trimWhiteSpaces:function(){this.staffTypeData.StaffType.set("Name",$.trim(this.staffTypeData.StaffType.Name)),this.staffTypeData.StaffType.set("Description",$.trim(this.staffTypeData.StaffType.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getStaffTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())},setValidClassForDisplayOrder:function(){return null!=n.get("staffTypeData.StaffType.DisplayOrder")&&void 0!=n.get("staffTypeData.StaffType.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/stafftype/view.html",[],function(){return'\r\n<div id="vwStaffType">\r\n    <!--View name : vwTransportationType-->\r\n    <!--Control id prefix : vwst-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditStaffType}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwstTbName" name="vwstTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:staffTypeData.StaffType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwstTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwstTaDescription" name="vwstTaDescription" class="form-element-with-label__inp" data-bind="value:staffTypeData.StaffType.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwstTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwstTaDisplayOrder" name="vwstTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:staffTypeData.StaffType.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwstTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n'}),define("modules/adminModule/stafftype/nls/resources",{root:{headerAddEditStaffType:"Add edit Staff Type",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/stafftype/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffType()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getStaffType(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwStaffType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/transportTypeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Transportation Type list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/transportTypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsTransportationTypeList:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsTransportationTypeList",$ct.ds.admin.transportationType.getTransportationTypes(this))},seachTransportationTypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshTransportationTypesGrid:function(e){a.dsTransportationTypeList.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},transportTypestEditUrl:function(e){return e?$ct.rn.getTransportType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getTransportType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.transportTypestEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.transportTypestEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&(this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.transportationType.deleteTransportationTypeById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsTransportationTypeList.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getTransportTypeDeleteSuccessMsg()),a.dsTransportationTypeList.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/transportTypeList/view.html",[],function(){return'<div id="vwTransportationTypeList">\r\n\r\n    <!--View name : vwTransportationTypeList-->\r\n    <!--Control id prefix : vwttl-->\r\n\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.header}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!-- <span class="search-label__text">{{nls.lblSearch}}:</span> -->\r\n                        <input type="text"\r\n                            class="search-label__inp"\r\n                            id="vwttlTxtSearch"\r\n                               placeholder="Search"\r\n                            data-bind="value:searchToken,events:{keyup:seachTransportationTypes}"\r\n                            data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n        {{nls.btnEdit}}\r\n    </button>\r\n    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n        {{nls.btnDelete}}\r\n    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwttlDgTransportationTypeList" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                        data-bind="source:dsTransportationTypeList, events: { change: rowSelectionChange }" data-role="grid"\r\n                        data-filterable="true"\r\n                        data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                        data-row-template="vwttlRow-template"\r\n                        data-selectable="true"\r\n                        data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n                        ]"\r\n                        data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vwttlRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete"  data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n</div>\r\n'}),define("modules/adminModule/transportTypeList/nls/resources",{root:{header:"Transportation Type",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/transportTypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getTransportTypeList()==e&&s()}),l.listen($ct.en.getTransportTypeCreatedOrUpdated(),function(){i&&i.data.refreshTransportationTypesGrid()}),l.listen($ct.en.getDisplayTransportTypeList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getTransportTypeList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwTransportationTypeList, #vwttlDgTransportationTypeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.transportTypestEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/adminModule/transportType/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({transportationTypeData:{},transportationTypeId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,fillQueryParam:function(e){n.set("transportationTypeId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwTransportationType"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.transportationType.getTransportationTypeById(this.transportationTypeId,function(e){var t=e.Data;null===t.TransportationType&&(t.TransportationType={},t.TransportationType.Id=$ct.constants.getNewRecordId(),t.TransportationType.Name="",t.TransportationType.Description="",t.TransportationType.DisplayOrder=1),n.set("transportationTypeData",t),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwTransportationType").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=n.transportationTypeData.toJSON();$ct.ds.admin.transportationType.saveTransportationType(l,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var l=$ct.mt.getErrorObject(a);null!=l?t.notify($ct.en.getShowErrorMsg(),l):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getTransportTypeSuccessMsg()),t.notify($ct.en.getTransportTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())})},trimWhiteSpaces:function(){this.transportationTypeData.TransportationType.set("Name",$.trim(this.transportationTypeData.TransportationType.Name)),this.transportationTypeData.TransportationType.set("Description",$.trim(this.transportationTypeData.TransportationType.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getTransportTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},
setValidClassForDisplayOrder:function(){return null!=n.get("transportationTypeData.TransportationType.DisplayOrder")&&void 0!=n.get("transportationTypeData.TransportationType.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/transportType/view.html",[],function(){return'<div id="vwTransportationType">\r\n    <!--View name : vwTransportationType-->\r\n    <!--Control id prefix : vwtt-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditStaffType}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwttTbName" name="vwstTbName" type="text" maxlength="250" class="form-element-with-label__inp" data-bind="value:transportationTypeData.TransportationType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwbtTbName"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwttTaDescription" name="vwttTaDescription" class="form-element-with-label__inp" data-bind="value:transportationTypeData.TransportationType.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwdTaDescription"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwttTaDisplayOrder" name="vwttTaDisplayOrder"  class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:transportationTypeData.TransportationType.DisplayOrder}" />\r\n                <span class="k-invalid-msg" data-for="vwttTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("modules/adminModule/transportType/nls/resources",{root:{headerAddEditStaffType:"Add edit Transportation Type",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/transportType/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getTransportType()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getTransportType(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwTransportationType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/dispositionList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Disposition  list help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/dispositionList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Disposition List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsDisposition:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsDisposition",$ct.ds.admin.disposition.getDispositions(this))},searchDispositions:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshDispositionGrid:function(e){a.dsDisposition.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},dispositionEditUrl:function(e){return e?$ct.rn.getDisposition()+"/"+$ct.constants.getNewRecordId():$ct.rn.getDisposition()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.dispositionEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.dispositionEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.disposition.deleteDispositionById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsDisposition.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDispositionDeleteSuccessMsg()),a.dsDisposition.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/dispositionList/view.html",[],function(){return'\r\n<div id="vwDispositionList">\r\n    <!--View name : vwDispositionList-->\r\n    <!--Control id prefix : vwdpl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerDisposition}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwdplTxtSearch"\r\n                                placeholder="Search"\r\n                              data-bind="value:searchToken, events:{keyup:searchDispositions}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwdplDgDisposition" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsDisposition,events:{change:rowSelectionChange}" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwdplRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[                      \r\n                       {title:\'Edit\',width:\'60px\'},\r\n                       {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'}\r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n    <script type="text/x-kendo-template" id="vwdplRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>'}),define("modules/adminModule/dispositionList/nls/resources",{root:{headerDisposition:"Disposition",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/dispositionList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDispositionList()==e&&s()}),l.listen($ct.en.getDispositionCreatedOrUpdated(),function(){i&&i.data.refreshDispositionGrid()}),l.listen($ct.en.getDisplayDispositionList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDispositionList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwDispositionList, #vwdplDgDisposition").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.dispositionEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/disposition/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Disposition help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/disposition/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Disposition edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dispositionData:{},initialLoad:!1,DescriptionLength:4e3,dispositionId:"",fillQueryParam:function(e){a.set("dispositionId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwDisposition"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.disposition.getDispositionById(this.dispositionId,function(e){var t=e.Data;null===t.Disposition&&(t.Disposition={},t.Disposition.Id=$ct.constants.getNewRecordId(),t.Disposition.Name="",t.Disposition.Description="",t.Disposition.DisplayOrder=1),a.set("dispositionData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.dispositionData.Disposition.set("Name",$.trim(this.dispositionData.Disposition.Name)),this.dispositionData.Disposition.set("Description",$.trim(this.dispositionData.Disposition.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwDisposition").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.dispositionData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.disposition.saveDisposition(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDispositionSuccessMsg()),n.notify($ct.en.getDispositionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDispositionList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getDispositionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDispositionList())},setValidClassForDisplayOrder:function(){return null!=a.get("dispositionData.Disposition.DisplayOrder")&&void 0!=a.get("dispositionData.Disposition.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/disposition/view.html",[],function(){return'\r\n<div id="vwDisposition">\r\n    <!--View name : vwDisposition-->\r\n    <!--Control id prefix : vwdp-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEdiDisposition}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwdpTbName" name="vwdpTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:dispositionData.Disposition.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwdpTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwdpTaDescription" name="vwdpTaDescription" class="form-element-with-label__inp" data-bind="value:dispositionData.Disposition.Description , attr:{maxlength: DescriptionLength} "  required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwdpTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwdpTaDisplayOrder" name="vwdpTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:dispositionData.Disposition.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwdpTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/disposition/nls/resources",{root:{headerAddEdiDisposition:"Add edit Disposition",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/disposition/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDisposition()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDisposition(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwDisposition").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/equipmentSupplyList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> equipment supply List help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/equipmentSupplyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsEquipmentSupply:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsEquipmentSupply",$ct.ds.admin.equipmentsupply.getEquipmentSupplies(this))},searchEquipmentSupply:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshEquipmentSupplyGrid:function(e){a.dsEquipmentSupply.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},equipmentSupplyEditUrl:function(e){return e?$ct.rn.getequipmentSupply()+"/"+$ct.constants.getNewRecordId():$ct.rn.getequipmentSupply()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.equipmentSupplyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.equipmentSupplyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.equipmentsupply.deleteEquipmentSupplyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEquipmentSupply.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getequipmentSupplyDeleteSuccessMsg()),a.dsEquipmentSupply.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/equipmentSupplyList/view.html",[],function(){return'\r\n \r\n\r\n\r\n<div id="vwEquipmentSupplyList">\r\n    <!--View name : vwEquipmentSupplyList-->\r\n    <!--Control id prefix : vwesl-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerEquipmentSupply}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vweslTxtSearch"\r\n                                placeholder="Search"\r\n                               data-bind="value:searchToken, events:{keyup:searchEquipmentSupply}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vweslDgEquipmentSupply" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsEquipmentSupply, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vweslRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} \r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vweslRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n\r\n'}),define("modules/adminModule/equipmentSupplyList/nls/resources",{root:{headerEquipmentSupply:"equipment supply",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/equipmentSupplyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getequipmentSupplyList()==e&&s()}),l.listen($ct.en.getEquipmentSupplyCreatedOrUpdated(),function(){i&&i.data.refreshEquipmentSupplyGrid()}),l.listen($ct.en.getDisplayEquipmentSupplyList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getequipmentSupplyList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwEquipmentSupplyList, #vweslDgEquipmentSupply").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.equipmentSupplyEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/equipmentSupply/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> equipment supply help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/equipmentSupply/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},equipmentSupplyData:{},initialLoad:!1,DescriptionLength:4e3,equipmentSupplyId:"",fillQueryParam:function(e){a.set("equipmentSupplyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwEquipmentSupply"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.equipmentsupply.getEquipmentSupplyById(this.equipmentSupplyId,function(e){var t=e.Data;null===t.EquipmentSupply&&(t.EquipmentSupply={},t.EquipmentSupply.Id=$ct.constants.getNewRecordId(),t.EquipmentSupply.Name="",t.EquipmentSupply.Description="",t.EquipmentSupply.DisplayOrder=1),a.set("equipmentSupplyData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.equipmentSupplyData.EquipmentSupply.set("Name",$.trim(this.equipmentSupplyData.EquipmentSupply.Name)),this.equipmentSupplyData.EquipmentSupply.set("Description",$.trim(this.equipmentSupplyData.EquipmentSupply.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwEquipmentSupply").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.equipmentSupplyData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.equipmentsupply.saveEquipmentSupply(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEquipmentSupplySuccessMsg()),n.notify($ct.en.getEquipmentSupplyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getequipmentSupplyList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getEquipmentSupplyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getequipmentSupplyList())},setValidClassForDisplayOrder:function(){return null!=a.get("equipmentSupplyData.EquipmentSupply.DisplayOrder")&&void 0!=a.get("equipmentSupplyData.EquipmentSupply.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/equipmentSupply/view.html",[],function(){return'\r\n<div id="vwEquipmentSupply">\r\n    <!--View name : vwEquipmentSupply-->\r\n    <!--Control id prefix : vwes-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditEquipmentSupply}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwesTbName" name="vwesTbName" maxlength="250" class="form-element-with-label__inp"  data-bind="value:equipmentSupplyData.EquipmentSupply.Name"  required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwesTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwesTaDescription" name="vwesTaDescription" class="form-element-with-label__inp" data-bind="value:equipmentSupplyData.EquipmentSupply.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwesTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwesTaDisplayOrder" name="vwesTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:equipmentSupplyData.EquipmentSupply.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwesTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/equipmentSupply/nls/resources",{root:{headerAddEditEquipmentSupply:"Add edit equipment supply",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/equipmentSupply/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){
$ct.rn.getequipmentSupply()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getequipmentSupply(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwEquipmentSupply").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/shelterIdentificationList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> shelter Identification List help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/shelterIdentificationList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Identification List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsShelterIdentification:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsShelterIdentification",$ct.ds.admin.shelterIdentification.getShelterIdentifications(this))},searchShelterIdentifications:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshShelterIdentificationGrid:function(e){a.dsShelterIdentification.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},shelterIdentificationEditUrl:function(e){return e?$ct.rn.getshelterIdentification()+"/"+$ct.constants.getNewRecordId():$ct.rn.getshelterIdentification()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.shelterIdentificationEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.shelterIdentificationEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.shelterIdentification.deleteShelterIdentificationById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterIdentification.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterIdentificationDeleteSuccessMsg()),a.dsShelterIdentification.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/shelterIdentificationList/view.html",[],function(){return'\r\n<div id="vwShelterIdentificationList">\r\n    <!--View name : vwShelterIdentificationList-->\r\n    <!--Control id prefix : vwsil-->\r\n\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headershelterIdentification}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->  \r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwsilTxtSearch"\r\n                                placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchShelterIdentifications}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick"  type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1150px"-->\r\n                <table id="vwsilDgShelterIdentification" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table"\r\n                       data-bind="source:dsShelterIdentification, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsilRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                       {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <script type="text/x-kendo-template" id="vwsilRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOn}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n'}),define("modules/adminModule/shelterIdentificationList/nls/resources",{root:{headershelterIdentification:"Shelter Identification",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/shelterIdentificationList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getshelterIdentificationList()==e&&s()}),l.listen($ct.en.getShelterIdentificationCreatedOrUpdated(),function(){i&&i.data.refreshShelterIdentificationGrid()}),l.listen($ct.en.getDisplayShelterIdentificationList(),function(){s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data))};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getshelterIdentificationList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),$("#vwShelterIdentificationList, #vwsilDgShelterIdentification").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.shelterIdentificationEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/adminModule/shelterIdentification/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> shelter identification  help</h1>\r\n</div>\r\n\r\n'}),define("modules/adminModule/shelterIdentification/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Identification edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},shelterIdentificationData:{},initialLoad:!1,DescriptionLength:4e3,shelterIdentificationId:"",fillQueryParam:function(e){a.set("shelterIdentificationId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwShelterIdentification"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.shelterIdentification.getShelterIdentificationById(this.shelterIdentificationId,function(e){var t=e.Data;null===t.ShelterIdentification&&(t.ShelterIdentification={},t.ShelterIdentification.Id=$ct.constants.getNewRecordId(),t.ShelterIdentification.Name="",t.ShelterIdentification.Description="",t.ShelterIdentification.DisplayOrder=1),a.set("shelterIdentificationData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.shelterIdentificationData.ShelterIdentification.set("Name",$.trim(this.shelterIdentificationData.ShelterIdentification.Name)),this.shelterIdentificationData.ShelterIdentification.set("Description",$.trim(this.shelterIdentificationData.ShelterIdentification.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwShelterIdentification").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.shelterIdentificationData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.shelterIdentification.saveShelterIdentification(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);null!=l?n.notify($ct.en.getShowErrorMsg(),l):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterIdentificationSuccessMsg()),n.notify($ct.en.getShelterIdentificationCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getshelterIdentificationList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getShelterIdentificationCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getshelterIdentificationList())},setValidClassForDisplayOrder:function(){return null!=a.get("shelterIdentificationData.ShelterIdentification.DisplayOrder")&&void 0!=a.get("shelterIdentificationData.ShelterIdentification.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/shelterIdentification/view.html",[],function(){return'\r\n<div id="vwShelterIdentification">\r\n    <!--View name : vwShelterIdentification-->\r\n    <!--Control id prefix : vwsi-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditShelterIdentification}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwsiTbName" name="vwsiTbName" maxlength="250" class="form-element-with-label__inp" data-bind="value:shelterIdentificationData.ShelterIdentification.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwsiTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwsiTaDescription" name="vwsiTaDescription" class="form-element-with-label__inp" data-bind="value:shelterIdentificationData.ShelterIdentification.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwsiTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwsiTaDisplayOrder" name="vwsiTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                      data-bind="value:shelterIdentificationData.ShelterIdentification.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwsiTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/shelterIdentification/nls/resources",{root:{headerAddEditShelterIdentification:"Add edit Shelter Identification",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/shelterIdentification/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getshelterIdentification()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getshelterIdentification(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.fillQueryParam(d),i.data.initialize();$("#vwShelterIdentification").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/adminModule/module",["Boiler","./settings","./agencyList/component","./agency/component","./departmentList/component","./department/component","./medicalConditionList/component","./medicalCondition/component","./medicalConditionTierList/component","./medicalConditionTier/component","./shelterTypeList/component","./shelterType/component","./sheltreeEmployeeRatioList/component","./sheltreeEmployeeRatio/component","./staffSpecialtyList/component","./staffSpecialty/component","./stafftypeList/component","./stafftype/component","./transportTypeList/component","./transportType/component","./dispositionList/component","./disposition/component","./equipmentSupplyList/component","./equipmentSupply/component","./shelterIdentificationList/component","./shelterIdentification/component"],function(e,t,n,a,l,i,r,s,d,o,c,p,u,h,m,f,v,y,g,b,S,w,D,C,k,E){var x=function(x){var _=new e.Context(x);_.addSettings(t);var T=new e.UrlController($(".appcontent"));T.addRoutes({agencylist:new n(_),"agency/{id}":new a(_),departmentlist:new l(_),"department/{id}":new i(_),medicalconditionlist:new r(_),"medicalcondition/{id}":new s(_),medicalconditiontierlist:new d(_),"medicalconditiontier/{id}":new o(_),sheltertypelist:new c(_),"sheltertype/{id}":new p(_),sheltreeemployeeratiolist:new u(_),"sheltreeemployeeratio/{id}":new h(_),staffspecialtylist:new m(_),"staffspecialty/{id}":new f(_),stafftypelist:new v(_),"stafftype/{id}":new y(_),transportationtypelist:new g(_),"transportationtype/{id}":new b(_),dispositionlist:new S(_),"disposition/{id}":new w(_),equipmentsupplylist:new D(_),"equipmentsupply/{id}":new C(_),shelteridentificationlist:new k(_),"shelteridentification/{id}":new E(_)}),T.start()};return x}),define("modules/otherModule/settings",{urls:{}}),define("text!modules/otherModule/noPermission/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Data cell help</h1>\r\n</div>\r\n\r\n'}),define("modules/otherModule/noPermission/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)}});return{data:a}};return n}),define("text!modules/otherModule/noPermission/view.html",[],function(){return'<div id="vwNoPermission">\r\n\r\n\r\n<div class="emptyscrmsgs">{{nls.lblNoPermission}}</div>\r\n\r\n\r\n</div>\r\n'}),define("modules/otherModule/noPermission/nls/resources",{root:{lblNoPermission:"You do not have enough permissions. Please contact administrator."}}),define("modules/otherModule/noPermission/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),l.notify($ct.en.getHideErrorMsg()),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/otherModule/module",["Boiler","./settings","./noPermission/component"],function(e,t,n){var a=function(a){var l=new e.Context(a);l.addSettings(t);var i=new e.UrlController($(".appcontent"));i.addRoutes({nopermission:new n(l)}),i.start()};return a}),define("modules/employeeModule/settings",{urls:{}}),define("text!modules/employeeModule/employeeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Employee  list help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/employeeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,agencyFilterLookUp:[],departmentFilterLookUp:[],shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],staffTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("empRequestData",n.parentContext.empRequestData)},empHeaderData:{shelter:{}},initializeEmployeeHeader:function(){a.set("empHeaderData",n.parentContext.empHeaderData),$ct.ds.emp.employee.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},empRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.empRequestData.ViewAll&&(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.empRequestData.ViewAll=!1,n.parentContext.empRequestData.ViewAll=!1,a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeEmployeeHeader(),this.fillGrid()},dsEmployeeList:function(){},fillGrid:function(){var e=$("#vwelDgEmployeeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsEmployeeList",$ct.ds.emp.employee.getEmployees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.agencyFilterLookUp=e.Data.AgencyLookupData,a.departmentFilterLookUp=e.Data.DepartmentLookupData,a.shelterFilterLookUp=e.Data.ShelterLookupData,a.shiftTimeFilterLookUp=e.Data.ShiftTimeLookupData,a.staffSpecialityFilterLookUp=e.Data.StaffSpecialityLookupData,a.staffTypeFilterLookUp=e.Data.StaffTypeLookupData,$("#vwelDgEmployeeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffTypeName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='AgencyName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.agencyFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='DepartmentName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.departmentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwelDgEmployeeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsEmployeeList").total()>0?$("#vwelBtnExcel").show():$("#vwelBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,n.parentContext.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,a.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,n.parentContext.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,a.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,n.parentContext.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,e.Data.HasCachedData&&a.empRequestData.ViewAll&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),$.each(e.Data.Employees,function(e,t){t.IsSelected&&a.get("empRequestData.SelectedEmployeeIds").push(t.Id)}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.deleteEmployeeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEmployeeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var l=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds");if($.inArray(a.selectedId,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(a.selectedId,i),1),$.inArray(a.selectedId,l)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(a.selectedId);var r=a.get("empRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("empRequestData.SelectedIdsCount",r-1)}n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeDeleteSuccessMsg())}a.dsEmployeeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchEmployees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwelChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,l)<0){a.get("empRequestData.SelectedEmployeeIds").push(e.data.Id);var i=a.get("empRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=0),a.set("empRequestData.SelectedIdsCount",i+1)}}else if($.inArray(e.data.Id,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(e.data.Id,l),1),$.inArray(e.data.Id,t)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(e.data.Id);var i=a.get("empRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),a.set("empRequestData.SelectedIdsCount",i-1)}var r=a.get("dsEmployeeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwEmployeeList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwEmployeeList").find("#chkAll").click(function(e){var t=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds"),i=$("#vwEmployeeList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("empRequestData.OrigSelectedIdsCount"),s=a.get("empRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(i).prop("checked",!0),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(i,t),1),$.inArray(i,l)<0&&a.get("empRequestData.SelectedEmployeeIds").push(i),r+=1}),0>r&&(r=0),a.set("empRequestData.SelectedIdsCount",r)}else{var d=a.get("empRequestData.SelectedIdsCount");$(i).prop("checked",!1),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(i,l),1),$.inArray(i,t)<0&&a.get("empRequestData.UnSelectedEmployeeIds").push(i),d-=1}),0>d&&(d=0),a.set("empRequestData.SelectedIdsCount",d)}var o=a.get("dsEmployeeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)})},refreshEmployeeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsEmployeeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.empRequestData.ViewAll=!0,a.empRequestData.FetchSelectedOnly=!1,a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.ViewAll=!0,n.parentContext.empRequestData.FetchSelectedOnly=!1,n.parentContext.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),a.set("empRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeEmployeeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.employeeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateEmployee())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.employeeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.exportEmployeesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},employeeEditUrl:function(e){return e?$ct.rn.getEmployee()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.empHeaderData.shelter.Id:$ct.rn.getEmployee()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/employeeModule/employeeList/view.html",[],function(){return'<div id="vwEmployeeList">\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">Employee List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container is-employee-section">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <input type="text" id="vwelTxtSearch" class="search-label__inp"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchEmployees}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary">\r\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\r\n                        <span data-bind="text:filterText"></span>\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnFilterOff}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper" id="vwelDgEmployeeListParent">\r\n                <table id="vwelDgEmployeeList"\r\n                       cellspacing="0"\r\n                       cellpadding="0"\r\n                       border="0"\r\n                       class="grid split-table customDataTable"\r\n                       data-bind="source:dsEmployeeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                       data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwelRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                       {width:\'40px\'},\r\n                       {title:\'Edit\',width:\'60px\'},\r\n                       {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'FacilityName\',title:\'Shelter Name\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                       {field:\'EmployeeRefId\',title:\'{{nls.gdColEmployeeRefId}}\', width:\'150px\'},\r\n                       {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                       {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                       {field:\'StaffTypeName\',title:\'{{nls.gdColStaffType}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                       {field:\'IsMedical\',title:\'{{nls.gdColIsMedical}}\' , width:\'150px\'},\r\n                       {field:\'AgencyName\',title:\'{{nls.gdColAgency}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                       {field:\'DepartmentName\',title:\'{{nls.gdColDepartment}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                       {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpecialty}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                       {field:\'ShiftTime\',title:\'{{nls.gdColShift}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                    ]"\r\n                       data-pageable="true"\r\n                       data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <span class="bold" style="position:relative; top:5px;">\r\n        <span>{{nls.lblShelterName}}\r\n        </span>\r\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\r\n    </span> -->\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwelRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vwelChkEmployee}" type="checkbox" data-item-type="child" data-id=${Id} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="Shelter Name">\r\n            ${FacilityName}\r\n        </td>\r\n        <td data-title="{{nls.gdColEmployeeRefId}}">\r\n            ${EmployeeRefId}\r\n        </td>\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColStaffType}}">\r\n            ${StaffTypeName}\r\n        </td>\r\n        <td data-title="{{nls.gdColIsMedical}}">\r\n            #= IsMedical ? \'Yes\' : \'No\' #\r\n        </td>\r\n        <td data-title="{{nls.gdColAgency}}">\r\n            ${AgencyName}\r\n        </td>\r\n        <td data-title="{{nls.gdColDepartment}}">\r\n            ${DepartmentName}\r\n        </td>\r\n        <td data-title="{{nls.gdColStaffSpecialty}}">\r\n            ${StaffSpecialityName}\r\n        </td>\r\n        <td data-title="{{nls.gdColShift}}">\r\n            ${ShiftTime}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n    </tr>\r\n</script>\r\n';
}),define("modules/employeeModule/employeeList/nls/resources",{root:{headerEmployee:"Employee",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColEmployeeRefId:"Employee Id",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColStaffType:"Staff Type",gdColIsMedical:"Is Medical",gdColAgency:"Agency",gdColDepartment:"Department",gdColStaffSpecialty:"Staff Specialty",gdColShift:"Shift",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/employeeModule/employeeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=!1;l.listen($ct.en.getManageEmployeeClicked(),function(){s=!0}),l.listen($ct.en.getEmployeeHeaderDataChanged(),function(e){$ct.rn.getEmployeeList()==e&&i&&i.data.shelterChange()}),l.listen($ct.en.getEmployeeCreatedOrUpdated(),function(){i&&(i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid())}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeList()==e&&i&&(i.data.initialize(),i.data.refreshEmployeeGrid())}),this.activate=function(d,o){l.parentContext.currentView=$ct.rn.getEmployeeList(),s&&r&&(s=!1,i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),i=new t(l),$("#vwEmployeeList, #vwelDgEmployeeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.employeeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data),i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid()),r.show(),l.parentContext.activeForm=$ct.rn.getEmployeeList(),l.notify($ct.en.getShowActiveEmployeeHeader(),null),l.notify($ct.en.getShowEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(i.data.setFetchSelectedDataParams(),r.hide())}};return l}),define("text!modules/employeeModule/employeeExtendedList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> EmployeeExtended list help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/employeeExtendedList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,agencyFilterLookUp:[],departmentFilterLookUp:[],shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],staffTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("empRequestData",n.parentContext.empRequestData)},empHeaderData:{shelter:{}},initializeEmployeeHeader:function(){a.set("empHeaderData",n.parentContext.empHeaderData),$ct.ds.emp.employee.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},empRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.empRequestData.ViewAll&&(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.empRequestData.ViewAll=!1,n.parentContext.empRequestData.ViewAll=!1,a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeEmployeeHeader(),this.fillGrid()},dsEmployeeExpandedList:function(){},fillGrid:function(){var e=$("#vweelDgEmployeeExtendedList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsEmployeeExpandedList",$ct.ds.emp.employee.getEmployeeExpandedList(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.agencyFilterLookUp=e.Data.AgencyLookupData,a.departmentFilterLookUp=e.Data.DepartmentLookupData,a.shelterFilterLookUp=e.Data.ShelterLookupData,a.shiftTimeFilterLookUp=e.Data.ShiftTimeLookupData,a.staffSpecialityFilterLookUp=e.Data.StaffSpecialityLookupData,a.staffTypeFilterLookUp=e.Data.StaffTypeLookupData,$("#vweelDgEmployeeExtendedListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffTypeName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='AgencyName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.agencyFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='DepartmentName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.departmentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vweelDgEmployeeExtendedList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsEmployeeExpandedList").total()>0?$("#vweelBtnExcel").show():$("#vweelBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,n.parentContext.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,a.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,n.parentContext.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,a.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,n.parentContext.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,e.Data.HasCachedData&&a.empRequestData.ViewAll&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),$.each(e.Data.ExpandedEmployees,function(e,t){t.IsSelected&&a.get("empRequestData.SelectedEmployeeIds").push(t.Id)}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.deleteEmployeeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEmployeeExpandedList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var l=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds");if($.inArray(a.selectedId,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(a.selectedId,i),1),$.inArray(a.selectedId,l)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(a.selectedId);var r=a.get("empRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("empRequestData.SelectedIdsCount",r-1)}n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeDeleteSuccessMsg())}a.dsEmployeeExpandedList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchEmployeeExpanded:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vweelChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,l)<0){a.get("empRequestData.SelectedEmployeeIds").push(e.data.Id);var i=a.get("empRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=0),a.set("empRequestData.SelectedIdsCount",i+1)}}else if($.inArray(e.data.Id,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(e.data.Id,l),1),$.inArray(e.data.Id,t)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(e.data.Id);var i=a.get("empRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),a.set("empRequestData.SelectedIdsCount",i-1)}var r=a.get("dsEmployeeExpandedList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwEmployeeExtendedList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwEmployeeExtendedList").find("#chkAll").click(function(e){var t=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds"),i=$("#vwEmployeeExtendedList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("empRequestData.OrigSelectedIdsCount"),s=a.get("empRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(i).prop("checked",!0),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(i,t),1),$.inArray(i,l)<0&&a.get("empRequestData.SelectedEmployeeIds").push(i),r+=1}),0>r&&(r=0),a.set("empRequestData.SelectedIdsCount",r)}else{var d=a.get("empRequestData.SelectedIdsCount");$(i).prop("checked",!1),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(i,l),1),$.inArray(i,t)<0&&a.get("empRequestData.UnSelectedEmployeeIds").push(i),d-=1}),0>d&&(d=0),a.set("empRequestData.SelectedIdsCount",d)}var o=a.get("dsEmployeeExpandedList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)})},refreshEmployeeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsEmployeeExpandedList.read(),$ct.helpers.hideWorkAreaBusyCursor()},btnFilterOffClick:function(){a.empRequestData.ViewAll=!0,a.empRequestData.FetchSelectedOnly=!1,a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.ViewAll=!0,n.parentContext.empRequestData.FetchSelectedOnly=!1,n.parentContext.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),a.set("empRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.employeeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateEmployeeExtended())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.employeeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.exportEmplyeesExpandedListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},employeeEditUrl:function(e){return e?$ct.rn.getEmployee()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.empHeaderData.shelter.Id:$ct.rn.getEmployee()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/employeeModule/employeeExtendedList/view.html",[],function(){return'<div id="vwEmployeeExtendedList">\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">Employee Expanded List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container is-employee-section">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <input type="text" id="vweelTxtSearch" class="search-label__inp"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchEmployeeExpanded}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary">\r\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\r\n                        <span data-bind="text : filterText"></span>\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnFilterOff}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper" id="vweelDgEmployeeExtendedListParent">\r\n                <table id="vweelDgEmployeeExtendedList"\r\n                       cellspacing="0"\r\n                       cellpadding="0"\r\n                       border="0"\r\n                       class="grid split-table customDataTable"\r\n                       data-bind="source:dsEmployeeExpandedList, events: { change: rowSelectionChange, dataBound:dsDataBoundEvent }"\r\n                       data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vweelRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                        {width:\'40px\'},\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                        {title:\'Delete\',width:\'70px\'},\r\n                        {field:\'FacilityName\',title:\'Shelter Name\', filterable: {multi:true, dataSource:[]} , width:\'250px\'},\r\n                        {field:\'EmployeeRefId\',title:\'{{nls.gdColEmployeeRefId}}\', width:\'150px\'},\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                        {field:\'MiddleName\',title:\'{{nls.gdColMiddleName}}\' , width:\'150px\'},\r\n                        {field:\'StaffTypeName\',title:\'{{nls.gdColStaffType}}\' , filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                        {field:\'IsMedical\',title:\'{{nls.gdColIsMedical}}\' , width:\'150px\'},\r\n                        {field:\'AgencyName\',title:\'{{nls.gdColAgency}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                        {field:\'DepartmentName\',title:\'{{nls.gdColDepartment}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                        {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpecialty}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                        {field:\'ShiftDate\',title:\'{{nls.gdColShiftDate}}\', filterable:false , width:\'150px\'},\r\n                        {field:\'ShiftTime\',title:\'{{nls.gdColShift}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                        {field:\'Status\',title:\'{{nls.gdColStatus}}\', width:\'150px\'},\r\n                        {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                        {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                    ]"\r\n                       data-pageable="true"\r\n                       data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <span class="bold" style="position:relative; top:5px;">\r\n        <span>{{nls.lblShelterName}}\r\n        </span>\r\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\r\n    </span> -->\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span>\r\n</script>\r\n<script type="text/x-kendo-template" id="vweelRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vweelChkEmployee}" type="checkbox" data-item-type="child" data-id=${Id} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="Shelter Name">\r\n            ${FacilityName}\r\n        </td>\r\n        <td data-title="{{nls.gdColEmployeeRefId}}">\r\n            ${EmployeeRefId}\r\n        </td>\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n                <td data-title="{{nls.gdColMiddleName}}">\r\n            ${MiddleName}\r\n        </td>\r\n        <td data-title="{{nls.gdColStaffType}}">\r\n            ${StaffTypeName}\r\n        </td>\r\n        <td data-title="{{nls.gdColIsMedical}}">\r\n            #= IsMedical ? \'Yes\' : \'No\' #\r\n        </td>\r\n        <td data-title="{{nls.gdColAgency}}">\r\n            ${AgencyName}\r\n        </td>\r\n        <td data-title="{{nls.gdColDepartment}}">\r\n            ${DepartmentName}\r\n        </td>\r\n        <td data-title="{{nls.gdColStaffSpecialty}}">\r\n            ${StaffSpecialityName}\r\n        </td>\r\n        <td data-title="{{nls.gdColShiftDate}}">\r\n            ${ShiftDateValue}\r\n        </td>\r\n        <td data-title="{{nls.gdColShift}}">\r\n            ${ShiftTime}\r\n        </td>\r\n        <td data-title="{{nls.gdColStatus}}">\r\n            ${Status}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n    </tr>\r\n</script>\r\n'}),define("modules/employeeModule/employeeExtendedList/nls/resources",{root:{headerEmployeeExtended:"Employee Extended",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColEmployeeRefId:"Employee Id",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColMiddleName:"Middle Name",gdColStaffType:"Staff Type",gdColIsMedical:"Is Medical",gdColAgency:"Agency",gdColStatus:"Status",gdColDepartment:"Department",gdColStaffSpecialty:"Staff Specialty",gdColShift:"Shift",gdColShiftDate:"Date",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/employeeModule/employeeExtendedList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=!1;l.listen($ct.en.getManageEmployeeExpandedClicked(),function(){s=!0}),l.listen($ct.en.getEmployeeHeaderDataChanged(),function(e){$ct.rn.getEmployeeExtendedList()==e&&i&&i.data.shelterChange()}),l.listen($ct.en.getEmployeeExpandedCreatedOrUpdated(),function(){i&&(i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid())}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeExtendedList()==e&&i&&(i.data.initialize(),i.data.refreshEmployeeGrid())}),this.activate=function(d,o){l.parentContext.currentView=$ct.rn.getEmployeeExtendedList(),s&&r&&(s=!1,i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),i=new t(l),$("#vwEmployeeExtendedList, #vwelDgEmployeeExtendedList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.employeeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data),i.data.initialize(),i.data.initializeEmployeeHeader(),i.data.fillGrid()),r.show(),l.parentContext.activeForm=$ct.rn.getEmployeeExtendedList(),l.notify($ct.en.getShowActiveEmployeeHeader()),l.notify($ct.en.getShowEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(i.data.setFetchSelectedDataParams(),r.hide())}};return l}),define("text!modules/employeeModule/employee/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Employee help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/employee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Employee edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},selectedStaffType:{},selectedShift:{},selectedDepartment:{},selectedStaffSpecialty:{},dsStaffTypes:[],dsShifts:[],dsDepartments:[],dsStaffSpecialties:[],initialLoad:!1,employeeId:"",employeeData:{},ShelterName:"",ShelterId:"",fillQueryParam:function(e){a.set("employeeId",e.id),a.set("ShelterId",e.shelterId),a.set("ShelterName",n.parentContext.empHeaderData.shelter.Name);var t={};t.Id=e.shelterId,a.set("selectedShelterItem",t),this.initialize()},initialize:function(){$ct.helpers.clearValidations("vwEmployee")},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("initialLoad",!0),n.notify($ct.en.getHideErrorMsg());$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){var n={};n.Id=-1,n.Name="--Select--",t.splice(0,0,n),a.set("dsShelters",t),a.loadEmployeeData()}})},isEditModeOrSingleShelterUser:function(e){return a.get("employeeId")===$ct.constants.getemptyGUID()&&$ct.security.isMultiFacilityUser()?!1:!0},loadEmployeeData:function(){$ct.helpers.clearValidations("vwEmployee"),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.getEmployeeById(this.employeeId,function(e){var t=e.Data,n={},l={},i={},r={};null===t.Employee?(t.Employee={},t.Employee.Id=$ct.constants.getemptyGUID(),t.Employee.EmployeeRefId="",t.Employee.FirstName="",t.Employee.LastName="",t.Employee.MiddleName="",t.Employee.IsMedical=!0,n.Key=-1,l.Key=-1,i.Key=-1,i.AgencyName="",r.Key=-1):(null==t.Employee.StaffTypeId?n.Key=-1:n.Key=t.Employee.StaffTypeId,null==t.Employee.ShiftId?l.Key=-1:l.Key=t.Employee.ShiftId,null==t.Employee.DeparmentId?i.Key=-1:i.Key=t.Employee.DeparmentId,$.each(t.EmployeeLookupData.AgencyDepartmentData,function(e,n){n.Key==t.Employee.DeparmentId&&(i.AgencyName=n.AgencyName)}),null==t.Employee.StaffSpecialtyId?r.Key=-1:r.Key=t.Employee.StaffSpecialtyId),a.set("employeeData",t),a.set("selectedStaffType",n),a.set("selectedShift",l),a.set("selectedDepartment",i),a.set("selectedStaffSpecialty",r),a.set("dsStaffTypes",t.EmployeeLookupData.StaffTypeData),a.set("dsShifts",t.EmployeeLookupData.ShiftTimeData),a.set("dsDepartments",t.EmployeeLookupData.AgencyDepartmentData),a.set("dsStaffSpecialties",t.EmployeeLookupData.StaffSpecialityData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.employeeData.Employee.set("FirstName",$.trim(this.employeeData.Employee.FirstName)),this.employeeData.Employee.set("LastName",$.trim(this.employeeData.Employee.LastName))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwEmployee").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedStaffType.Key)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedDepartment.Key)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedShelterItem.Id)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var l=a.employeeData.toJSON();-1==a.selectedShift.Key?l.Employee.ShiftId=null:l.Employee.ShiftId=a.selectedShift.Key,-1==a.selectedStaffSpecialty.Key?l.Employee.StaffSpecialtyId=null:l.Employee.StaffSpecialtyId=a.selectedStaffSpecialty.Key,l.Employee.StaffTypeId=a.selectedStaffType.Key,l.Employee.DeparmentId=a.selectedDepartment.Key,l.Employee.FacilityId=a.selectedShelterItem.Id,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.saveEmployee(l,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);return null!=l?void n.notify($ct.en.getShowErrorMsg(),l):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeSuccessMsg()),"employeeextendedlist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated(),null),"employeelist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeCreatedOrUpdated(),null),void e.UrlController.goTo(n.parentContext.activeForm))})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),"employeeextendedlist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated(),null),"employeelist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeCreatedOrUpdated(),null),e.UrlController.goTo(n.parentContext.activeForm)},setClassForStaffType:function(){return-1==a.selectedStaffType.get("Key")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForStaffType:function(){return-1==a.selectedStaffType.get("Key")&&0==a.get("initialLoad")?!1:!0},setClassForDepartment:function(){return-1==a.selectedDepartment.get("Key")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForDepartment:function(){return-1==a.selectedDepartment.get("Key")&&0==a.get("initialLoad")?!1:!0},setClassForShelterName:function(){return-1==a.selectedShelterItem.get("Id")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForShelterName:function(){return-1==a.selectedShelterItem.get("Id")&&0==a.get("initialLoad")?!1:!0}});return{data:a}};return n}),define("text!modules/employeeModule/employee/view.html",[],function(){return'<div id="vwEmployee">\r\n    <!--View name : vwEmployee-->\r\n    <!--Control id prefix : vwe-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditEmployee}}</h2>\r\n        <div class="module-container l--two-column">\r\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblShelterName}}</span>\r\n                    <div class="custom-select" data-bind="attr: { class: setClassForShelterName, className:setClassForShelterName}">\r\n                        <select id="vweDdlShelters"\r\n                                data-role="dropdownlist"\r\n                                data-bind="source:dsShelters,value:selectedShelterItem, disabled: isEditModeOrSingleShelterUser"\r\n                                data-text-field="Name"\r\n                                data-value-field="Id" required />\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForShelterName">Please select shelter name</span>\r\n                    </div>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblFirstName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                           id="vweTbFirstName" name="vweTbFirstName" required\r\n                           validationmessage="{{nls.valmsgFNRequired}}"\r\n                           data-bind="value:employeeData.Employee.FirstName" />\r\n                    <span class="k-invalid-msg" data-for="vweTbFirstName"></span>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblLastName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" id="vweTbLastName"\r\n                           name="vweTbLastName" required validationmessage="{{nls.valmsgLNRequired}}" data-bind="value:employeeData.Employee.LastName" maxlength="250" />\r\n                    <span class="k-invalid-msg" data-for="vweTbLastName"></span>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblShift}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vweDdlShifts" data-role="dropdownlist"\r\n                                data-bind="source:dsShifts, value:selectedShift"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                    </div>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblStaffSpecialty}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vweDdlStaffSpecialties" data-role="dropdownlist"\r\n                                data-bind="source:dsStaffSpecialties, value:selectedStaffSpecialty"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                    </div>\r\n                </label>\r\n                <span class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblIsMedical}}</span>\r\n                    <ul class="form-list">\r\n                        <li>\r\n                            <label class="radio-button">\r\n                                <input class="radio-button__inp" name="vweRbVent" type="radio"\r\n                                       value="true" data-bind="checked:employeeData.Employee.IsMedical">\r\n                                <span class="radio-button__text">Yes</span>\r\n                            </label>\r\n                        </li>\r\n                        <li>\r\n                            <label class="radio-button">\r\n                                <input class="radio-button__inp" name="vweRbVent" type="radio"\r\n                                       value="false" data-bind="checked: employeeData.Employee.IsMedical">\r\n                                <span class="radio-button__text">No</span>\r\n                            </label>\r\n                        </li>\r\n                    </ul>\r\n                </span>\r\n            </div>\r\n            <div class="column-two">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblEmployeeId}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" id="vweTbEmployeeId" name="vweTbEmployeeId"\r\n                           data-bind="value:employeeData.Employee.EmployeeRefId" maxlength="250" />\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblMiddleName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" id="vweTbMiddleName" name="vweTbMiddleName"\r\n                           data-bind="value:employeeData.Employee.MiddleName" maxlength="2" />\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblStaffType}}</span>\r\n                    <div class="custom-select" data-bind="attr: { class: setClassForStaffType, className:setClassForStaffType}">\r\n                        <select id="vweDdlStaffTypes" data-role="dropdownlist" data-bind="source:dsStaffTypes, value:selectedStaffType"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"\r\n                              data-bind="invisible:setValidationMsgForStaffType">Please select staff type</span>\r\n                    </div>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblDepartment}}</span>\r\n                    <div class="custom-select" data-bind="attr: { class: setClassForDepartment, className:setClassForDepartment}">\r\n                        <select id="vweDdlDepartments" data-role="dropdownlist"\r\n                                data-bind="source:dsDepartments, value:selectedDepartment"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg displayblock"\r\n                              data-bind="invisible:setValidationMsgForDepartment">Please select Department</span>\r\n                    </div>\r\n                </label>\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblAgency}}</span>\r\n                    <strong class="form-element-with-label__value" data-bind="text:selectedDepartment.AgencyName"></strong>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n';
}),define("modules/employeeModule/employee/nls/resources",{root:{headerAddEditEmployee:"Add edit Employee",lnkHelp:"Help",headerEmployeeInfo:"Employee Info",lblEmployeeId:"EmployeeId",lblShelterName:"ShelterName:",lblFirstName:"First Name:",lblMiddleName:"Middle Name:",lblLastName:"Last Name:",lblStaffType:"Staff Type:",lblShift:"Shift:",lblDepartment:"Department:",lblAgency:"Agency:",lblStaffSpecialty:"Staff Specialty:",lblIsMedical:"Is Medical:",valmsgEMPIDRequired:"Employee Id required",valmsgFNRequired:"First Name required",valmsgLNRequired:"Last Name required",btnSave:"Save",btnCancel:"Back"}}),define("modules/employeeModule/employee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=null,d=function(){i&&(i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.fillQueryParam(s),i.data.initializeShelters())};l.listen($ct.en.getEmployeeRecordReload(),function(){d()}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployee()==e&&d()}),this.activate=function(d,o){s=o,l.parentContext.currentView=$ct.rn.getEmployee(),r||(r=new e.ViewTemplate(d,n,a)),r.show(),i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.fillQueryParam(o),i.data.initializeShelters();$("#vwEmployee").kendoValidator().data("kendoValidator");l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/downloadEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>DownloadEmployee help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/downloadEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Download Employee  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsShelters",t),a.set("selectedShelterItem",t[0]))})},btnDownloadEmployeeDataClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.downloadEmployeeToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/employeeModule/downloadEmployee/view.html",[],function(){return'<div id="vwDownloadEmployee">\r\n    <!--View name : vwDownloadEmployee-->\r\n    <!--Control id prefix : vwde-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerDownloadEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblShelter}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwdeDdlShelters"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsShelters,value:selectedShelterItem"\r\n                        data-text-field="Name"\r\n                        data-value-field="Id"\r\n                        required />\r\n                </div>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button class="btn" data-bind="click:btnDownloadEmployeeDataClick" type="button">\r\n            {{nls.btnDownloadEmployee}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/employeeModule/downloadEmployee/nls/resources",{root:{headerDownloadEmployee:"Download Employee",lblShelterType:"ShelterType:",lblShelter:"Shelter:",btnDownloadEmployee:"Download Employee"}}),define("modules/employeeModule/downloadEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDownloadEmployee()==e&&i&&i.data.initializeShelters()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDownloadEmployee(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.initializeShelters(),r.show(),l.parentContext.activeForm=$ct.rn.getDownloadEmployee(),l.notify($ct.en.getShowActiveEmployeeHeader(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/uploadEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>UploadEmployee help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/uploadEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({FileContentId:0,FacilityId:0,fileCount:0,dsFacilityNames:[],selectedFacilityNameItem:{},dsImportOptions:[],selectedImportAction:1,initialize:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor(),e=e.Data,void 0!==e&&null!==e&&e.length>0&&a.set("selectedFacilityNameItem",e[0]),a.set("dsFacilityNames",e)}),$ct.ds.emp.employee.getImportActionOptions(function(e){e=e.Data,$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsImportOptions",e)})},ddlFacilityNames:function(e){a.clearData()},radiobtnClick:function(e){a.clearData()},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},fileProgress:function(e){return""==e?"":"File Uploading.."},onUploadFile:function(e){".xls"===e.files[0].extension||".xlsx"===e.files[0].extension?($("#vwueUploadProgess").show(),1==a.selectedImportAction&&(n.notify($ct.en.getShowValidationMsg(),$ct.msg.getEmployeesUploadImportOption()),$("#vwueUploadProgess").hide(),e.preventDefault()),e.data={FacilityId:a.selectedFacilityNameItem.Id,ImportAction:a.selectedImportAction}):(a.get("clearData")(),n.notify($ct.en.getShowValidationMsg(),$ct.msg.getUploadValidFile()),e.preventDefault())},onSelectFile:function(e){a.fileCount>0&&$(".k-upload-files").remove(),$(".k-upload-files.k-reset").show(),$(".k-upload-selected").show(),a.fileCount++},onProgressFileUpload:function(e){$("#vwueUploadProgess").show(),a.get("fileProgress")(e.percentComplete)},onSuccees:function(e){$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwueUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("");var t=e.response,l=e.response,i=$("#vwueEmployeesLst").data("kendoGrid");if(void 0!=i.dataSource.filter&&i.dataSource.filter({}),void 0!=i.dataSource.sort&&i.dataSource.sort({}),a.set("UploadSummary",l),0===t.FailedImportedEmployees.length){if(0==t.TotalCount&&0==t.SuccessCount)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getEmployeeUploadError());n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg())}else{for(var r=0;r<t.FailedImportedEmployees.length;r++){var s=t.FailedImportedEmployees[r];l.FailedImportedEmployees[r].ValidationError=s.ValidationError.replace(/\\r\\n/g,"\r\n")}a.set("UploadSummary",l),l.FailedImportedEmployees.length>0&&a.set("FacilityId",l.FailedImportedEmployees[0].FacilityId),a.set("FileContentId",l.FileContentId),l.FailCount>0?($("#vwueExcel").show(),$("#vwueDivGrid").show(),$("#vwueEmployeesLst").data("kendoGrid").dataSource.page(1)):($("#vwueExcel").hide(),$("#vwueDivGrid").hide())}$("#vwupdSummary").show()},onError:function(e){$("#vwueUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("")},onCompleteFileUpload:function(e){},replaceString:function(e){return e.replace("|g","<br />")},clearData:function(e){$("#vwueExcel").hide(),$("#vwupdSummary").hide(),$("#vwueDivGrid").hide(),$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwueUploadProgess").hide(),$(".k-upload-selected").hide(),$(".k-upload-files").remove(),$(".k-upload-status").remove(),$(".k-upload.k-header").addClass("k-upload-empty"),$(".k-upload-button").removeClass("k-state-focused")},btnExportExcelClick:function(e){$ct.ds.emp.employee.getExportFailedImportedEmployeeDataToExcel(this,function(e){if("Failure"!==e.AcknowledgeType){$("#vwueExportExcel").attr("href",e.Data.DownloadUrl),$("#vwueExportExcel").click(function(e){window.location.href=$("#vwueExportExcel").attr("href")});var t=jQuery.Event("click");$("#vwueExportExcel").trigger(t)}else n.notify($ct.en.getShowValidationMsg(),e.Message)})}});return{data:a}};return n}),define("text!modules/employeeModule/uploadEmployee/view.html",[],function(){return'<div id="vwUploadEmployee1">\r\n    <!--Control id prefix : vwue-->\r\n    <div id="vwUploadEmployee">\r\n        <div class="module">\r\n            <h2 class="module-title">{{nls.headerUploadEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n            <div class="module-container">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblFacility}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vwueDdlFacilityNames"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsFacilityNames,events:{change:ddlFacilityNames},value:selectedFacilityNameItem"\r\n                            data-text-field="Name"\r\n                            data-value-field="Id" />\r\n                    </div>\r\n                </label>\r\n\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblOptions}}</span>\r\n                    <ul class="form-list" data-template="vwueImportOptions-template" data-bind="source:dsImportOptions"></ul>\r\n                     <!-- data-role="listview" -->\r\n                </label>\r\n\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblUpload}}</span>\r\n                    <input id="vwueUpload" name="vwueUpload" type="file"\r\n                           data-role="upload"\r\n                           data-multiple=false\r\n                           data-async="{ saveUrl:\'{{nls.fileUploadUrl}}\', autoUpload:false}"\r\n                           data-bind="events:{\r\n                            select: onSelectFile,\r\n                            upload:onUploadFile,\r\n                            success:onSuccees,\r\n                            complete:onCompleteFileUpload,\r\n                            error: onError,\r\n                            remove:onRemove,\r\n                            progress:onProgressFileUpload}" />\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- uploaded data details -->\r\n        <section class="uploaded-employee-data">\r\n            <ul class="uploaded-employee-data__info" id="vwueExcel" hidden>\r\n                <li>\r\n                    {{nls.lblTotalRecords}}:\r\n                    <strong data-bind="text:UploadSummary.TotalCount"></strong>\r\n                </li>\r\n                <li>\r\n                    <span class="f-icon f-icon__success" aria-hidden="true"></span>\r\n                    {{nls.lblTotalRecordsUpdated}}:\r\n                    <strong data-bind="text:UploadSummary.SuccessCount"></strong>\r\n                </li>\r\n                <li>\r\n                    <span class="f-icon f-icon__not-reported" aria-hidden="true"></span>\r\n                    {{nls.lblTotalRecordsFailed}}:\r\n                    <strong data-bind="text:UploadSummary.FailCount"></strong>\r\n                </li>\r\n                <li>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>{{nls.btnExportToExcel}}\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n\r\n            <div hidden id="vwueDivGrid" class="uploaded-employee-data__table">\r\n                <table id="vwueEmployeesLst"\r\n                    data-scrolable="true"\r\n                    data-bind="source:UploadSummary.FailedImportedEmployees"\r\n                    data-role="grid"\r\n                    data-filterable="true"\r\n                    data-sortable="true"\r\n                    data-row-template="vwupdRow-template"\r\n                    data-selectable="true"\r\n                    data-columns="[\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width: \'150px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\', width: \'150px\'},\r\n                        {field:\'ValidationError\',title:\'{{nls.gdColReason}}\'}\r\n                    ]"\r\n                    data-pageable="true">\r\n                </table>\r\n            </div>\r\n\r\n        </section>\r\n\r\n        <!-- Upload Employee data -->\r\n        <div hidden>\r\n            <a id="vwueExportExcel"></a>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwupdRow-template">\r\n     <tr>\r\n        <td>${FirstName}</td>\r\n        <td>${LastName}</td>\r\n        <td><span data-bind="text:ValidationError"></span></td>\r\n    </tr>\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwueImportOptions-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio"\r\n                name="ImportActionType"\r\n                id="${data.Key}" value="${data.Key}"\r\n                data-bind="checked:selectedImportAction, click:radiobtnClick">\r\n            <span class="radio-button__text">${data.Value}</span>\r\n        </label>\r\n    </li>\r\n</script>\r\n'}),define("modules/employeeModule/uploadEmployee/nls/resources",{root:{headerUploadEmployee:"Upload Employee",lblFacility:"Facility Name:",lblUpload:"Upload File:",lblOptions:"Choose Options:",btnExportToExcel:"Export",lblTotalRecords:"Total Records",lblTotalRecordsUpdated:"Updated",lblTotalRecordsFailed:"Failed",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColReason:"Reason",fileUploadUrl:$ct.cn.getEmployeeUrl()+"UploadEmployees"}}),define("modules/employeeModule/uploadEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getUploadEmployee()==e&&i&&(i.data.clearData(),i.data.initialize())}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getUploadEmployee(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.clearData(),i.data.initialize(),r.show(),l.parentContext.activeForm=$ct.rn.getUploadEmployee(),l.notify($ct.en.getShowActiveEmployeeHeader(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&($("#vwueDivGrid").hide(),r.hide())}};return l}),define("text!modules/employeeModule/bulkUpdateEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployee help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/bulkUpdateEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({empRequestData:{},Intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("empRequestData",n.parentContext.empRequestData),$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var l=$ct.mt.getErrorObject(t);null!=l&&(n.notify($ct.en.getShowErrorMsg(),l),e.UrlController.goTo($ct.rn.getEmployeeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.Intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.bulkUpdateEmployeeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg()),n.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeList())},shelterId:0});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployee/view.html",[],function(){return'\r\n<div id="vwBulkUpdateEmployee">\r\n    <!--View name : vwBulkUpdateEmployee-->\r\n    <!--Control id prefix : vwbue-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdateEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblShift}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbueDdlShifts"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\r\n                        data-text-field="Value"\r\n                        data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" id="vwbueSave1" data-bind="click:btnSaveClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/employeeModule/bulkUpdateEmployee/nls/resources",{root:{headerBulkUpdateEmployee:"BulkUpdate - Employee",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"StaffType",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"StaffSpecialty"}}),define("modules/employeeModule/bulkUpdateEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployee()==e&&i&&i.data.resetFields()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateEmployee(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.resetFields(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/bulkUpdateEmployeeExtended/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeExpanded help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/bulkUpdateEmployeeExtended/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({empRequestData:{},Intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("empRequestData",n.parentContext.empRequestData),$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var l=$ct.mt.getErrorObject(t);null!=l&&(n.notify($ct.en.getShowErrorMsg(),l),e.UrlController.goTo($ct.rn.getEmployeeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.Intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.bulkUpdateEmployeeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg()),n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())},shelterId:0});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployeeExtended/view.html",[],function(){return'\r\n<div id="vwBulkUpdateEmployeeExtended">\r\n    <!--View name : vwBulkUpdateEmployeeExtended-->\r\n    <!--Control id prefix : vwbuee-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdateEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStaffType}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbueeDdlStaffTypes"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsLookupData.StaffTypeData, value:saveRequest.valStaffType"\r\n                        data-text-field="Value"\r\n                        data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDepartment}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbueeDdlDepartments"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsLookupData.AgencyDepartmentData, value:saveRequest.valDepartment"\r\n                        data-text-field="Value"\r\n                        data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblShift}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbueeDdlShifts"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\r\n                        data-text-field="Value"\r\n                        data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStaffSpecialty}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbueeDdlStaffSpecialties"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsLookupData.StaffSpecialityData, value:saveRequest.valStaffSpeciality"\r\n                        data-text-field="Value"\r\n                        data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" id="vwbueeSave1" data-bind="click:btnSaveClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n    \r\n</div>\r\n'}),define("modules/employeeModule/bulkUpdateEmployeeExtended/nls/resources",{root:{headerBulkUpdateEmployee:"BulkUpdate - Employee",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"Staff Type",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"Staff Specialty"}}),define("modules/employeeModule/bulkUpdateEmployeeExtended/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployeeExtended()==e&&i&&i.data.resetFields()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateEmployeeExtended(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.resetFields(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/employeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>EmployeeAttendance help</h1>\r\n</div>\r\n\r\n'}),define("text!modules/employeeModule/employeeAttendance/comments/view.html",[],function(){return'<div id="vwEmpAttendenceComment">\r\n    <!--View name : vwEmpAttendenceComment-->\r\n    <!--Control id prefix : vweac-->\r\n\r\n    <div class="module">\r\n        <!-- <h2 class="module-title">{{nls.headerAddEditComment}}</h2> -->\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vweacTaDescription" name="vweacTaDescription" required\r\n                    data-bind="value:comment, attr:{maxlength: DescriptionLength}"\r\n                    validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vweacTaDescription"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:savecommentClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/employeeModule/employeeAttendance/comments/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({datafromParent:{},comment:"",initialize:function(e){t.set("datafromParent",e)},savecommentClick:function(n){var a={};Objforsave={},t.datafromParent.griddata.Comment=t.comment,Objforsave=t.datafromParent.griddata,Objforsave.toJSON(),a.EmployeeAttendanceRaw=Objforsave,a.ShiftDate=t.datafromParent.date,a.ShiftId=t.datafromParent.shift,a.FacilityId=t.datafromParent.facilityId,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.saveEmployeeAttendence(a,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void $ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg());var n=$ct.mt.getErrorObject(t);if(null!=n)e.notify($ct.en.getShowErrorMsg(),n);else{e.notify($ct.en.getEmployeeAttendanceUpdated(),null);var a=$("#commonWindow").data("kendoWindow");a.close(),e.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg())}})},btnCancelClick:function(e){var t=$("#commonWindow").data("kendoWindow");t.close()}});return{data:t}};return t}),define("modules/employeeModule/employeeAttendance/comments/nls/resources",{root:{headerAddEditComment:"Comment",lblDescription:"Description",btnSave:"Save",btnCancel:"Back"}}),define("modules/employeeModule/employeeAttendance/viewmodel",["Boiler","text!./help/help.html","text!./comments/view.html","./comments/viewmodel","i18n!./comments/nls/resources"],function(e,t,n,a,l){var i=function(t){var i=kendo.observable({dsFacilities:[],selectedFacility:{},dsShifts:[],selectedShift:{},attendenceDate:new Date,attendenceDatestring:"",shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],statusFilterLookUp:[],previousAttendenceDatestring:"",previousSelectedShift:-1,previousSelectedFacility:-1,hideMessage:!0,hideWorkArea:!0,initialLoadforGo:!0,isRecordsPresentForExport:!1,employeeAttendanceSummary:{},ActiveEvent:{},dcRequestData:{viewAll:!0,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},initializeEvent:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceEvent(function(e){var t=e.Data;i.set("ActiveEvent",t.ActiveEvent)})},initializeGlobalData:function(){i.set("dcRequestData",t.parentContext.dcRequestData),t.parentContext.StatusLookUpData=[]},showWorkArea:function(){return i.get("hideWorkArea")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},showMessage:function(){return i.get("hideMessage")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},isattendenceDateValid:function(){if(i.get("initialLoadforGo"))return!0;var e=i.get("attendenceDate");return""==e||null==e?!1:!0},initializeFacilities:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceFacilities(function(e){var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){var n={};n.Id=-1,n.Name="--All--",t.splice(0,0,n),i.set("dsFacilities",e.Data),i.set("selectedFacility",e.Data[0])}i.initializeShifts()})},initializeShifts:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceInitialLoad(function(e){var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){i.set("dsShifts",e.Data),i.set("selectedShift",e.Data[0]);var n=($("#vweaAttendenceDate").data("kendoDateTimePicker"),i.attendenceDate.getMonth()+1+"/"+i.attendenceDate.getDate()+"/"+i.attendenceDate.getFullYear());i.set("previousAttendenceDatestring",n),i.btnGoClick()}})},btnGoClick:function(){if(i.set("initialLoadforGo",!1),i.isattendenceDateValid()){var e=i.attendenceDate.getMonth()+1+"/"+i.attendenceDate.getDate()+"/"+i.attendenceDate.getFullYear();i.set("attendenceDatestring",e),i.set("previousSelectedShift",i.selectedShift.Key),i.set("previousSelectedFacility",i.selectedFacility.Id),this.fillGrid(),$ct.helpers.displayWorkAreaBusyCursor()}},dsEmployeeAttendance:function(){},fillGrid:function(){t.parentContext.attendenceDate=i.attendenceDatestring,t.parentContext.selectedShift=i.previousSelectedShift,t.parentContext.facilityId=i.previousSelectedFacility,this.set("dsEmployeeAttendance",$ct.ds.emp.empattendance.getEmployeeAttendence(this,function(e){if(i.set("previousAttendenceDatestring",i.attendenceDatestring),i.shelterFilterLookUp=e.Data.EmployeeAttendanceShelterLookUpData,i.shiftTimeFilterLookUp=e.Data.EmployeeAttendanceShiftTimeLookUpData,i.staffSpecialityFilterLookUp=e.Data.EmployeeAttendanceStaffSpecialityLookUpData,i.statusFilterLookUp=e.Data.EmployeeAttendanceStatusLookUpData,i.hasCachedData=e.Data.HasCachedData,i.isLastPageCachedData=e.Data.IsLastPageCachedData,$("#vweaDgEmployeeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=i.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){
var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=i.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=i.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StatusName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=i.statusFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var n=$("#vweaDgEmployeeList").data("kendoGrid");void 0!=n&&null!=n&&(n.showColumn("FacilityName"),n.hideColumn("FacilityName"))}0==e.Data.EmployeeAttendanceRawData.length?i.set("isRecordsPresentForExport",!1):i.set("isRecordsPresentForExport",!0),void 0!=e.Data.StatusLookUpData&&(t.parentContext.StatusLookUpData=e.Data.StatusLookUpData),i.set("hideWorkArea",!1),i.set("hideMessage",!0),void 0!=e.Data.EmployeeAttendanceSummary&&(i.set("employeeAttendanceSummary",e.Data.EmployeeAttendanceSummary),0==i.employeeAttendanceSummary.TotalEmployees?(i.set("hideWorkArea",!0),i.set("hideMessage",!1)):(i.set("hideWorkArea",!1),i.set("hideMessage",!0))),i.set("dcRequestData.viewAll",!1),i.set("dcRequestData.fetchSelectedOnly",!1),i.set("dcRequestData.selectedEmployeeIds",new kendo.data.ObservableArray([])),i.set("dcRequestData.unSelectedEmployeeIds",new kendo.data.ObservableArray([])),$.each(e.Data.EmployeeAttendanceRawData,function(e,t){t.IsSelected&&i.get("dcRequestData.selectedEmployeeIds").push(t.EmployeeId)}),t.parentContext.dcRequestData.viewAll=!1,t.parentContext.dcRequestData.fetchSelectedOnly=!1,t.parentContext.dcRequestData.selectedEmployeeIds=i.get("dcRequestData.selectedEmployeeIds"),t.parentContext.dcRequestData.unSelectedEmployeeIds=i.get("dcRequestData.unSelectedEmployeeIds"),$ct.helpers.hideWorkAreaBusyCursor()}))},refreshEmployeeAttendanceGrid:function(e){void 0!=i.dsEmployeeAttendance.read&&i.dsEmployeeAttendance.read()},btnBulkUpdateClick:function(n){if(i.setFetchSelectedDataParams(),!(i.get("dcRequestData.selectedEmployeeIds").length>0||i.hasCachedData&&!i.isLastPageCachedData)){var a={};return a.messageType=$ct.mt.getError(),a.message="Please select records to bulk update",void t.notify($ct.en.getShowValidationMsg(),"Please select atleast one Employee.")}e.UrlController.goTo($ct.rn.getBulkUpdateEmployeeAttendance())},setFetchSelectedDataParams:function(){i.dcRequestData.ViewAll&&(i.get("dcRequestData.selectedEmployeeIds").length>0||i.hasCachedData&&!i.isLastPageCachedData)&&(i.dcRequestData.ViewAll=!1,t.parentContext.dcRequestData.ViewAll=!1)},btnExportExcelClick:function(){t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.exportEmployeeAttendenceToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var n=$ct.mt.getErrorObject(e);null!=n&&t.notify($ct.en.getShowErrorMsg(),n)}})},btnSaveClick:function(e){if(e.data.set("saveClicked",!0),"-1"!=e.data.ReportId){var n={};Objforsave={},Objforsave=e.data,Objforsave.toJSON(),n.EmployeeAttendanceRaw=Objforsave,n.FacilityId=i.previousSelectedFacility,n.ShiftDate=i.attendenceDatestring,n.ShiftId=i.previousSelectedShift,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.saveEmployeeAttendence(n,function(n){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(n))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&i.refreshEmployeeAttendanceGrid());var a=$ct.mt.getErrorObject(n);null!=a?t.notify($ct.en.getShowErrorMsg(),a):(void 0!=n.Data.EmployeeAttendanceRawData&&(e.data.set("EmployeeId",n.Data.EmployeeAttendanceRawData.EmployeeId),e.data.set("EmployeeAttendanceVersion",n.Data.EmployeeAttendanceRawData.EmployeeAttendanceVersion),e.data.set("IsNew",n.Data.EmployeeAttendanceRawData.IsNew),e.data.set("StatusName",n.Data.EmployeeAttendanceRawData.StatusName),e.data.set("EmployeeAttendanceUpdatedUserName",n.Data.EmployeeAttendanceRawData.EmployeeAttendanceUpdatedUserName),e.data.set("EmployeeAttendanceUpdatedOnValue",n.Data.EmployeeAttendanceRawData.EmployeeAttendanceUpdatedOnValue),i.set("employeeAttendanceSummary",n.Data.EmployeeAttendanceSummary),i.dsEmployeeAttendance.read()),t.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg()))})}},vweaChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var n=i.get("dcRequestData.unSelectedEmployeeIds"),a=i.get("dcRequestData.selectedEmployeeIds");e.target.checked?($.inArray(e.data.EmployeeId,n)>-1&&i.get("dcRequestData.unSelectedEmployeeIds").splice($.inArray(e.data.EmployeeId,n),1),$.inArray(e.data.EmployeeId,a)<0&&i.get("dcRequestData.selectedEmployeeIds").push(e.data.EmployeeId)):($.inArray(e.data.EmployeeId,a)>-1&&i.get("dcRequestData.selectedEmployeeIds").splice($.inArray(e.data.EmployeeId,a),1),$.inArray(e.data.EmployeeId,n)<0&&i.get("dcRequestData.unSelectedEmployeeIds").push(e.data.EmployeeId));var l=i.get("dsEmployeeAttendance");void 0!=l.data()&&($(l.data()).each(function(e,t){jQuery.inArray(t.EmployeeId,i.get("dcRequestData.selectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),t.parentContext.dcRequestData.selectedEmployeeIds=i.get("dcRequestData.selectedEmployeeIds"),t.parentContext.dcRequestData.unSelectedEmployeeIds=i.get("dcRequestData.unSelectedEmployeeIds")),$ct.helpers.hideWorkAreaBusyCursor()},vweaDataBoundEvent:function(e){var n=$("#vwEmployeeAttendance").find("th[role='columnheader']").first();$(n).html('<label class="checkbox"><input class="checkbox__inp" id="chkAll" type="checkbox" /><span class="checkbox__text"></span></label>'),$("#vwEmployeeAttendance").find("#chkAll").click(function(e){var n=i.get("dcRequestData.unSelectedEmployeeIds"),a=i.get("dcRequestData.selectedEmployeeIds"),l=$("#vwEmployeeAttendance").find("input[data-item-type='child']");e.target.checked?($(l).prop("checked",!0),$(l).each(function(e,t){var l=$(t).attr("data-id");$.inArray(l,n)>-1&&i.get("dcRequestData.unSelectedEmployeeIds").splice($.inArray(l,n),1),$.inArray(l,a)<0&&i.get("dcRequestData.selectedEmployeeIds").push(l)})):($(l).prop("checked",!1),$(l).each(function(e,t){var l=$(t).attr("data-id");$.inArray(l,a)>-1&&i.get("dcRequestData.selectedEmployeeIds").splice($.inArray(l,a),1),$.inArray(l,n)<0&&i.get("dcRequestData.unSelectedEmployeeIds").push(l)}));var r=i.get("dsEmployeeAttendance");void 0!=r.data()&&$(r.data()).each(function(e,t){jQuery.inArray(t.EmployeeId,i.get("dcRequestData.selectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),t.parentContext.dcRequestData.selectedEmployeeIds=i.get("dcRequestData.selectedEmployeeIds"),t.parentContext.dcRequestData.unSelectedEmployeeIds=i.get("dcRequestData.unSelectedEmployeeIds")})},clearData:function(){i.dcRequestData.viewAll=!0,i.dcRequestData.FetchSelectedOnly=!1,i.dcRequestData.selectedEmployeeIds=new kendo.data.ObservableArray([]),i.dcRequestData.unSelectedEmployeeIds=new kendo.data.ObservableArray([]),t.parentContext.dcRequestData.viewAll=!0,t.parentContext.dcRequestData.FetchSelectedOnly=!1,t.parentContext.dcRequestData.selectedEmployeeIds=new kendo.data.ObservableArray([]),t.parentContext.dcRequestData.unSelectedEmployeeIds=new kendo.data.ObservableArray([]),i.fillGrid()},btnFilterOffClick:function(){i.clearData()},btnEditClick:function(i){var r={};r.griddata=i.data,r.date=t.parentContext.attendenceDate,r.shift=t.parentContext.selectedShift,r.facilityId=t.parentContext.facilityId;var s=new e.ViewTemplate(null,n,l),d=new a(t);$ct.helpers.displayWindow(s,"Comment",d.data),d.data.initialize(r)}});return{data:i}};return i}),define("text!modules/employeeModule/employeeAttendance/view.html",[],function(){return'<div id="vwEmployeeAttendance">\r\n    <!--View name : vwEmployeeAttendance-->\r\n    <!--Control id prefix : vwea-->\r\n    <div class="module" data-bind="style:{display:showWorkArea}">\r\n        <h2 class="module-title">Employee Attendance<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container employee-attendance">\r\n\r\n            <div class="employee-attendance__row is-filter-shelter">\r\n                <!--  filters section -->\r\n                <div class="employee-attendance__filters-section">\r\n                    <div class="employee-attendance__filters-section__shelters">\r\n                        <label>Shelters:</label>\r\n                        <div class="custom-select">\r\n                            <select id="vweaDdlFacilities"\r\n                                data-role="dropdownlist"\r\n                                data-bind="source:dsFacilities, value:selectedFacility"\r\n                                data-text-field="Name" data-value-field="Id" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="employee-attendance__filters-section__shifts">\r\n                        <label>Shifts:</label>\r\n                        <div class="custom-select">\r\n                            <select id="vweaDdlShifts"\r\n                                data-role="dropdownlist"\r\n                                data-bind="source:dsShifts, value:selectedShift"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="employee-attendance__filters-section__shifts-date">\r\n                        <label>Shift Date:</label>\r\n                         <!-- k-invalid / k-valid needs to be added here-->\r\n                        <div class="custom-datetimepicker">\r\n                            <input id="vwshStartDate" name="vweaAttendenceDate"\r\n                                data-role="datepicker"\r\n                                data-bind="value:attendenceDate"/>\r\n\r\n                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"\r\n                                data-bind="invisible:isattendenceDateValid">\r\n                                <!-- shiftdate-valid -->\r\n                                Attendance date is required\r\n                            </span>\r\n                        </div>\r\n                        <span class="employee-attendance__filters-section__go-btn">\r\n                            <button type="button" data-bind="click:btnGoClick" class="btn">Go</button>\r\n                        </span>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <!-- event details section -->\r\n                <div class="employee-attendance__shelter-event">\r\n                    <div class="employee-attendance__shelter-event__name">\r\n                        <span>{{nls.lblEndedReportingPeriod}}</span>\r\n                        <strong >State-Wide Severe Weather March 8-11, 2016</strong>\r\n                        <!-- data-bind="text:ActiveEvent.EventName" -->\r\n                    </div>\r\n                    <div class="employee-attendance__shelter-event__duration">\r\n                        <span>Duration:</span>\r\n                        <strong data-bind="text:ActiveEvent.EventDuration"></strong>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <!-- <div data-bind="style:{display:showMessage}"> Employees are not assigned for the selected shift. </div> -->\r\n\r\n            <div class="employee-attendance__row is-notificaion-action-btns">\r\n                <!-- notification status -->\r\n                <div class="employee-attendance__notification-info" data-bind="style:{display:showWorkArea}">\r\n                    <!-- <div class="red-bold-text"> {{nls.lblMessage}} </div> -->\r\n                    <ul>\r\n                        <li>\r\n                            <span class="icon-Reported">{{nls.lblReported}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalReported"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                        <li>\r\n                            <span class="icon-NotReported">{{nls.lblNotReported}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalNotReported"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                        <li>\r\n                            <span class="icon-UnAssigned">{{nls.lblUnassigned}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalUnAssigned"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <!-- action buttons -->\r\n                <div class="employee-attendance__action-buttons">\r\n                    <button class="btn--secondary" data-bind="visible:isRecordsPresentForExport, click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnShowAll}}\r\n                    </button>\r\n\r\n                    <button type="button" data-bind="click:btnBulkUpdateClick" class="btn--secondary">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vweaDgEmployeeList"\r\n                    data-bind="source:dsEmployeeAttendance, events: { dataBound:vweaDataBoundEvent }"\r\n                    data-role="grid" data-filterable="true"\r\n                    data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                    data-row-template="vweaRow-template"\r\n                    data-columns="[{width:\'40px\'},\r\n                        {title:\'Save\',width:\'60px\'},\r\n                        {title:\'Add Comment\',width:\'120px\'},\r\n                        {field:\'FacilityName\',title:\'{{nls.gdColFacilityName}}\', width:\'250px\' , filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'ShiftTime\',title:\'{{nls.gdColShiftTime}}\', width:\'150px\',filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'StatusName\',title:\'{{nls.gdColStatus}}\', width:\'250px\',filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'200px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\', width:\'150px\'},\r\n                        {field:\'MiddleName\',title:\'{{nls.gdColMiddleName}}\', width:\'150px\'},\r\n                        {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpeciality}}\', filterable: {multi:true,dataSource:[]}, width:\'150px\'},\r\n                        {field:\'Comment\',title:\'{{nls.gdColComments}}\', width:\'150px\'},\r\n                        {field:\'EmployeeAttendanceUpdatedUserName\',title:\'{{nls.gdColUpdatedUserName}}\', width:\'150px\'},            {field:\'EmployeeAttendanceUpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'}]"\r\n                    data-pageable="true" data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vweaRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vweaChkEmployee}" type="checkbox" data-item-type="child" data-id=${EmployeeId} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-save" data-bind="click:btnSaveClick"> <span class="f-icon f-icon__save" aria-hidden="true"></span> <span class="f-icon__text">Save</span> </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-add-comment" data-bind="click:btnEditClick"> <span class="f-icon f-icon__add-comment" aria-hidden="true"></span> <span class="f-icon__text">Edit</span> </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColFacilityName}}"> ${FacilityName} </td>\r\n        <td data-title="{{nls.gdColShiftTime}}"> ${ShiftTime} </td>\r\n        <td data-title="{{nls.gdColStatus}}">\r\n            <input data-role="dropdownlist" data-bind="source:StatusLookUpData,value:ReportId" data-template="item-template" data-value-template="value-template" data-text-field="Value" data-value-field="Key"/>\r\n        </td>\r\n        <td data-title="{{nls.gdColFirstName}}"> ${FirstName} </td>\r\n        <td data-title="{{nls.gdColLastName}}"> ${LastName} </td>\r\n        <td data-title="{{nls.gdColMiddleName}}"> ${MiddleName} </td>\r\n        <td data-title="{{nls.gdColStaffSpeciality}}"> ${StaffSpecialityName} </td>\r\n        <td data-title="{{nls.gdColComments}}"> ${Comment} </td>\r\n        <td data-title="{{nls.gdColUserName}}"> ${EmployeeAttendanceUpdatedUserName} </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}"> ${EmployeeAttendanceUpdatedOnValue} </td>\r\n    </tr>\r\n</script>\r\n<script id="item-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n<script id="value-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n'}),define("modules/employeeModule/employeeAttendance/nls/resources",{root:{nlsTest:"Localization Test",lblEndedReportingPeriod:"Event Name: ",lblMessage:"The following are Employee status details",gdColIsSelected:"",gdColFacilityName:"Shelter Name",gdColShiftTime:"Shift",gdColStatus:"Status",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColMiddleName:"Middle Name",gdColStaffSpeciality:"Staff Speciality",gdColComments:"Comments",gdColUpdatedDate:"Updated Date",gdColUpdatedUserName:"User Name",lblReported:"Reported",lblNotReported:"Not Reported",lblUnassigned:"Unassigned",lblTotal:"All Employees",lblEmployeeList:"Employee List:",btnBulkUpdate:"Bulk Update",btnShowAll:"Show All",btnExportToExcel:"Export"}}),define("modules/employeeModule/employeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeAttendance()==e&&i&&s()}),l.listen($ct.en.getEmployeeAttendanceUpdated(),function(e){i&&i.data.refreshEmployeeAttendanceGrid()}),l.listen($ct.en.getEmployeeAttendenceList(),function(){s()});var s=function(){r&&(l.parentContext.dcRequestData={viewAll:!1,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.initializeEvent(),i.data.initializeGlobalData(),i.data.initializeFacilities())};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),l.parentContext.dcRequestData={viewAll:!0,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.initializeGlobalData(),i.data.initializeFacilities(),i.data.initializeEvent()),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/bulkUpdateEmployeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeAttendance help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},StatusToLookUpData:[],selectedStatus:{},comment:"",initialLoad:!1,initialize:function(){a.set("initialLoad",!0),a.set("comment","");var e={};e.Key=-1,e.Value="--Select--",n.parentContext.StatusLookUpData.splice(0,0,e),a.set("StatusToLookUpData",n.parentContext.StatusLookUpData),a.set("selectedStatus",a.StatusToLookUpData[0])},btnUpdateClick:function(){a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t={};t.ReportId=this.selectedStatus.Key,t.Comment=this.comment,t.FacilityId=n.parentContext.facilityId,t.SelectedEmployeeIds=n.parentContext.dcRequestData.selectedEmployeeIds,t.UnSelectedEmployeeIds=n.parentContext.dcRequestData.unSelectedEmployeeIds,t.ShiftDate=n.parentContext.attendenceDate,t.ShiftId=n.parentContext.selectedShift,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.bulkUpdateEmployeeAttendence(t,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var l=$ct.mt.getErrorObject(t);return null!=l?void n.notify($ct.en.getShowErrorMsg(),l):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg()),n.notify($ct.en.getEmployeeAttendanceUpdated(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance()),void 0)})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getEmployeeAttendanceUpdated(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance())}});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployeeAttendance/view.html",[],function(){return'<div id="vwBulkUpdateEmployeeAttendance">\r\n    <!--View name : vwBulkUpdateEmployeeAttendance-->\r\n    <!--Control id prefix : vwbuea-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdate}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStatus}}</span>\r\n                <input data-role="dropdownlist"\r\n                    data-bind="source:StatusToLookUpData, value:selectedStatus"\r\n                    data-template="item-template"\r\n                    data-value-template="value-template"\r\n                    data-text-field="Value"\r\n                    data-value-field="Key" />\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblComment}}</span>\r\n                <textarea id="vweacTaDescription"\r\n                    name="vweacTaDescription"\r\n                    data-bind="value:comment, attr:{maxlength: DescriptionLength}"\r\n                    rows="5">\r\n                </textarea>\r\n            </label>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn " data-bind="click:btnUpdateClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn " data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n\r\n<script id="item-template" type="text/x-kendo-template">\r\n    <div>\r\n        <img src="../../../../content/app/images/images/#:Value #.png" />\r\n        #:Value #\r\n    </div>\r\n</script>\r\n\r\n<script id="value-template" type="text/x-kendo-template">\r\n    <div>\r\n        <img src="../../../../content/app/images/images/#:Value #.png" />\r\n        #:Value #\r\n    </div>\r\n</script>\r\n'}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/nls/resources",{root:{headerBulkUpdate:"Bulk Update - Employee Attendance",btnUpdate:"Update",btnCancel:"Back",headerDataCell:"Bulk Update",lblStatus:"Status ",lblComment:"Optional Comment"}}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployeeAttendance()==e&&i&&i.data.initialize()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.initialize(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/multiFacilityEmployeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Multi Facility Employee  Attendence list help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/multiFacilityEmployeeAttendance/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee Attendence List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeAttendance/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeAttendenceList">\r\n    <!--View name : vwMultiFacilityEmployeeAttendenceList-->\r\n    <!--Control id prefix : vwmfea-->\r\n   {{nls.headerEmployee}}\r\n\r\n    <span data-bind="text:pagename"></span>\r\n </div>'}),define("modules/employeeModule/multiFacilityEmployeeAttendance/nls/resources",{root:{headerEmployee:"Multi Facility Employee Attendence List"}}),define("modules/employeeModule/multiFacilityEmployeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/multiFacilityEmployeeExtendedList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Multi Facilty EmployeeExtended list help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee Extended List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeExtendedList/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeExtendedList">\r\n\r\n    <!--View name : vwMultiFacilityEmployeeExtendedList-->\r\n    <!--Control id prefix : vwmfeel-->\r\n    {{nls.headerMultiEmployeeExtended}}\r\n\r\n    <span  data-bind="text:pagename"></span>\r\n </div>\r\n'}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/nls/resources",{root:{headerMultiEmployeeExtended:"Multi Facility Employee Extended"}}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeExtendedList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/employeeModule/multiFacilityEmployeeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Multi Facility Employee  list help</h1>\r\n</div>\r\n\r\n'}),define("modules/employeeModule/multiFacilityEmployeeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeList/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeList">\r\n    <!--View name : vwMultiFacilityEmployeeList-->\r\n    <!--Control id prefix : vwmfel-->\r\n    {{nls.headerEmployee}}\r\n    <span   data-bind="text:pagename"></span>\r\n </div>'}),define("modules/employeeModule/multiFacilityEmployeeList/nls/resources",{root:{headerEmployee:"Multi Facility Employee List"}}),define("modules/employeeModule/multiFacilityEmployeeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeList(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/employeeModule/module",["Boiler","./settings","./employeeList/component","./employeeExtendedList/component","./employee/component","./downloadEmployee/component","./uploadEmployee/component","./bulkUpdateEmployee/component","./bulkUpdateEmployeeExtended/component","./employeeAttendance/component","./bulkUpdateEmployeeAttendance/component","./multiFacilityEmployeeAttendance/component","./multiFacilityEmployeeExtendedList/component","./multiFacilityEmployeeList/component"],function(e,t,n,a,l,i,r,s,d,o,c,p,u,h){var m=function(m){var f=new e.Context(m);f.addSettings(t);var v=new e.UrlController($(".appcontent"));v.addRoutes({employeelist:new n(f),employeeextendedlist:new a(f),"employee/{id}/{shelterId}":new l(f),downloademployee:new i(f),uploademployee:new r(f),bulkupdateemployee:new s(f),bulkupdateemployeeextended:new d(f),employeeattendance:new o(f),bulkupdateemployeeattendance:new c(f),multifacilityemployeeattendance:new p(f),multifacilityemployeeextendedlist:new u(f),multifacilityemployeelist:new h(f)}),v.start()};return m}),define("modules/shelterModule/settings",{urls:{}}),define("text!modules/shelterModule/shelterStatus/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>ShelterStatus help</h1>\r\n</div>\r\n\r\n'}),define("modules/shelterModule/shelterStatus/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"ShelterStatus  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},selectedEventItem:{},dsEventNames:[],isRecordsPresentForShelterStatusExport:!1,initialLoad:!0,initializeEvents:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getEvents(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsEventNames",t),a.set("selectedEventItem",t[0]))})},dsShelterStatus:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){var e=$("#vwsstDgShelterStatus").data("kendoGrid");
void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsShelterStatus",$ct.ds.shlt.shelter.getShelterStatus(this,function(e){$ct.mt.isNoDataFound(e)||null!=$ct.mt.getErrorObject(e)?a.set("isRecordsPresentForShelterStatusExport",!1):a.set("isRecordsPresentForShelterStatusExport",!0),$(".k-loading-mask").remove()}))},refreshShelterStatusGrid:function(e){a.dsShelterStatus.read()},btnSaveClick:function(e){if(e.data.set("saveClicked",!0),e.data.hideOpenDateValidation()&&e.data.hideClosedDateValidation()&&e.data.hideOpenClosedDateValidation()){var t=e.data.toJSON(),l=new Date(t.OpenDate);t.OpenDate=kendo.toString(new Date(l),"yyyy-MM-ddTHH:mm:ss");var i=new Date(t.ClosedDate);t.ClosedDate=kendo.toString(new Date(i),"yyyy-MM-ddTHH:mm:ss"),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.shlt.shelter.saveShelterStatus(t,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterStatus.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterStatusSuccessMsg()),a.dsShelterStatus.read()})}},btnExportToExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.shlt.shelter.exportShelterStatusToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/shelterModule/shelterStatus/view.html",[],function(){return'<div id="vwShelterStatus">\r\n    <!--View name : vwShelterStatus-->\r\n    <!--Control id prefix : vwsst-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerShelterStatus}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <span>{{nls.lblEventName}} </span>\r\n                    <div class="custom-select">\r\n                        <select id="vwsstDdlEventNames"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsEventNames,value:selectedEventItem"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                    </div>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary"\r\n                        data-bind="enabled:isRecordsPresentForShelterStatusExport,click:btnExportToExcelClick"\r\n                        type="button">\r\n                            <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                            {{nls.btnExportToExcel}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="table-wrapper">\r\n                <!--style="width:1150px"-->\r\n                <table id="vwsstDgShelterStatus"\r\n                    data-bind="source:dsShelterStatus" data-role="grid"\r\n                    data-filterable="true"\r\n                    data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                    data-row-template="vwsstRow-template"\r\n                    data-selectable="true"\r\n                    data-columns="[\r\n                        {title:\'{{nls.gdColSave}}\',width:\'60px\'},\r\n                        {field:\'ShelterTypeName\',title:\'{{nls.gdColShelterType}}\',width:\'100px\'},\r\n                        {field:\'ShelterName\',title:\'{{nls.gdColShelterName}}\',width:\'150px\'},\r\n                        {field:\'Status\',title:\'{{nls.gdColStatus}}\',width:\'120px\'},\r\n                        {field:\'OpenDate\',title:\'{{nls.gdColOpenDate}}\',filterable:false,width:\'250px\'},\r\n                        {field:\'ClosedDate\',title:\'{{nls.gdColClosedDate}}\',filterable:false,width:\'250px\'} ]"\r\n                    data-pageable="true"></table>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwsstRow-template">\r\n<tr>\r\n    <td data-title="{{nls.gdColSave}}">\r\n        <button class="btn-save" data-bind="click:btnSaveClick"> <span class="f-icon f-icon__save" aria-hidden="true"></span> <span class="f-icon__text">Save</span> </button>\r\n    </td>\r\n    <td data-title="{{nls.gdColShelterType}}"> ${ShelterTypeName} </td>\r\n    <td data-title="{{nls.gdColShelterName}}"> ${ShelterName} </td>\r\n    <td data-title="{{nls.gdColStatus}}"> <span data-bind="invisible:onchangeopencloseddate"></span> <span data-bind="text:Status"></span> </td>\r\n    <td data-title="{{nls.gdColOpenDate}}">\r\n        <div class="custom-datetimepicker">\r\n            <input data-role="datetimepicker" data-bind="value: OpenDate" />\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideOpenDateValidation">Open date is required</span>\r\n        </div>\r\n    </td>\r\n    <td data-title="{{nls.gdColClosedDate}}">\r\n        <div class="custom-datetimepicker">\r\n            <input data-role="datetimepicker" data-bind="value: ClosedDate" />\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideClosedDateValidation">Closed date is required</span>\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideOpenClosedDateValidation">Closed date should be greater than Open date </span>\r\n        </div>\r\n    </td>\r\n</tr>\r\n</script>\r\n'}),define("modules/shelterModule/shelterStatus/nls/resources",{root:{headerShelterStatus:"Shelter Status",lblEventName:"Event Name:",btnExportToExcel:"Export",gdColSave:"Save",gdColShelterType:"Shelter Type",gdColShelterName:"Shelter Name",gdColStatus:"Status",gdColOpenDate:"Open Date",gdColClosedDate:"Closed Date"}}),define("modules/shelterModule/shelterStatus/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterStatus()==e&&s()});var s=function(){r&&(i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.initializeEvents())};this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getShelterStatus(),r||(r=new e.ViewTemplate(s,n,a)),i=new t(l),kendo.bind(r.getDomElement(),i.data),i.data.initializeEvents(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/shelterModule/module",["Boiler","./settings","./shelterStatus/component"],function(e,t,n){var a=function(a){var l=new e.Context(a);l.addSettings(t);var i=new e.UrlController($(".appcontent"));i.addRoutes({shelterstatus:new n(l)}),i.start()};return a}),define("modules/sheltereeModule/settings",{urls:{}}),define("text!modules/sheltereeModule/sheltereeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>SheltereeList help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelteree List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],dispositionFilterLookUp:[],caregiversFilterLookUp:[],oxygenDependentFilterLookUp:[],electricalDependentFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){a.set("sheltereeHeaderData",n.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.sheltereeRequestData.ViewAll&&(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.sheltereeRequestData.ViewAll=!1,n.parentContext.sheltereeRequestData.ViewAll=!1,a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeList:function(){},fillGrid:function(){var e=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeList",$ct.ds.sheltree.sheltree.getShelterees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.shelterFilterLookUp=e.Data.ShelterLookupData,a.parishFilterLookUp=e.Data.ParishLookupData,a.regionFilterLookUp=e.Data.RegionLookupData,a.dispositionFilterLookUp=e.Data.DispositionLookupData,a.caregiversFilterLookUp=e.Data.CaregiversLookupData,a.oxygenDependentFilterLookUp=e.Data.OxygenDependentLookupData,a.electricalDependentFilterLookUp=e.Data.ElectricalDependentLookupData,$("#vwslDgSheltereeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.regionFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Caregivers']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.caregiversFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='OxygenDependent']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.oxygenDependentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ElectricalDependent']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.electricalDependentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Disposition']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.dispositionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("ShelterName"),t.hideColumn("ShelterName"))}a.get("dsSheltereeList").total()>0?$("#vwslBtnExcel").show():$("#vwslBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,n.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,a.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,a.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&a.sheltereeRequestData.ViewAll&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.SheltereeRawData,function(e,t){t.IsSelected&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltereeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var l=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(a.selectedId,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(a.selectedId,i),1),$.inArray(a.selectedId,l)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(a.selectedId);var r=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("sheltereeRequestData.SelectedIdsCount",r-1)}n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}a.dsSheltereeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).ShelterId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchShelterees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwslChkShelteree:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,l)<0){a.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=0),a.set("sheltereeRequestData.SelectedIdsCount",i+1)}}else if($.inArray(e.data.Id,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,l),1),$.inArray(e.data.Id,t)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),a.set("sheltereeRequestData.SelectedIdsCount",i-1)}var r=a.get("dsSheltereeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeList").find("th[role='columnheader']").first();$(t).html("<input type='checkbox' id='chkAll' />"),$("#vwSheltereeList").find("#chkAll").click(function(e){var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds"),i=$("#vwSheltereeList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("sheltereeRequestData.OrigSelectedIdsCount"),s=a.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(i).prop("checked",!0),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(i,t),1),$.inArray(i,l)<0&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(i),r+=1}),0>r&&(r=0),a.set("sheltereeRequestData.SelectedIdsCount",r)}else{var d=a.get("sheltereeRequestData.SelectedIdsCount");$(i).prop("checked",!1),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(i,l),1),$.inArray(i,t)<0&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(i),d-=1}),0>d&&(d=0),a.set("sheltereeRequestData.SelectedIdsCount",d)}var o=a.get("dsSheltereeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsSheltereeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.sheltereeRequestData.ViewAll=!0,a.sheltereeRequestData.FetchSelectedOnly=!1,a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.ViewAll=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,n.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),a.set("sheltereeRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateShelteree())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/sheltereeModule/sheltereeList/view.html",[],function(){return'\r\n<div id="vwSheltereeList">\r\n    <!--View name : vwSheltereeList-->\r\n    <!--Control id prefix : vwsl-->\r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="cssform paddingT0">\r\n\r\n                <div class="marginL10">\r\n                    <div class="bold" style="position:relative; top:5px;">\r\n                        <div>\r\n                            <span>{{nls.lblEventName}} </span>\r\n                            <span data-bind="text:eventdata.EventName"></span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{{nls.lblDuration}} </span>\r\n                            <span data-bind="text:eventdata.EventDuration"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Search and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left paddtop-01em marginR10 marginL5">\r\n                        <input type="text" id="vwslTxtSearch" value="" data-bind="value:searchToken,events:{keyup:searchShelterees}"\r\n                               data-value-update="keyup" class="custom_searchbox" />\r\n                    </div>\r\n                    <div class="pull-left">\r\n\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n\r\n                    </div>\r\n                    <div class="pull-right paddright-05em icons">\r\n                        <span class="paddingR10" id="vwslBtnExcel">\r\n                            <a class="linkcolor excel underline_text" data-bind="click:btnExportExcelClick">\r\n                                {{nls.btnExportToExcel}}\r\n                            </a>\r\n                        </span>\r\n\r\n                        <span class="paddingR10" data-bind="text : filterText" style="color: #FF0000; font-weight: bold;"> </span>\r\n\r\n                        <span class="paddingR10">\r\n                            <a class="linkcolor underline_text veiwallposition"\r\n                               data-bind="click:btnFilterOffClick">{{nls.btnFilterOff}}</a>\r\n                        </span>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n\r\n                <!-- facility name -->\r\n                <div class="marginL10">\r\n                    <span class="bold" style="position:relative; top:5px;">\r\n                        <span>{{nls.lblShelterName}} </span>\r\n                        <span data-bind="text:sheltereeHeaderData.shelter.Name"></span>\r\n                    </span>\r\n                </div>\r\n                <!-- Search and buttons -->\r\n                <!-- Data grid -->\r\n                <div id="vwslDgSheltereeListParent" class="padding10 table-wrapper  fixedGrid">\r\n                    <table id="vwslDgSheltereeList" cellspacing="0" cellpadding="0" border="0" class="grid split-table customDataTable"\r\n                           data-bind="source:dsSheltereeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                           data-role="grid" data-filterable="true"\r\n                           data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                           data-row-template="vwslRow-template"\r\n                           data-selectable="true"\r\n                           data-columns="[\r\n                                   {width:\'30px\'},\r\n                                   {title:\'Edit\',width:\'50px\'},\r\n                                   {title:\'Delete\',width:\'60px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Caregivers\',title:\'{{nls.gdColCaregivers}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'OxygenDependent\',title:\'{{nls.gdColOxygenDependent}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'ElectricalDependent\',title:\'{{nls.gdColElectricalDependent}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'Disposition\',title:\'{{nls.gdColDisposition}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                               ]"\r\n                           data-pageable="true" data-scrollable="true"></table>\r\n                </div>\r\n                <!-- Data grid -->\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span></br>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwslRow-template">\r\n    <tr>\r\n\r\n\r\n        <td data-title="{{nls.gdColIsSelected}}" class="paddingLR8">\r\n            <span class="marginL8"><input data-bind="checked:IsSelected, events:{change:vwslChkShelteree}" type="checkbox" data-item-type="child" data-id=${Id} /></span>\r\n        </td>\r\n\r\n        <td>\r\n            <img src="content/app/images/edit-icon.jpg" align="absmiddle" data-bind="click:btnEditClick" />\r\n        </td>\r\n        <td>\r\n            <img src="content/app/images/delete.png" align="absmiddle" data-bind="click:btnDeleteClick" />\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColShelterName}}">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColCaregivers}}">\r\n            ${Caregivers}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColOxygenDependent}}">\r\n            ${OxygenDependent}\r\n        </td>\r\n        <td data-title="{{nls.gdColElectricalDependent}}">\r\n            ${ElectricalDependent}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDisposition}}">\r\n            ${Disposition}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeList/nls/resources",{root:{headerShelteree:"Shelteree",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColCaregivers:"Caregivers",gdColOxygenDependent:"Oxygen Dependent",gdColElectricalDependent:"Electrical Dependent",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"View All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/sheltereeModule/sheltereeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=!1;l.listen($ct.en.getManageSheltereeClicked(),function(){s=!0}),l.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeList()==e&&i&&i.data.shelterChange()}),l.listen($ct.en.getSheltereeCreatedOrUpdated(),function(){i&&(i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid())}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeList()==e&&i&&(i.data.initialize(),i.data.refreshSheltereeGrid())}),this.activate=function(d,o){l.parentContext.currentView=$ct.rn.getSheltereeList(),s&&r&&(s=!1,i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),i=new t(l),$("#vwSheltereeList, #vwslDgSheltereeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data),i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r.show(),l.parentContext.activeForm=$ct.rn.getSheltereeList(),l.notify($ct.en.getShowActiveSheltereeHeader(),null),l.notify($ct.en.getShowSheltereeShelterHeader(),null),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(i.data.setFetchSelectedDataParams(),r.hide())}};return l}),define("text!modules/sheltereeModule/sheltereeMedicalUpdateList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Shelteree Medical Update List help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelteree Medical Update List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a);
},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){a.set("sheltereeHeaderData",n.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.sheltereeRequestData.ViewAll&&(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.sheltereeRequestData.ViewAll=!1,n.parentContext.sheltereeRequestData.ViewAll=!1,a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeMedicalUpdateList:function(){},fillGrid:function(){var e=$("#vwsmulDgSheltereeMedicalUpdateList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeMedicalUpdateList",$ct.ds.sheltree.sheltree.getSheltereeMedicalUpdatees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.shelterFilterLookUp=e.Data.ShelterLookupData,a.parishFilterLookUp=e.Data.ParishLookupData,a.regionFilterLookUp=e.Data.RegionLookupData,$("#vwsmulDgSheltereeMedicalUpdateListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.regionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsSheltereeMedicalUpdateList").total()>0?$("#vwsmulBtnExcel").show():$("#vwsmulBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,n.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,a.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,a.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&a.sheltereeRequestData.ViewAll&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.MedicalUpdateRawData,function(e,t){t.IsSelected&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeMedicalUpdateById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltereeMedicalUpdateList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var l=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(a.selectedId,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(a.selectedId,i),1),$.inArray(a.selectedId,l)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(a.selectedId);var r=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("sheltereeRequestData.SelectedIdsCount",r-1)}n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}a.dsSheltereeMedicalUpdateList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchSheltereeMedicalUpdatees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwsmulChkSheltereeMedicalUpdate:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,l)<0){a.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=0),a.set("sheltereeRequestData.SelectedIdsCount",i+1)}}else if($.inArray(e.data.Id,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,l),1),$.inArray(e.data.Id,t)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),a.set("sheltereeRequestData.SelectedIdsCount",i-1)}var r=a.get("dsSheltereeMedicalUpdateList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeMedicalUpdateList").find("th[role='columnheader']").first();$(t).html("<input type='checkbox' id='chkAll' />"),$("#vwSheltereeMedicalUpdateList").find("#chkAll").click(function(e){var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds"),i=$("#vwSheltereeMedicalUpdateList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("sheltereeRequestData.OrigSelectedIdsCount"),s=a.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(i).prop("checked",!0),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(i,t),1),$.inArray(i,l)<0&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(i),r+=1}),0>r&&(r=0),a.set("sheltereeRequestData.SelectedIdsCount",r)}else{var d=a.get("sheltereeRequestData.SelectedIdsCount");$(i).prop("checked",!1),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(i,l),1),$.inArray(i,t)<0&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(i),d-=1}),0>d&&(d=0),a.set("sheltereeRequestData.SelectedIdsCount",d)}var o=a.get("dsSheltereeMedicalUpdateList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsSheltereeMedicalUpdateList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.sheltereeRequestData.ViewAll=!0,a.sheltereeRequestData.FetchSelectedOnly=!1,a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.ViewAll=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,n.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),a.set("sheltereeRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeMedicalUpdateBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateSheltereeMedicalUpdate())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereeMedicalUpdateesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/sheltereeModule/sheltereeMedicalUpdateList/view.html",[],function(){return'\r\n<div id="vwSheltereeMedicalUpdateList">\r\n\r\n    <!--View name : vwSheltereeMedicalUpdateList-->\r\n    <!--Control id prefix : vwsmul-->\r\n\r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="cssform paddingT0">\r\n\r\n                <div class="marginL10">\r\n                    <div class="bold" style="position:relative; top:5px;">\r\n                        <div>\r\n                            <span>{{nls.lblEventName}} </span>\r\n                            <span data-bind="text:eventdata.EventName"></span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{{nls.lblDuration}} </span>\r\n                            <span data-bind="text:eventdata.EventDuration"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Search and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left paddtop-01em marginR10 marginL5">\r\n                        <input type="text" id="vwsmulTxtSearch" value="" data-bind="value:searchToken,events:{keyup:searchSheltereeMedicalUpdatees}" \r\n                               data-value-update="keyup" class="custom_searchbox" />\r\n                    </div>\r\n                    <div class="pull-left">\r\n\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n\r\n                    </div>\r\n                    <div class="pull-right paddright-05em icons">\r\n                        <span class="paddingR10" id="vwsmulBtnExcel">\r\n                            <a class="linkcolor excel underline_text" data-bind="click:btnExportExcelClick">\r\n                                {{nls.btnExportToExcel}}\r\n                            </a>\r\n                        </span>\r\n\r\n                        <span class="paddingR10" data-bind="text : filterText" style="color: #FF0000; font-weight: bold;"> </span>\r\n\r\n                        <span class="paddingR10">\r\n                            <a class="linkcolor underline_text veiwallposition"\r\n                               data-bind="click:btnFilterOffClick">{{nls.btnFilterOff}}</a>\r\n                        </span>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n\r\n                <!-- facility name -->\r\n                <div class="marginL10">\r\n                    <span class="bold" style="position:relative; top:5px;">\r\n                        <span>{{nls.lblShelterName}} </span>\r\n                        <span data-bind="text:SheltereeDischargeHeaderData.shelter.Name"></span>\r\n                    </span>\r\n                </div>\r\n                <!-- Search and buttons -->\r\n                <!-- Data grid -->\r\n                <div id="vwsmulDgSheltereeMedicalUpdateListParent" class="padding10 table-wrapper  fixedGrid">\r\n                    <table id="vwsmulDgSheltereeMedicalUpdateList" cellspacing="0" cellpadding="0" border="0" class="grid split-table customDataTable"\r\n                           data-bind="source:dsSheltereeMedicalUpdateList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                           data-role="grid" data-filterable="true"\r\n                           data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                           data-row-template="vwsmulRow-template"\r\n                           data-selectable="true"\r\n                           data-columns="[\r\n                                   {width:\'30px\'},\r\n                                   {title:\'Edit\',width:\'50px\'},\r\n                                   {title:\'Delete\',width:\'60px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'SectionBed\',title:\'{{nls.gdColSectionBed}}\', width:\'150px\'},\r\n                                   {field:\'Comments\',title:\'{{nls.gdColComments}}\', width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                               ]"\r\n                           data-pageable="true" data-scrollable="true"></table>\r\n                </div>\r\n                <!-- Data grid -->\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span></br>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwsmulRow-template">\r\n    <tr>\r\n\r\n\r\n        <td data-title="{{nls.gdColIsSelected}}" class="paddingLR8">\r\n            <span class="marginL8"><input data-bind="checked:IsSelected, events:{change:vwsmulChkSheltereeMedicalUpdate}" type="checkbox" data-item-type="child" data-id=${Id} /></span>\r\n        </td>\r\n\r\n        <td>\r\n            <img src="content/app/images/edit-icon.jpg" align="absmiddle" data-bind="click:btnEditClick" />\r\n        </td>\r\n        <td>\r\n            <img src="content/app/images/delete.png" align="absmiddle" data-bind="click:btnDeleteClick" />\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColShelterName}}">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColSectionBed}}">\r\n            ${SectionBed}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColComments}}">\r\n            ${Comments}\r\n        </td>\r\n        \r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n    </tr>\r\n</script>\r\n'}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/nls/resources",{root:{headerSheltereeMedicalUpdate:"SheltereeMedicalUpdate",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColSectionBed:"ColSection Bed",gdColComments:"ColComments",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"View All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=!1;l.listen($ct.en.getManageSheltereeMedicalUpdateClicked(),function(){s=!0}),l.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeMedicalUpdateList()==e&&i&&i.data.shelterChange()}),l.listen($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated(),function(){i&&(i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid())}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeMedicalUpdateList()==e&&i&&(i.data.initialize(),i.data.refreshSheltereeGrid())}),this.activate=function(d,o){l.parentContext.currentView=$ct.rn.getSheltereeMedicalUpdateList(),s&&r&&(s=!1,i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),i=new t(l),$("#vwSheltereeMedicalUpdateList, #vwsmulDgSheltereeMedicalUpdateList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data),i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r.show(),l.parentContext.activeForm=$ct.rn.getSheltereeMedicalUpdateList(),l.notify($ct.en.getShowActiveSheltereeHeader(),null),l.notify($ct.en.getShowSheltereeShelterHeader(),null),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/sheltereeDischargeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Shelteree Discharge List help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeDischargeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelteree Discharge List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],dispositionFilterLookUp:[],caregiversFilterLookUp:[],transportationTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){a.set("sheltereeHeaderData",n.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.sheltereeRequestData.ViewAll&&(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.sheltereeRequestData.ViewAll=!1,n.parentContext.sheltereeRequestData.ViewAll=!1,a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeDischargeList:function(){},fillGrid:function(){var e=$("#vwsdlDgSheltereeDischargeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeDischargeList",$ct.ds.sheltree.sheltree.getSheltereeDischargees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.shelterFilterLookUp=e.Data.ShelterLookupData,a.parishFilterLookUp=e.Data.ParishLookupData,a.regionFilterLookUp=e.Data.RegionLookupData,a.dispositionFilterLookUp=e.Data.DispositionLookupData,a.caregiversFilterLookUp=e.Data.CaregiversLookupData,a.transportationTypeFilterLookUp=e.Data.TransportationTypeLookupData,$("#vwsdlDgSheltereeDischargeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.regionFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Caregivers']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.caregiversFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='TransportationType']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.transportationTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Disposition']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.dispositionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsSheltereeDischargeList").total()>0?$("#vwsdlBtnExcel").show():$("#vwsdlBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,n.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,a.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,a.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&a.sheltereeRequestData.ViewAll&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.DischargeRawData,function(e,t){t.IsSelected&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeDischargeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltereeDischargeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var l=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(a.selectedId,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(a.selectedId,i),1),$.inArray(a.selectedId,l)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(a.selectedId);var r=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("sheltereeRequestData.SelectedIdsCount",r-1)}n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}a.dsSheltereeDischargeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchSheltereeDischargees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwsdlChkSheltereeDischarge:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,l)<0){a.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=0),a.set("sheltereeRequestData.SelectedIdsCount",i+1)}}else if($.inArray(e.data.Id,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,l),1),$.inArray(e.data.Id,t)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var i=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),a.set("sheltereeRequestData.SelectedIdsCount",i-1)}var r=a.get("dsSheltereeDischargeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeDischargeList").find("th[role='columnheader']").first();$(t).html("<input type='checkbox' id='chkAll' />"),$("#vwSheltereeDischargeList").find("#chkAll").click(function(e){var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds"),i=$("#vwSheltereeDischargeList").find("input[data-item-type='child']");
if(e.target.checked){var r=a.get("sheltereeRequestData.OrigSelectedIdsCount"),s=a.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(i).prop("checked",!0),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(i,t),1),$.inArray(i,l)<0&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(i),r+=1}),0>r&&(r=0),a.set("sheltereeRequestData.SelectedIdsCount",r)}else{var d=a.get("sheltereeRequestData.SelectedIdsCount");$(i).prop("checked",!1),$(i).each(function(e,n){var i=$(n).attr("data-id");$.inArray(i,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(i,l),1),$.inArray(i,t)<0&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(i),d-=1}),0>d&&(d=0),a.set("sheltereeRequestData.SelectedIdsCount",d)}var o=a.get("dsSheltereeDischargeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsSheltereeDischargeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.sheltereeRequestData.ViewAll=!0,a.sheltereeRequestData.FetchSelectedOnly=!1,a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.ViewAll=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,n.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),a.set("sheltereeRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeDischargeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateSheltereeDischarge())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereeDischargeesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/sheltereeModule/sheltereeDischargeList/view.html",[],function(){return'<div id="vwSheltereeDischargeList">\r\n    \r\n    <!--View name : vwSheltereeDischargeList-->\r\n    <!--Control id prefix : vwsdl-->\r\n    \r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="cssform paddingT0">\r\n\r\n                <div class="marginL10">\r\n                    <div class="bold" style="position:relative; top:5px;">\r\n                        <div>\r\n                            <span>{{nls.lblEventName}} </span>\r\n                            <span data-bind="text:eventdata.EventName"></span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{{nls.lblDuration}} </span>\r\n                            <span data-bind="text:eventdata.EventDuration"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Search and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left paddtop-01em marginR10 marginL5">\r\n                        <input type="text" id="vwsdlTxtSearch" value="" data-bind="value:searchToken,events:{keyup:searchSheltereeDischargees}"\r\n                               data-value-update="keyup" class="custom_searchbox" />\r\n                    </div>\r\n                    <div class="pull-left">\r\n\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n\r\n                    </div>\r\n                    <div class="pull-right paddright-05em icons">\r\n                        <span class="paddingR10" id="vwsdlBtnExcel">\r\n                            <a class="linkcolor excel underline_text" data-bind="click:btnExportExcelClick">\r\n                                {{nls.btnExportToExcel}}\r\n                            </a>\r\n                        </span>\r\n\r\n                        <span class="paddingR10" data-bind="text : filterText" style="color: #FF0000; font-weight: bold;"> </span>\r\n\r\n                        <span class="paddingR10">\r\n                            <a class="linkcolor underline_text veiwallposition"\r\n                               data-bind="click:btnFilterOffClick">{{nls.btnFilterOff}}</a>\r\n                        </span>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n\r\n                <!-- facility name -->\r\n                <div class="marginL10">\r\n                    <span class="bold" style="position:relative; top:5px;">\r\n                        <span>{{nls.lblShelterName}} </span>\r\n                        <span data-bind="text:SheltereeDischargeHeaderData.shelter.Name"></span>\r\n                    </span>\r\n                </div>\r\n                <!-- Search and buttons -->\r\n                <!-- Data grid -->\r\n                <div id="vwsdlDgSheltereeDischargeListParent" class="padding10 table-wrapper  fixedGrid">\r\n                    <table id="vwsdlDgSheltereeDischargeList" cellspacing="0" cellpadding="0" border="0" class="grid split-table customDataTable"\r\n                           data-bind="source:dsSheltereeDischargeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                           data-role="grid" data-filterable="true"\r\n                           data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                           data-row-template="vwsdlRow-template"\r\n                           data-selectable="true"\r\n                           data-columns="[\r\n                                   {width:\'30px\'},\r\n                                   {title:\'Edit\',width:\'50px\'},\r\n                                   {title:\'Delete\',width:\'60px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Caregivers\',title:\'{{nls.gdColCaregivers}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'TransportationType\',title:\'{{nls.gdColTransportationType}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'Disposition\',title:\'{{nls.gdColDisposition}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'DischargeDate\',title:\'{{nls.gdColDischargeDate}}\',filterable:false ,width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                               ]"\r\n                           data-pageable="true" data-scrollable="true"></table>\r\n                </div>\r\n                <!-- Data grid -->\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " data-bind="click:btnBulkUpdateClick">\r\n                            {{nls.btnBulkUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn" data-bind="click:btnAddClick">\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n\r\n    </div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span></br>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwsdlRow-template">\r\n    <tr>\r\n\r\n\r\n        <td data-title="{{nls.gdColIsSelected}}" class="paddingLR8">\r\n            <span class="marginL8"><input data-bind="checked:IsSelected, events:{change:vwsdlChkSheltereeDischarge}" type="checkbox" data-item-type="child" data-id=${Id} /></span>\r\n        </td>\r\n\r\n        <td>\r\n            <img src="content/app/images/edit-icon.jpg" align="absmiddle" data-bind="click:btnEditClick" />\r\n        </td>\r\n        <td>\r\n            <img src="content/app/images/delete.png" align="absmiddle" data-bind="click:btnDeleteClick" />\r\n        </td>\r\n\r\n        <td data-title="Shelter Name">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColCaregivers}}">\r\n            ${Caregivers}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColTransportationType}}">\r\n            ${TransportationType}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDisposition}}">\r\n            ${Disposition}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDischargeDate}}">\r\n            ${DischargeDate}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>\r\n'}),define("modules/sheltereeModule/sheltereeDischargeList/nls/resources",{root:{headerSheltereeDischarge:"Shelteree Discharge",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColCaregivers:"Caregivers",gdColTransportationType:"Transportation Type",gdColDischargeDate:"Discharge Date",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"View All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/sheltereeModule/sheltereeDischargeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null,s=!1;l.listen($ct.en.getManageSheltereeDischargeClicked(),function(){s=!0}),l.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeDischargeList()==e&&i&&i.data.shelterChange()}),l.listen($ct.en.getSheltereeDischargeCreatedOrUpdated(),function(){i&&(i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid())}),l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeDischargeList()==e&&i&&(i.data.initialize(),i.data.refreshSheltereeGrid())}),this.activate=function(d,o){l.parentContext.currentView=$ct.rn.getSheltereeDischargeList(),s&&r&&(s=!1,i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),i=new t(l),$("#vwSheltereeDischargeList, #vwsdlDgSheltereeDischargeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(i.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),i.data),i.data.initialize(),i.data.initializeSheltereeHeader(),i.data.fillGrid()),r.show(),l.parentContext.activeForm=$ct.rn.getSheltereeDischargeList(),l.notify($ct.en.getShowActiveSheltereeHeader(),null),l.notify($ct.en.getShowSheltereeShelterHeader(),null),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(i.data.setFetchSelectedDataParams(),r.hide())}};return l}),define("text!modules/sheltereeModule/bulkUpdateShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployee help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var l=$ct.mt.getErrorObject(t);null!=l&&(n.notify($ct.en.getShowErrorMsg(),l),e.UrlController.goTo($ct.rn.getSheltereeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1",a.saveRequest.valDisposition="-1",a.saveRequest.valTransportationType="-1"})},resetFields:function(){a.intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1"),a.set("saveRequest.valDisposition","-1"),a.set("saveRequest.valTransportationType","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1",valDisposition:"-1",valTransportationType:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateShelteree/view.html",[],function(){return'\r\n<div id="vwBulkUpdateShelteree">\r\n    <!--View name : vwBulkUpdateShelteree-->\r\n    <!--Control id prefix : vwbus-->\r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="row grid-select-container">\r\n                <!-- Top heading and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left">\r\n                        <h2>\r\n                            {{nls.headerBulkUpdateShelteree}}\r\n                        </h2>\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusSave" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n                <!-- Top heading and buttons -->\r\n                <!-- Patient Info -->\r\n                <div class="history-box cfx">\r\n                    <div class="title-new div-title">\r\n                        <h5>\r\n                            <a data-bind="click:helpClick"><i class="icon-help-circled"></i></a>{{nls.headerEmployee}}\r\n                        </h5>\r\n                    </div>\r\n                    <div class="cssform">\r\n                        <!--<div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblStaffType}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusDdlStaffTypes" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.StaffTypeData, value:saveRequest.valStaffType"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblDepartment}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusDdlDepartments" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.AgencyDepartmentData, value:saveRequest.valDepartment"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="clear">\r\n                        </div>-->\r\n\r\n                      \r\n                        <div class="paddingL165 pull-left" id="vwbusDisposition">\r\n                            <label>\r\n                                {{nls.lblDiposition}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select class="inputClass" data-role="dropdownlist" data-bind="source:dsLookupData.DispositionData, value:saveRequest.valDisposition"\r\n                                            data-value-field="Key" data-text-field="Value"></select>\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="paddingL165 pull-left" id="vwbusTransportation">\r\n                            <label>\r\n                                {{nls.lblTransportation}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select class="inputClass" data-role="dropdownlist" data-bind="source:dsLookupData.TransportationData, value:saveRequest.valTransportationType"\r\n                                            data-value-field="Key" data-text-field="Value"></select>\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="clear">\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusSave1" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn  " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateShelteree/nls/resources",{root:{headerBulkUpdateShelteree:"BulkUpdate - Shelteree",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"StaffType",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"StaffSpecialty",lblDiposition:"Diposition",lblTransportation:"Transportation Type"}}),define("modules/sheltereeModule/bulkUpdateShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateShelteree()==e&&i&&i.data.resetFields()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateShelteree(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.resetFields(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null),l.notify($ct.en.getHideSheltereeHeaderNavigation(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/bulkUpdateSheltereeDischarge/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeExpanded help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeDischargeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var l=$ct.mt.getErrorObject(t);null!=l&&(n.notify($ct.en.getShowErrorMsg(),l),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeDischargeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeDischargeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeDischargeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateSheltereeDischarge/view.html",[],function(){return'\r\n<div id="vwBulkUpdateSheltereeDischarge">\r\n    <!--View name : vwBulkUpdateSheltereeDischarge-->\r\n    <!--Control id prefix : vwbusd-->\r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="row grid-select-container">\r\n                <!-- Top heading and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left">\r\n                        <h2>\r\n                            {{nls.headerBulkUpdateSheltereeDischarge}}\r\n                        </h2>\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusdSave" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n                <!-- Top heading and buttons -->\r\n                <!-- Patient Info -->\r\n                <div class="history-box cfx">\r\n                    <div class="title-new div-title">\r\n                        <h5>\r\n                            <a data-bind="click:helpClick"><i class="icon-help-circled"></i></a>{{nls.headerEmployee}}\r\n                        </h5>\r\n                    </div>\r\n                    <div class="cssform">\r\n                        <!--<div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblStaffType}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusdDdlStaffTypes" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.StaffTypeData, value:saveRequest.valStaffType"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblDepartment}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusdDdlDepartments" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.AgencyDepartmentData, value:saveRequest.valDepartment"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="clear">\r\n                        </div>-->\r\n\r\n                        <div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblShift}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusddDdlShifts" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!--<div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblStaffSpecialty}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusddDdlStaffSpecialties" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.StaffSpecialityData, value:saveRequest.valStaffSpeciality"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="clear">\r\n                        </div>-->\r\n\r\n                    </div>\r\n                </div>\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusddSave" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn  " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n';
}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/nls/resources",{root:{headerBulkUpdateSheltereeDischarge:"BulkUpdate - Shelteree Discharge",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"StaffType",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"StaffSpecialty"}}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateSheltereeDischarge()==e&&i&&i.data.resetFields()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateSheltereeDischarge(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.resetFields(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null),l.notify($ct.en.getHideSheltereeHeaderNavigation(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeExpanded help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeMedicalUpdateBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var l=$ct.mt.getErrorObject(t);null!=l&&(n.notify($ct.en.getShowErrorMsg(),l),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeMedicalUpdateData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/view.html",[],function(){return'\r\n<div id="vwBulkUpdateSheltereeMedicalUpdate">\r\n    <!--View name : vwBulkUpdateSheltereeMedicalUpdate-->\r\n    <!--Control id prefix : vwbusmu-->\r\n    <div id="bd2" class="cfx">\r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="row grid-select-container">\r\n                <!-- Top heading and buttons -->\r\n                <div class="title-bar cfx">\r\n                    <div class="pull-left">\r\n                        <h2>\r\n                            {{nls.headerBulkUpdateSheltereeMedicalUpdate}}\r\n                        </h2>\r\n                    </div>\r\n                    <div class="btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusmuSave" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class="clear">\r\n                </div>\r\n                <!-- Top heading and buttons -->\r\n                <!-- Patient Info -->\r\n                <div class="history-box cfx">\r\n                    <div class="title-new div-title">\r\n                        <h5>\r\n                            <a data-bind="click:helpClick"><i class="icon-help-circled"></i></a>{{nls.headerEmployee}}\r\n                        </h5>\r\n                    </div>\r\n                    <div class="cssform">\r\n                        <!--<div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblStaffType}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusmudlStaffTypes" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.StaffTypeData, value:saveRequest.valStaffType"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblDepartment}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusmudlDepartments" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.AgencyDepartmentData, value:saveRequest.valDepartment"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="clear">\r\n                        </div>-->\r\n\r\n                        <div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblShift}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusmuDdlShifts" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!--<div class="paddingL165 pull-left">\r\n                            <label>\r\n                                {{nls.lblStaffSpecialty}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwbusmuDdlStaffSpecialties" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsLookupData.StaffSpecialityData, value:saveRequest.valStaffSpeciality"\r\n                                            data-text-field="Value" data-value-field="Key" />\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="clear">\r\n                        </div>-->\r\n\r\n                    </div>\r\n                </div>\r\n                <!-- Buttons update bottom -->\r\n                <div class="update-details cfx">\r\n                    <div class="one-col btn-container pull-right">\r\n                        <button type="button" class="btn " id="vwbusmuSave" data-bind="click:btnSaveClick">\r\n                            {{nls.btnUpdate}}\r\n                        </button>\r\n                        <button type="button" class="btn  " data-bind="click:btnCancelClick">\r\n                            {{nls.btnCancel}}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/nls/resources",{root:{headerBulkUpdateSheltereeMedicalUpdate:"BulkUpdate - Shelteree MedicalUpdate",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"StaffType",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"StaffSpecialty"}}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateSheltereeMedicalUpdate()==e&&i&&i.data.resetFields()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getBulkUpdateSheltereeMedicalUpdate(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.resetFields(),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null),l.notify($ct.en.getHideSheltereeHeaderNavigation(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/downloadShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>DownloadShelteree help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/downloadShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Download Shelteree  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsShelters",t),a.set("selectedShelterItem",t[0]))})},btnDownloadSheltereeDataClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.downloadSheltereeToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/sheltereeModule/downloadShelteree/view.html",[],function(){return'\r\n<div id="vwDownloadShelteree">\r\n    <!--View name : vwDownloadShelteree-->\r\n    <!--Control id prefix : vwds-->   \r\n    <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n        <div class="cssform paddingT0">\r\n            <!-- Top heading and buttons -->\r\n            <!-- Top heading and buttons -->\r\n            <!-- Search and buttons -->\r\n            <div class="clear">\r\n            </div>\r\n            <!-- Search and buttons -->\r\n            <!-- Download employee data -->\r\n            <div class="history-box cfx">\r\n                <div class="title-new div-title">\r\n                    <h5>\r\n                        <i class="icon-help-circled" data-bind="click:helpClick"></i>{{nls.headerDownloadShelteree}}\r\n                    </h5>\r\n                </div>\r\n                <div class="cssform">\r\n\r\n\r\n                    <div class="paddingL165">\r\n                        <label for="vwdpDdlRegions">\r\n                            <span class="">{{nls.lblShelter}}</span>\r\n                        </label>\r\n                        <div class="item_parent">\r\n                            <div class="item_width">\r\n                                <select id="vwdsDdlShelters" class="inputClass" data-role="dropdownlist" data-bind="source:dsShelters,value:selectedShelterItem"\r\n                                        data-text-field="Name" data-value-field="Id" required />\r\n                            </div>\r\n                            <div class="clear"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div class="paddingL165">\r\n                        <label>\r\n                        </label>\r\n                        <div class="item_parent">\r\n\r\n                            <button class="btn" data-bind="click:btnDownloadSheltereeDataClick" type="button">\r\n                                {{nls.btnDownloadShelteree}}\r\n                            </button>\r\n\r\n                            <div class="clear">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("modules/sheltereeModule/downloadShelteree/nls/resources",{root:{headerDownloadShelteree:"Download Shelteree",lblShelterType:"ShelterType:",lblShelter:"Shelter:",btnDownloadShelteree:"Download Shelteree"}}),define("modules/sheltereeModule/downloadShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDownloadShelteree()==e&&i&&i.data.initializeShelters()}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getDownloadShelteree(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.initializeShelters(),r.show(),l.parentContext.activeForm=$ct.rn.getDownloadShelteree(),l.notify($ct.en.getShowActiveSheltereeHeader(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/shelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Employee help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/shelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Add Edit Shelteree page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)}});return{data:a}};return n}),define("text!modules/sheltereeModule/shelteree/view.html",[],function(){return'<div id="vwShelteree">\r\n    <!--View name : vwShelteree-->\r\n    <!--Control id prefix : vws-->\r\n    \r\n    <h2 class="title">\r\n        {{nls.headerAddEditShelteree}}<a data-bind="click:helpClick">\r\n            <i class="icon-help-circled">\r\n            </i>\r\n        </a>\r\n    </h2>\r\n    <div>\r\n        <span data-bind="text:pageName"></span>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/sheltereeModule/shelteree/nls/resources",{root:{headerAddEditShelteree:"Add edit Shelteree"}}),define("modules/sheltereeModule/shelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getShelteree(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),r.show(),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null),l.notify($ct.en.getHideSheltereeHeaderNavigation(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/sheltereeModule/uploadShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>UploadShelteree help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/uploadShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({FileContentId:0,FacilityId:0,fileCount:0,dsFacilityNames:[],selectedFacilityNameItem:{},dsImportOptions:[],selectedImportAction:1,initialize:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor(),e=e.Data,void 0!==e&&null!==e&&e.length>0&&a.set("selectedFacilityNameItem",e[0]),a.set("dsFacilityNames",e)}),$ct.ds.sheltree.sheltree.getImportActionOptions(function(e){e=e.Data,$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsImportOptions",e)})},ddlFacilityNames:function(e){a.clearData()},radiobtnClick:function(e){a.clearData()},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},fileProgress:function(e){return""==e?"":"File Uploading.."},onUploadFile:function(e){".xls"===e.files[0].extension||".xlsx"===e.files[0].extension?($("#vwusUploadProgess").show(),1==a.selectedImportAction&&(n.notify($ct.en.getShowValidationMsg(),$ct.msg.getSheltereeUploadImportOption()),$("#vwusUploadProgess").hide(),e.preventDefault()),e.data={FacilityId:a.selectedFacilityNameItem.Id,ImportAction:a.selectedImportAction}):(a.get("clearData")(),n.notify($ct.en.getShowValidationMsg(),$ct.msg.getUploadValidFile()),e.preventDefault())},onSelectFile:function(e){a.fileCount>0&&$(".k-upload-files").remove(),$(".k-upload-files.k-reset").show(),$(".k-upload-selected").show(),a.fileCount++},onProgressFileUpload:function(e){$("#vwusUploadProgess").show(),a.get("fileProgress")(e.percentComplete)},onSuccees:function(e){$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwusUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("");var t=e.response,l=e.response,i=$("#vwuSheltereesList").data("kendoGrid");if(void 0!=i.dataSource.filter&&i.dataSource.filter({}),void 0!=i.dataSource.sort&&i.dataSource.sort({}),a.set("UploadSummary",l),0===t.FailedImportedShelterees.length){if(0==t.TotalCount&&0==t.SuccessCount)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getSheltereeUploadError());n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg())}else{for(var r=0;r<t.FailedImportedShelterees.length;r++){var s=t.FailedImportedShelterees[r];l.FailedImportedShelterees[r].ValidationError=s.ValidationError.replace(/\\r\\n/g,"\r\n")}a.set("UploadSummary",l),l.FailedImportedShelterees.length>0&&a.set("FacilityId",l.FailedImportedShelterees[0].FacilityId),a.set("FileContentId",l.FileContentId),l.FailCount>0?($("#vwusExcel").show(),$("#vwusDivGrid").show(),$("#vwuSheltereesList").data("kendoGrid").dataSource.page(1)):($("#vwusExcel").hide(),$("#vwusDivGrid").hide())}$("#vwusSummary").show()},onError:function(e){$("#vwusUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("")},onCompleteFileUpload:function(e){},replaceString:function(e){return e.replace("|g","<br />")},clearData:function(e){$("#vwusExcel").hide(),$("#vwusSummary").hide(),$("#vwueDivGrid").hide(),$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwusUploadProgess").hide(),$(".k-upload-selected").hide(),$(".k-upload-files").remove(),$(".k-upload-status").remove(),$(".k-upload.k-header").addClass("k-upload-empty"),$(".k-upload-button").removeClass("k-state-focused")},btnExportExcelClick:function(e){$ct.ds.sheltree.sheltree.getExportFailedImportedSheltereeDataToExcel(this,function(e){if("Failure"!==e.AcknowledgeType){$("#vwusExportExcel").attr("href",e.Data.DownloadUrl),$("#vwusExportExcel").click(function(e){window.location.href=$("#vwusExportExcel").attr("href")});var t=jQuery.Event("click");$("#vwusExportExcel").trigger(t)}else n.notify($ct.en.getShowValidationMsg(),e.Message)})}});return{data:a}};return n}),define("text!modules/sheltereeModule/uploadShelteree/view.html",[],function(){return'\r\n<div id="vwUploadShelteree">\r\n    <!--Control id prefix : vwus--> \r\n        <div class="wrapper wrapper2 cfx" style="background: #fff;">\r\n            <div class="cssform paddingT0">\r\n                <!-- Top heading and buttons -->\r\n                <!-- Top heading and buttons -->\r\n                <!-- Search and buttons -->\r\n                <div class="clear">\r\n                </div>\r\n                <!-- Search and buttons -->\r\n                <!-- Upload Sheletree data -->\r\n                <div class="history-box cfx">\r\n                    <div class="title-new div-title">\r\n                        <h5>\r\n                            <i class="icon-help-circled" data-bind="click:helpClick"></i>{{nls.headerUploadShelteree}}\r\n                        </h5>\r\n                    </div>\r\n                    <div class="cssform">\r\n\r\n                        <div class="paddingL165">\r\n                            <label for="vwusDdlFacilityNames" class="facilityname">\r\n                                <span class="">{{nls.lblFacility}}</span>\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n                                    <select id="vwusDdlFacilityNames" data-role="dropdownlist" class="select inputClass"\r\n                                            data-bind="source:dsFacilityNames,events:{change:ddlFacilityNames},value:selectedFacilityNameItem"\r\n                                            data-text-field="Name" data-value-field="Id" />\r\n                                </div>\r\n                                <div class="clear"></div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="paddingL165">\r\n                            <label for="brandList" class="" id="brands">\r\n                                {{nls.lblOptions}}\r\n                            </label>\r\n                            <div class="item_parent" data-template="vwusImportOptions-template" data-bind="source:dsImportOptions"\r\n                                 data-role="listview" style="border: none">\r\n                            </div>\r\n                        </div>\r\n                        <div class="clear">\r\n                        </div>\r\n                        <div class="paddingL165">\r\n                            <label>\r\n                                {{nls.lblUpload}}\r\n                            </label>\r\n                            <div class="item_parent">\r\n                                <div class="item_width">\r\n\r\n\r\n\r\n                                    <input id="vwusUpload" name="vwusUpload" type="file"\r\n                                           data-role="upload"\r\n                                           data-multiple=false\r\n                                           data-async="{ saveUrl:\'{{nls.fileUploadUrl}}\',\r\n                                       autoUpload:false}"\r\n                                           data-bind="events:\r\n                                        {select: onSelectFile,\r\n                                        upload:onUploadFile,\r\n                                        success:onSuccees,\r\n                                        complete:onCompleteFileUpload,\r\n                                        error: onError,\r\n                                        remove:onRemove,\r\n                                        progress:onProgressFileUpload}" />\r\n                                </div>\r\n                                <div>\r\n                                    <span data-bind="text:fileProgress" id="vwusUploadProgess" style="display: none">\r\n                                    </span>\r\n                                </div>\r\n                                <div class="clear">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class="title-bar cfx">\r\n                        <div class="pull-right paddright-05em icons" id="vwusExcel" style="display: none">\r\n                            <span class="paddingR10">\r\n                                <a class="linkcolor excel underline_text" data-bind="click:btnExportExcelClick">\r\n                                    {{nls.btnExportToExcel}}\r\n                                </a>\r\n                            </span>\r\n                        </div>\r\n                        <table class="dataTable textBold" id="vwusSummary" style="display: none">\r\n                            <tr>\r\n                                <td>\r\n                                    {{nls.lblTotalRecords}} : <span data-bind="text:UploadSummary.TotalCount"></span>\r\n                                </td>\r\n                                <td>\r\n                                    {{nls.lblTotalRecordsUpdated}} : <span data-bind="text:UploadSummary.SuccessCount">\r\n                                    </span>\r\n                                </td>\r\n                                <td>\r\n                                    {{nls.lblTotalRecordsFailed}}: <span data-bind="text:UploadSummary.FailCount"></span>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n\r\n                        <div style="display: none" id="vwusDivGrid" class="padding10 table-wrapper customscroll">\r\n                            <table id="vwuSheltereesList" cellspacing="0" cellpadding="0" border="0" class="grid split-table customDataTable"\r\n                                   data-scrolable="true" data-bind="source:UploadSummary.FailedImportedShelterees"\r\n                                   data-role="grid" data-filterable="true" data-sortable="true" data-row-template="vwusRow-template"\r\n                                   data-selectable="true" data-columns="[{field:\'FirstName\',title:\'{{nls.gdColFirstName}}\'},{field:\'LastName\',title:\'{{nls.gdColLastName}}\'},{field:\'ValidationError\',title:\'{{nls.gdColReason}}\'}]"\r\n                                   data-pageable="true"></table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Upload Employee data -->\r\n                <div style="display: none">\r\n                    <a id="vwusExportExcel"></a>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <script type="text/x-kendo-template" id="vwusRow-template">\r\n\r\n        <tr>\r\n            <td>${FirstName}</td>\r\n            <td>${LastName}</td>\r\n\r\n            <td> <span data-bind="text:ValidationError"></span></td>\r\n        </tr>\r\n\r\n    </script>\r\n\r\n\r\n    <script type="text/x-kendo-template" id="vwusImportOptions-template">\r\n\r\n        <div class="item_width">\r\n            <input type="radio" name="ImportActionType" id="${data.Key}" value="${data.Key}" data-bind="checked:selectedImportAction, click:radiobtnClick" class="check_radio_align"></input>\r\n            <label for="${data.Key}" class="lblfor" style="vertical-align: middle">\r\n                ${data.Value}\r\n            </label>\r\n        </div>\r\n\r\n    </script>\r\n'}),define("modules/sheltereeModule/uploadShelteree/nls/resources",{root:{headerUploadShelteree:"Upload Shelteree",lblFacility:"Facility Name:",lblUpload:"Upload File:",lblOptions:"Choose Options:",btnExportToExcel:"Export to Excel",lblTotalRecords:"Total No of Records",lblTotalRecordsUpdated:"Total No of Records Updated",lblTotalRecordsFailed:"Total No of Records Failed",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColReason:"Reason",fileUploadUrl:$ct.cn.getSheltereeFacilityUrl()+"UploadShelterees"}}),define("modules/sheltereeModule/uploadShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var l=function(l){var i,r=null;l.listen($ct.en.getRefreshView(),function(e){$ct.rn.getUploadShelteree()==e&&i&&(i.data.clearData(),i.data.initialize())}),this.activate=function(s,d){l.parentContext.currentView=$ct.rn.getUploadShelteree(),r||(r=new e.ViewTemplate(s,n,a),i=new t(l),kendo.bind(r.getDomElement(),i.data)),i.data.clearData(),i.data.initialize(),r.show(),l.parentContext.activeForm=$ct.rn.getUploadShelteree(),l.notify($ct.en.getShowActiveSheltereeHeader(),null),l.notify($ct.en.getHideSheltereeShelterHeader(),null),l.notify($ct.en.getHideEmployeeHeaderNavigation(),null),l.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&($("#vwusDivGrid").hide(),r.hide())}};return l}),define("modules/sheltereeModule/module",["Boiler","./settings","./sheltereeList/component","./sheltereeMedicalUpdateList/component","./sheltereeDischargeList/component","./bulkUpdateShelteree/component","./bulkUpdateSheltereeDischarge/component","./bulkUpdateSheltereeMedicalUpdate/component","./downloadShelteree/component","./shelteree/component","./uploadShelteree/component"],function(e,t,n,a,l,i,r,s,d,o,c){var p=function(p){var u=new e.Context(p);u.addSettings(t);var h=new e.UrlController($(".appcontent"));h.addRoutes({sheltereelist:new n(u),sheltereemedicalupdatelist:new a(u),sheltereedischargelist:new l(u),bulkupdateshelteree:new i(u),bulkupdatesheltereedischarge:new r(u),bulkupdatesheltereemedicalupdate:new s(u),downloadshelteree:new d(u),"shelteree/{id}/{shelterId}":new o(u),uploadshelteree:new c(u)}),h.start()};return p}),define("modules/modules",["require","./baseModule/module","./adminModule/module","./otherModule/module","./employeeModule/module","./shelterModule/module","./sheltereeModule/module"],function(e){return[e("./baseModule/module"),e("./adminModule/module"),e("./otherModule/module"),e("./employeeModule/module"),e("./shelterModule/module"),e("./sheltereeModule/module")]}),define("text!handlers/ajaxError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\r\n    <hr>\r\n    <div class="container">\r\n        <strong>Error:&nbsp;</strong><span data-bind="html: message"></span><br/>\r\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\r\n        <i class="icon-cancel-circle close-btn"></i>\r\n    </div>\r\n</div> -->\r\n\r\n<article class="message is-error">\r\n    <span class="message__icon" aria-hidden="true"></span>\r\n    <h4 class="message__title">Error</h4>\r\n    <p class="message__desc">\r\n        <strong>Error:&nbsp;</strong><span data-bind="html: message"></span><br/>\r\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\r\n    </p>\r\n</article>\r\n'}),define("text!handlers/scriptError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\r\n    <hr>\r\n    <div class="container">\r\n        <strong>Error:&nbsp;</strong><span data-bind="text: message"></span><br/>\r\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\r\n        <strong>Line:&nbsp;</strong><span data-bind="text: line"></span><br/>\r\n        <i class="icon-cancel-circle close-btn"></i>\r\n    </div>\r\n</div> -->\r\n<article class="message is-error">\r\n    <span class="message__icon" aria-hidden="true"></span>\r\n    <h4 class="message__title">Error</h4>\r\n    <p class="message__desc">\r\n        <strong>Error:&nbsp;</strong><span data-bind="text: message"></span><br/>\r\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\r\n        <strong>Line:&nbsp;</strong><span data-bind="text: line"></span><br/>\r\n    </p>\r\n</article>\r\n';
}),define("handlers/errorHandler",["Boiler","text!./ajaxError.htm","text!./scriptError.htm"],function(e,t,n){$(document).ajaxError(function(e,n,a){var l=n.status+" "+n.statusText+" "+n.responseText;null==l&&(l=""),l=l+" At "+$ct.helpers.getCurrentTimeStamp();var i=kendo.observable({message:l,url:a.url});$ct.helpers.errorMsgShow(t,i),$ct.helpers.hideWorkAreaBusyCursor(),$ct.helpers.hidePageBusyCursor()}),window.onerror=function(e,t,a){null==e&&(e=""),e=e+" At "+$ct.helpers.getCurrentTimeStamp();var l=kendo.observable({message:e,url:t,line:a});$ct.helpers.errorMsgShow(n,l),$ct.helpers.hideWorkAreaBusyCursor(),$ct.helpers.hidePageBusyCursor()}}),define("application",["Boiler","./settings","./modules/modules","./handlers/errorHandler"],function(e,t,n,a){var l=function(){this.appContext=new e.Context,this.appContext.token="Test",this.appContext.isAuthenticated=!0,this.appContext.addSettings(t),this.appContext.loadChildContexts(n)};return l.prototype.SetupTokenBeforeSend=function(e){var t="Bearer "+e;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t),e.setRequestHeader("Accept","application/json")}})},l.prototype.SetToken=function(e){this.SetupTokenBeforeSend(e),this.appContext.isAuthenticated=!0,this.appContext.loadChildContexts(n)},l}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t++)e[t](o)}function t(){var t=c;d&&t.length&&(c=[],e(t))}function n(){d||(d=!0,r&&clearInterval(r),t())}function a(e){return d?e(o):c.push(e),a}var l,i,r,s="undefined"!=typeof window&&window.document,d=!s,o=s?document:null,c=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),i=document.createElement("div");try{l=null===window.frameElement}catch(p){}i.doScroll&&l&&window.external&&(r=setInterval(function(){try{i.doScroll(),n()}catch(e){}},30))}("complete"===document.readyState||"interactive"===document.readyState)&&n()}return a.version="2.0.0",a.load=function(e,t,n,l){l.isBuild?n(null):a(n)},a}),require.config({paths:{text:"../assets/js/src/libs/require/text",order:"../assets/js/src/libs/require/order",i18n:"../assets/js/src/libs/require/i18n",domReady:"../assets/js/src/libs/require/domReady",path:"../assets/js/src/libs/require/path",Boiler:"./core/_boiler_"},waitSeconds:30}),require(["./application","domReady"],function(e,t){t(function(){jQuery.support.cors=!0;new e})}),define("main",function(){});
//# sourceMappingURL=main.build.js.map
//# sourceMappingURL=main.js.map
