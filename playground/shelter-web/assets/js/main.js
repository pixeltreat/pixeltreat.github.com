function toggleMainNavActive(e){var t=$(e.currentTarget),n="is-mainnav-active",a=t.hasClass(n);a?resetMainSubNavState(n):(resetMainSubNavState(n),t.addClass(n))}function resetMainSubNavState(e){var t="is-subnav-active",n=$(".app-nav__main__li"),a=$(".app-nav__sub__li");n.removeClass(e),a.removeClass(t)}function toggleSubNavActive(e){var t=$(e.currentTarget),n="is-subnav-active",a=t.siblings("."+n);e.stopPropagation(),a.removeClass(n),t.addClass(n)}define("core/helpers/localizer",[],function(){function e(e){var t=_.templateSettings;_.templateSettings={interpolate:/\{\{(.+?)\}\}/g};var n=_.template(e);return _.templateSettings=t,n}var t=function(){};return t.localize=function(t,n){if(!n)return t;var a=e(t);return a({nls:n})},t.setLanguage=function(e){localStorage.setItem("user-language",e),location.reload()},t.clearLanguage=function(){localStorage.removeItem("user-language"),location.reload()},t}),define("core/helpers/logger",[],function(){var e=function(){this.info=function(e){console&&console.log(e)},this.error=function(e,t){console&&(console.log("ERROR : "+e),console.error(t))}};return e}),define("core/helpers/mediator",[],function(){var e=function(){var e=new PubSub;return{notify:function(t,n){e.publish(t,n)},listen:function(t,n){e.subscribe(t,n)}}};return e}),define("core/helpers/router",[],function(){var e=function(){var e=crossroads.create();return e.normalizeFn=crossroads.NORM_AS_OBJECT,{addRoute:function(t,n){e.addRoute(t,n)},init:function(){function t(t,n){e.parse(t)}hasher.initialized.add(t),hasher.changed.add(t),hasher.isActive()||hasher.init()}}};return e.routeTo=function(e){hasher.setHash(e)},e}),define("core/helpers/settings",[],function(){var e=function(e){var t=!0,n={};return{load:function(e){_.extend(n,e)},items:function(){return t&&e?_.extend(_.clone(e.items()),n):n},chainSettings:function(e){t=e}}};return e}),define("core/helpers/styler",[],function(){var e=function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},t=function(){};return t.attachCssLink=function(t,n){if(n){var a=document.getElementById(n);a?a.href=t:e(t)}else{for(var i=document.getElementsByTagName("link"),l=0;l<i.length;l++)if(i[l].href&&-1!=i[l].href.indexOf(t))return;e(t)}},t.attachCssText=function(e,t){var n=document.getElementById(e);n&&n.parentNode.removeChild(n);var a=document.createElement("style");a.type="text/css",a.setAttribute("id",e),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(a)},t.attachScopedCss=function(e,t){t&&(styleElement=$("<style type='text/css' scoped='scoped'>"+t+"</style>"),e.prepend(styleElement))},t}),define("core/helpers/_helpers_",["require","./localizer","./logger","./mediator","./router","./settings","./styler"],function(e){return{Localizer:e("./localizer"),Logger:e("./logger"),Mediator:e("./mediator"),Router:e("./router"),Settings:e("./settings"),Styler:e("./styler")}}),define("core/context",["./helpers/_helpers_"],function(e){var t=function(t){this.parentContext=t,this.mediator=this.parentContext?this.parentContext.mediator:new e.Mediator,this.settings=this.parentContext?new e.Settings(this.parentContext.settings):new e.Settings};return t.prototype.getSettings=function(){return this.settings.items()},t.prototype.addSettings=function(e){this.settings.load(e)},t.prototype.notify=function(e,t){this.mediator.notify(e,t)},t.prototype.listen=function(e,t){this.mediator.listen(e,t)},t.prototype.setLanguage=function(t){return e.Localizer.setLanguage(t)},t.prototype.clearLanguage=function(){return e.Localizer.clearLanguage()},t.prototype.getParentContext=function(){return this.parentContext},t.prototype.loadChildContexts=function(e){for(var t=0;t<e.length;t++){var n=e[t];new n(this)}},t}),define("core/dom-controller",[],function(){var DomController=function(scope){var self=this;return self.handles={},{addRoutes:function(e){_.extend(self.handles,e)},start:function(){for(path in self.handles)scope.find(path).each(function(index){var paramString=$(this).attr("params"),params=paramString?eval("({"+paramString+"})"):{};$(this).trigger("DEACTIVATE_HANDLERS"),$(this).bind("DEACTIVATE_HANDLERS",function(){!function(e){e.deactivate()}(self.handles[path])}),self.handles[path].activate($(this),params)})}}};return DomController}),define("core/url-controller",["./helpers/_helpers_"],function(e){var t=function(t){function n(e){this.handle=e;var n=this;this.activate=function(e){t.trigger("DEACTIVATE_HANDLERS"),n.handle.activate(t,e)},this.deactivate=function(){jQuery.isFunction(n.handle.deactivate)&&n.handle.deactivate()}}var a={},i=new e.Router;return t.bind("DEACTIVATE_HANDLERS",function(){for(handler in a)a[handler].deactivate()}),{addRoutes:function(e){for(path in e){var t=new n(e[path]);i.addRoute(path,t.activate),a[path]=t}},start:function(){i.init()}}};return t.goTo=function(t){e.Router.routeTo(t)},t}),define("core/view-template",["./helpers/_helpers_"],function(e){var t=function(e,t,n,a){this.createView(e,t,n,a)};return t.setStyleText=function(t,n){e.Styler.attachCssText(t,n)},t.setStyleLink=function(t,n){e.Styler.attachCssLink(t,n)},t.prototype.getElementId=function(){return this.viewId},t.prototype.getJQueryElement=function(){return this.jQueryElement},t.prototype.getDomElement=function(){return this.jQueryElement.get(0)},t.prototype.appendTo=function(e){this.jQueryElement.appendTo(e)},t.prototype.remove=function(){this.jQueryElement.remove()},t.prototype.hide=function(){this.jQueryElement.hide()},t.prototype.show=function(){this.jQueryElement.show()},t.prototype.createView=function(t,n,a,i){n=e.Localizer.localize(n,a),this.viewId=_.uniqueId(["bpjscontainer_"]),this.jQueryElement=$("<span id='"+this.viewId+"'>"+n+"</span>"),e.Styler.attachScopedCss(this.jQueryElement,i),t&&t.append(this.jQueryElement)},t}),define("Boiler",["require","./core/context","./core/dom-controller","./core/url-controller","./core/view-template","./core/helpers/_helpers_"],function(e){return{Context:e("./core/context"),DomController:e("./core/dom-controller"),UrlController:e("./core/url-controller"),ViewTemplate:e("./core/view-template"),Helpers:e("./core/helpers/_helpers_")}}),define("settings",{appName:"Shelter"}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a="undefined"!=typeof location&&location.href,i=a&&location.protocol&&location.protocol.replace(/\:/,""),l=a&&location.hostname,r=a&&(location.port||void 0),s=[];define("text",[],function(){var d,o,c;return"undefined"!=typeof window&&window.navigator&&window.document?o=function(e,t){var n=d.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),o=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(o=function(e,t){var n,a,i=new java.io.File(e),l=java.lang.System.getProperty("line.separator"),i=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),r="";try{for(n=new java.lang.StringBuffer,(a=i.readLine())&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),n.append(a);null!==(a=i.readLine());)n.append(l),n.append(a);r=String(n.toString())}finally{i.close()}t(r)}),d={version:"0.27.0",strip:function(e){if(e){var e=e.replace(t,""),a=e.match(n);a&&(e=a[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(n=0;3>n;n++){a=e[n];try{t=new ActiveXObject(a)}catch(i){}if(t){e=[a];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:o,parseName:function(e){var t=!1,n=e.indexOf("."),a=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return-1!==n&&(t=e.substring(n+1,e.length),t="strip"===t,e=e.substring(0,n)),{moduleName:a,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,a){var i,l=d.xdRegExp.exec(e);return l?(e=l[2],l=l[3],l=l.split(":"),i=l[1],l=l[0],!(e&&e!==t||l&&l!==n||(i||l)&&i!==a)):!0},finishLoad:function(e,t,n,a,i){n=t?d.strip(n):n,i.isBuild&&i.inlineText&&(s[e]=n),a(n)},load:function(e,t,n,s){var o=d.parseName(e),c=o.moduleName+"."+o.ext,p=t.toUrl(c),u=s&&s.text&&s.text.useXhr||d.useXhr;!a||u(p,i,l,r)?d.get(p,function(t){d.finishLoad(e,o.strip,t,n,s)}):t([c],function(e){d.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n,s)})},write:function(e,t,n){if(t in s){var a=d.jsEscape(s[t]);n.asModule(e+"!"+t,"define(function () { return '"+a+"';});\n")}},writeFile:function(e,t,n,a,i){var t=d.parseName(t),l=t.moduleName+"."+t.ext,r=n.toUrl(t.moduleName+"."+t.ext)+".js";d.load(l,n,function(){var t=function(e){return a(r,e)};t.asModule=function(e,t){return a.asModule(e,r,t)},d.write(e,l,t,i)},i)}}})}(),define("text!modules/baseModule/pageHeader/view.html",[],function(){return'<!-- top bar section -->\n<div class="row topbar">\n    <div class="wrapper">\n        <div class="one-col">\n            <div class="welcome">\n                <i class="icon-user"></i><span class="lblue">{{nls.lblWelcome}}</span> <span id="username" data-bind="text:userFullName"> </span>\n            </div>\n        </div>\n        \n        <div class="two-of-three-col pull-right">\n            <ul class="topNav pull-right cfx">\n\n                <li class="cursor-pointer" data-bind="click:homeClick, style: {display: showHomeAndRefreshStyle}"><i class="icon-home"></i>{{nls.lblHome}}</li>\n                <li class="cursor-pointer" data-bind="click:refreshClick, style: {display: showHomeAndRefreshStyle}"><i class="icon-arrows-cw"></i>{{nls.lblRefresh}}</li>\n                <li ><a href="mailto:esf8help@la.gov"><i class="icon-mail-alt"></i>{{nls.lblContact}}</a></li>\n                <li ><a data-bind="click:helpClick"><i class="icon-help-circled"></i>{{nls.lblHelp}}</a></li>\n                <li data-bind=" click : logOutClick"> <i class="icon-logout"></i>{{nls.lblLogout}}</li>\n\n            </ul>\n        </div>\n    </div>\n</div>\n'}),function(){function e(e,t,n,a,i,l){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&a.push(i+e+"/"+l))}function t(e,t,n,a,i){t=a+t+"/"+i,require._fileExists(e.toUrl(t))&&n.push(t)}var n=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,a={};define("i18n",{version:"1.0.0",load:function(i,l,r,s){var d,o,s=s||{},c=n.exec(i),p=c[1],u=c[4],h=c[5],m=u.split("-"),f=[],g={},v="";if(c[5]?(p=c[1],i=p+h):(h=c[4],u=s.locale||(s.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),m=u.split("-")),s.isBuild){for(f.push(i),t(l,"root",f,p,h),d=0;o=m[d];d++)v+=(v?"-":"")+o,t(l,v,f,p,h);l(f,function(){r()})}else l([i],function(t){var n=[];for(e("root",t,n,f,p,h),d=0;o=m[d];d++)v+=(v?"-":"")+o,e(v,t,n,f,p,h);l(f,function(){var e,i;for(e=n.length-1;e>-1&&(o=n[e]);e--){i=t[o],(i===!0||1===i)&&(i=l(p+o+"/"+h));var s=g,d=void 0;for(d in i)!(d in a)&&!(d in s)&&(s[d]=i[d])}r(g)})})}})}(),define("modules/baseModule/pageHeader/nls/resources",{root:{lblHome:"Home",lblWelcome:"Welcome",lblRefresh:"Refresh",lblContact:"Contact",lblHelp:"Help",lblLogout:"Logout"}}),define("text!modules/baseModule/pageHeader/help/help.html",[],function(){return'<div id = "vwHelp"  class="imcommonhelp" >\n    <p>If you need assistance with Shelter application, entering or maintaining data about your Shelter, you can request help by emailing esf8help@la.gov.</p>\n</div>\n\n'}),define("modules/baseModule/pageHeader/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a,$ct.ht.getHelp())},userFullName:"",setUserFullName:function(e){a.set("userFullName",$ct.security.getUserName())},showHomeAndRefresh:!0,setHideHomeAndRefresh:function(){a.set("showHomeAndRefresh",!1)},showHomeAndRefreshStyle:function(){return a.get("showHomeAndRefresh")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},goToHome:function(){n.notify($ct.en.getDisplayTransportTypeList(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},homeClick:function(e){this.showHomeAndRefresh&&a.goToHome()},refreshClick:function(e){void 0!=n.parentContext.currentView?n.notify($ct.en.getRefreshView(),n.parentContext.currentView):$ct.helpers.displayAlertWindow("Current view not set")},initializeSecurity:function(){$ct.ds.common.getUserIdentityData(function(e){var t=$ct.mt.getErrorObject(e);return null!=t?void $ct.security.authenticationFailedAction():void 0==e.Data?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity.IsAuthenticated?void $ct.security.authenticationFailedAction():void 0==e.Data.UserIdentity.Roles?void $ct.security.authenticationFailedAction():e.Data.UserIdentity.IsAuthenticated?($ct.security.setUserIdentity(e.Data.UserIdentity),$ct.security.setRoles(),n.notify($ct.en.getUpdateSecuritySettings(),null),$ct.security.isValidRole()?($ct.helpers.hidePageBusyCursor(),void a.goToHome()):void $ct.security.authenticationFailedAction()):void $ct.security.authenticationFailedAction()})},logOutClick:function(e){$(document).ajaxError(null),window.location.href="logOut.aspx"}});return{data:a}};return n}),define("modules/baseModule/pageHeader/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,i){var l=function(e){var l,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){l&&l.data.setHideHomeAndRefresh()}),e.listen($ct.en.getGoToHome(),function(){l&&l.data.goToHome()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){l&&l.data.setUserFullName()}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),l=new i(e),kendo.bind(r.getDomElement(),l.data),l.data.initializeSecurity()),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/baseModule/mainMenu/view.html",[],function(){return'<nav class="app-nav" role="navigation" id="app-nav">\r\n    <ol class="app-nav__main">\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-user app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">\r\n                    Hi, P Prasad Ravi\r\n                </span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a">\r\n                        My Profile\r\n                    </a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:logOutClick">\r\n                        <!-- <span class="f-icon__nav-logout app-nav__main__li__a__icon" aria-hidden="true"></span> -->\r\n                        {{nls.lblLogout}}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-admin app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Admin</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:agencyListClick">Agency</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:departmentListClick">Department</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:medicalConditionListClick">Medical Condition</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:medicalConditionTierListClick">Medical Condition Tier</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterTypeListClick">Shelter Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:sheltreeEmployeeRatioListClick">Shelteree Employee Ratio</a>\r\n                </li>\r\n\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:staffSpecialtyListClick">Staff Specialty</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:stafftypeListClick">Staff Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:transportTypeListClick">Transportation Type</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:dispositionListClick">Disposition</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:equipmentSupplyListClick">Equipment Supply</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterIdentificationListClick">Shelter Identification</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:questionListClick">Question</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <!-- <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" href="#/dashboard" ui-sref="dashboard">\r\n                <span class="f-icon__nav-dashboard app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Dashboard</span>\r\n            </a>\r\n        </li> -->\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-employee app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Employee</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeListClick">Employee List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeExpandedListClick">Employee Expanded List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:employeeAttendanceClick">Employee Attendance</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-shelteree app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Shelteree</span>\r\n            </a>\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:sheltereeListClick">Shelteree List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:sheltereeDischargeListClick">Shelteree Discharge List</a>\r\n                </li>\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:sheltereeMedicalUpdateListClick">Shelteree Medical Update List</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-shelter app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Shelter</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" data-bind="click:shelterStatusClick">Shelter Status</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n\r\n        <li class="app-nav__main__li has-subnav" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-reports app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Reports</span>\r\n            </a>\r\n\r\n            <ul class="app-nav__sub">\r\n                <li class="app-nav__sub__li" data-bind="click:showActiveState">\r\n                    <a class="app-nav__sub__li__a" href="">Subnav Link1</a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" data-bind="click:helpClick">\r\n                <span class="f-icon__nav-help app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">{{nls.lblHelp}}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" href="mailto:esf8help@la.gov">\r\n                <span class="f-icon__nav-contact app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">{{nls.lblContact}}</span>\r\n            </a>\r\n        </li>\r\n\r\n        <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a" data-bind="click:refreshClick">\r\n                <span class="f-icon__nav-refresh app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Refresh</span>\r\n            </a>\r\n        </li>\r\n\r\n        <!-- <li class="app-nav__main__li" data-bind="click:toggleSubnav">\r\n            <a class="app-nav__main__li__a">\r\n                <span class="f-icon__nav-logout app-nav__main__li__a__icon" aria-hidden="true"></span>\r\n                <span class="app-nav__main__li__a__text">Logout</span>\r\n            </a>\r\n        </li> -->\r\n    </ol>\r\n</nav>\r\n'}),define("modules/baseModule/mainMenu/nls/resources",{root:{status:"Status",admin:"Administration",lblHome:"Home",lblWelcome:"Welcome",lblRefresh:"Refresh",lblContact:"Contact",lblHelp:"Help",lblLogout:"Logout"}}),define("text!modules/baseModule/mainMenu/help/help.html",[],function(){return'<div id = "vwHelp"  class="imcommonhelp" >\r\n    <p>If you need assistance with Shelter application, entering or maintaining data about your Shelter, you can request help by emailing .</p>\r\n</div>\r\n\r\n'}),define("modules/baseModule/mainMenu/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a,$ct.ht.getHelp())},showMenu:!0,toggleSubnav:toggleMainNavActive,showActiveState:toggleSubNavActive,homeClick:function(e){this.showMenu&&n.notify($ct.en.getGoToHome())},refreshClick:function(e){void 0!=n.parentContext.currentView?n.notify($ct.en.getRefreshView(),n.parentContext.currentView):$ct.helpers.displayAlertWindow("Current view not set")},transportTypeListClick:function(t){n.notify($ct.en.getDisplayTransportTypeList(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},agencyListClick:function(t){n.notify($ct.en.getDisplayAgencyList(),null),e.UrlController.goTo($ct.rn.getAgencyList())},departmentListClick:function(t){n.notify($ct.en.getDisplayDepartmentList(),null),e.UrlController.goTo($ct.rn.getDepartmentList())},medicalConditionListClick:function(t){n.notify($ct.en.getDisplayMedicalConditionList(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())},medicalConditionTierListClick:function(t){n.notify($ct.en.getDisplayMedicalConditionTierList(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())},shelterTypeListClick:function(t){n.notify($ct.en.getDisplayShelterTypeList(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())},sheltreeEmployeeRatioListClick:function(t){n.notify($ct.en.getDisplaySheltreeEmployeeRatioList(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())},staffSpecialtyListClick:function(t){n.notify($ct.en.getDisplayStaffSpecialtyList(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())},stafftypeListClick:function(t){n.notify($ct.en.getDisplayStaffTypeList(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())},dispositionListClick:function(t){n.notify($ct.en.getDisplayDispositionList(),null),e.UrlController.goTo($ct.rn.getDispositionList())},equipmentSupplyListClick:function(t){n.notify($ct.en.getDisplayEquipmentSupplyList(),null),e.UrlController.goTo($ct.rn.getequipmentSupplyList())},shelterIdentificationListClick:function(t){n.notify($ct.en.getDisplayShelterIdentificationList(),null),e.UrlController.goTo($ct.rn.getshelterIdentificationList())},questionListClick:function(t){n.notify($ct.en.getDisplayquestionList(),null),e.UrlController.goTo($ct.rn.getQuestionList())},isEmployeeOrEmployeeExpandedListClicked:!1,employeeListClick:function(t){a.isEmployeeOrEmployeeExpandedListClicked?(n.notify($ct.en.getManageEmployeeClicked()),e.UrlController.goTo($ct.rn.getEmployeeList())):(n.notify($ct.en.getLoadEmployeeHeaderInfo(),$ct.rn.getEmployeeList()),a.isEmployeeOrEmployeeExpandedListClicked=!0)},employeeExpandedListClick:function(t){a.isEmployeeOrEmployeeExpandedListClicked?(n.notify($ct.en.getManageEmployeeExpandedClicked()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())):(n.notify($ct.en.getLoadEmployeeHeaderInfo(),$ct.rn.getEmployeeExtendedList()),a.isEmployeeOrEmployeeExpandedListClicked=!0)},isSheltereeOrDischargeOrMedicalUpdateListClicked:!1,sheltereeListClick:function(t){a.isSheltereeOrDischargeOrMedicalUpdateListClicked?(n.notify($ct.en.getManageSheltereeClicked()),e.UrlController.goTo($ct.rn.getSheltereeList())):(n.notify($ct.en.getLoadSheltereeHeaderInfo(),$ct.rn.getSheltereeList()),a.isSheltereeOrDischargeOrMedicalUpdateListClicked=!0)},sheltereeDischargeListClick:function(t){a.isSheltereeOrDischargeOrMedicalUpdateListClicked?(n.notify($ct.en.getManageSheltereeDischargeClicked()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())):(n.notify($ct.en.getLoadSheltereeHeaderInfo(),$ct.rn.getSheltereeDischargeList()),a.isSheltereeOrDischargeOrMedicalUpdateListClicked=!0)},sheltereeMedicalUpdateListClick:function(t){a.isSheltereeOrDischargeOrMedicalUpdateListClicked?(n.notify($ct.en.getManageSheltereeMedicalUpdateClicked()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())):(n.notify($ct.en.getLoadSheltereeHeaderInfo(),$ct.rn.getSheltereeMedicalUpdateList()),a.isSheltereeOrDischargeOrMedicalUpdateListClicked=!0)},employeeAttendanceClick:function(t){n.notify($ct.en.getEmployeeAttendenceList(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance())},shelterStatusClick:function(t){e.UrlController.goTo($ct.rn.getShelterStatus())},multifacilityEmployeeAttendanceClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeAttendance())},multifacilityEmployeeExtendedClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeExtendedList())},multifacilityEmployeeClick:function(t){e.UrlController.goTo($ct.rn.getMultiFacilityEmployeeList())}});return{data:a}};return n}),define("modules/baseModule/mainMenu/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,i){var l=function(e){var l,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){l&&l.data.setHideMenu()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),l=new i(e),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/baseModule/common/responseError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\n    <hr>\n    <div class="container">\n        <span data-bind="text: message"></span><br/>\n        <i class="icon-cancel-circle close-btn"></i>\n    </div>\n</div> -->\n\n<article class="message is-error">\n    <span class="message__icon" aria-hidden="true"></span>\n    <h4 class="message__title">Error</h4>\n    <p class="message__desc">\n        <strong>Error:&nbsp;</strong><span data-bind="text: message"></span><br />\n    </p>\n</article>\n'}),define("text!modules/baseModule/common/responseSuccess.htm",[],function(){return'\ufeff<!-- <div class="msg-block  pagesuccess">\n    <hr>\n    <div class="container">\n        <span data-bind="text: message"></span>\n    </div>\n</div> -->\n<article class="message is-success">\n    <span class="message__icon" aria-hidden="true"></span>\n    <h4 class="message__title">Success</h4>\n    <p class="message__desc">\n        <!--<strong>Error:&nbsp;</strong>-->\n        <span data-bind="text: message"></span><br />\n    </p>\n</article>\n'}),define("text!modules/baseModule/common/validationTmpl.htm",[],function(){return'\ufeff<!-- <div class="msg-block  pagevalidation">\n    <hr>\n    <div class="container">\n        <span data-bind="text: message"></span>\n    </div>\n</div> -->\n<article class="message is-alert">\n    <span class="message__icon" aria-hidden="true"></span>\n    <h4 class="message__title">Alert</h4>\n    <p class="message__desc">\n        <!--<strong>Error:&nbsp;</strong>-->\n        <span data-bind="text: message"></span><br />\n    </p>\n</article>\n'}),define("modules/baseModule/common/component",["Boiler","text!./responseError.htm","text!./responseSuccess.htm","text!./validationTmpl.htm"],function(e,t,n,a){var i=function(i){var l=null;$(document).bind($ct.en.getGoToNoPermissionPage(),function(t){i.notify($ct.en.getDoNotHavePermission(),null),e.UrlController.goTo($ct.rn.getNoPermission()),$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor()}),i.listen($ct.en.getShowValidationMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send validation message");
var t=kendo.observable({message:e});$ct.helpers.sucessMsgShow(a,t)}),i.listen($ct.en.getShowSuccMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send succ message");var t=kendo.observable({message:e});$ct.helpers.sucessMsgShow(n,t)}),$(document).bind($ct.en.getShowErrorMsgJS(),function(e){(null===e.errorObj||void 0===e.errorObj)&&$ct.helpers.displayAlertWindow("Please send error object");var n=kendo.observable({message:e.errorObj.message});$ct.helpers.errorMsgShow(t,n)}),i.listen($ct.en.getShowErrorMsg(),function(e){(null===e||void 0===e)&&$ct.helpers.displayAlertWindow("Please send error object"),(null===e.message||void 0===e.message)&&$ct.helpers.displayAlertWindow("Please send error message");var n=kendo.observable({message:e.message});$ct.helpers.errorMsgShow(t,n)}),i.listen($ct.en.getHideErrorMsg(),function(){$ct.helpers.hideErrorMsgWindow()}),this.activate=function(e){l&&l.show()},this.deactivate=function(){l&&l.hide()}};return i}),define("modules/baseModule/employeeHeader/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({selectedShelterNameItem:{},previousShelterName:"",hideShelterHeader:!0,isMultiShelterUser:!0,isGoButtonDisabled:!0,eventdata:{},showDDLsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},showLabelsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},initializeEmployeeHeader:function(e){n.set("isMultiShelterUser",$ct.security.isMultiFacilityUser()),n.fillShelters(e)},dsShelterNames:function(){},isIntialLoad:!0,fillShelters:function(t){n.set("isGoButtonDisabled",!0);var a=$ct.ds.shlt.shelter.getSheltersWithDs(function(a){void 0!==a&&null!==a&&a.length>0&&(n.set("isGoButtonDisabled",!1),n.set("selectedShelterNameItem",a[0]),$ct.ds.emp.employee.getActiveEvents(n.selectedShelterNameItem.Id,function(e){$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data.ActiveEvent;n.set("eventdata",t)}),1==n.isIntialLoad&&($ct.helpers.hidePageBusyCursor(),n.set("hideShelterHeader",!1),n.set("isIntialLoad",!1),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setEmployeeHeaderDataToGlobalContext(),t==$ct.rn.getEmployeeList()?e.UrlController.goTo($ct.rn.getEmployeeList()):t==$ct.rn.getEmployeeExtendedList()?e.UrlController.goTo($ct.rn.getEmployeeExtendedList()):alert("Error in employee header : Not a valid view ")))});this.set("dsShelterNames",a)},ddlShelterNames:function(e){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.getActiveEvents(n.selectedShelterNameItem.Id,function(e){$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor();var a=e.Data.ActiveEvent;n.set("eventdata",a),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setEmployeeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getEmployeeList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList()),t.parentContext.activeForm==$ct.rn.getEmployeeExtendedList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeExtendedList())})},goToManageEmployees:function(){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setEmployeeHeaderDataToGlobalContext(),t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList())},btnGoClick:function(e){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setEmployeeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getEmployeeList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeList()),t.parentContext.activeForm==$ct.rn.getEmployeeExtendedList()&&t.notify($ct.en.getEmployeeHeaderDataChanged(),$ct.rn.getEmployeeExtendedList())},setPreviouslySelectedShelterTypeAndShelterNameToCurrent:function(){n.set("previousShelterName",n.selectedShelterNameItem.Name)},setEmployeeHeaderDataToGlobalContext:function(){var e={};e.shelter=n.selectedShelterNameItem,t.parentContext.empHeaderData=e},intialize:function(){t.parentContext.empRequestData=n.get("empRequestData")},selectedItemsCount:0,empRequestData:kendo.observable({ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([]),SelectedIdsCount:0,OrigSelectedIdsCount:0,OrigCurPageSelectedIdsCount:0}),btnManageEmployeeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageEmployeeClicked()),e.UrlController.goTo($ct.rn.getEmployeeList())},btnManageEmployeeExpandedClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageEmployeeExpandedClicked()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())},btnUploadEmployeeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getUploadEmployee())},btnDownloadEmployeeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getDownloadEmployee())},btnDownloadEmployeeTemplateClick:function(){window.location.href=$ct.other.getEmployeeTemplateURL()},activateCurrentMenuItem:function(e){$(e.target.parentElement.parentElement).find(".item_nav_active").removeClass("item_nav_active"),$(e.target.parentElement).addClass("item_nav_active")}});return{data:n}};return t}),define("text!modules/baseModule/employeeHeader/view.html",[],function(){return'<div id="vwEmployeeHeader" class="employee-header is-option-one">\n    <!-- nav list to filter table data -->\n    <ul id="activeNav" class="employee-header__nav-list">\n\n        <!-- <li><a id="vwehemployeelist" data-bind="click:btnManageEmployeeClick">{{nls.mnuEmployee}}</a></li>\n        <li><a id="vwehemployeeextendedlist" data-bind="click:btnManageEmployeeExpandedClick">{{nls.mnuEmployeeExpanded}}</a></li> -->\n\n        <!-- <li>\n            <button class="btn--secondary" data-bind="click:btnDownloadEmployeeTemplateClick">\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\n                {{nls.mnuDownloadTemplate}}\n            </button>\n        </li>\n        <li>\n            <button class="btn--secondary" id="vwehuploademployee" data-bind="click:btnUploadEmployeeDataClick">\n                <span class="f-icon f-icon__upload" aria-hidden="true"></span>\n                {{nls.mnuUploadData}}\n            </button>\n        </li>\n        <li>\n            <button class="btn--secondary" id="vwehdownloademployee" data-bind="click:btnDownloadEmployeeDataClick">\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\n                {{nls.mnuDownloadData}}\n            </button>\n        </li> -->\n    </ul>\n\n    <!--SHELTER HEADER START-->\n    <div id="vwehDDLs" class="employee-header__shelter">\n        <div class="employee-header__shelter-dropdown">\n            <!-- <label for="vwehDdlShelterNames" class="employee-header__shelter-dropdown__label">{{nls.lblShelter}}:</label> -->\n            <div class="custom-select employee-header__shelter-dropdown__select">\n                <select id="vwehDdlShelterNames"\n                        data-role="dropdownlist"\n                        data-bind="source:dsShelterNames,events:{change:ddlShelterNames},value:selectedShelterNameItem"\n                        data-text-field="Name"\n                        data-value-field="Id"></select>\n            </div>\n\n                    <!--To show label for single facility user-->\n            <label class="employee-header__shelter-dropdown__value-label" hidden>All Shelters</label>\n            <!-- <button class="btn" data-bind="disabled:isGoButtonDisabled, click:btnGoClick">{{nls.btnGo}}</button> -->\n        </div>\n\n\n\n        <div class="employee-header__shelter-event">\n            <div class="employee-header__shelter-event__name">\n                <!--Need to populate event and duration from API-->\n                <span>{{nls.lblEventName}}</span>\n                <strong data-bind="text:eventdata.EventName"></strong>\n            </div>\n            <div class="employee-header__shelter-event__duration">\n                <span>{{nls.lblDuration}}</span>\n                <strong data-bind="text:eventdata.EventDuration"></strong>\n            </div>\n        </div>\n\n    </div>\n\n<!-- <div class="row grid-select-container bg-border" data-bind=" style: {display: showLabelsInShelterHeader}">\n    <div class="full-col top-select-boxes no-margin-top">\n        <label class="facilityname">\n            <span class="label2">{{nls.lblShelter}}:</span>\n            <span data-bind="text:previousShelterName"></span>\n        </label>\n    </div>\n</div> -->\n<!-- <div id="vwehLabels" class="wrapper cfx">\n    <div class="row grid-select-container bg-border">\n        <div class="full-col top-select-boxes">\n            <label class="facilityname">\n                <span class="label2">{{nls.lblShelter}}\n                    :\n                </span>\n                <span data-bind="text:previousShelterName"></span>\n            </label>\n        </div>\n    </div>\n</div> -->\n<!--FACILITY HEADER END-->\n'}),define("modules/baseModule/employeeHeader/nls/resources",{root:{lblRegion:"Region",lblParish:"Parish",lblShelter:"Shelter Name",btnGo:"Go",mnuEmployee:"Employee",mnuEmployeeExpanded:"Employee Expanded",mnuUploadData:"Upload Data",mnuDownloadData:"Download Data",mnuDownloadTemplate:"Download Template",lblEventName:"Event Name",lblDuration:"Duration:"}}),define("modules/baseModule/employeeHeader/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getHideEmployeeHeader(),function(){$("#idxEmployeeHeader").hide()}),i.listen($ct.en.getHideEmployeeHeaderNavigation(),function(){$("#idxEmployeeHeader").show(),$("#activeNav").hide()}),i.listen($ct.en.getShowActiveEmployeeHeader(),function(){$("#idxEmployeeHeader").show(),$("#activeNav").show(),$("#vwEmployeeHeader").find(".item_nav_active").removeClass("item_nav_active"),void 0!=$("#vweh"+i.parentContext.activeForm)[0]&&$($("#vweh"+i.parentContext.activeForm)[0].parentElement).addClass("item_nav_active")}),i.listen($ct.en.getHideEmployeeShelterHeader(),function(){$("#idxEmployeeHeader").show(),$("#vwehDDLs").hide()}),i.listen($ct.en.getShowEmployeeShelterHeader(),function(){$("#idxEmployeeHeader").show(),$("#vwehDDLs").show()}),i.listen($ct.en.getLoadEmployeeHeaderInfo(),function(e){l&&l.data.initializeEmployeeHeader(e)}),i.listen($ct.en.getEmployeeMenuItemClicked(),function(){l&&l.data.goToManageEmployees()}),this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.intialize()),$("#vwehLabels").hide(),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/baseModule/alerts/view.html",[],function(){return'<article class="app-alerts">\n    <h2 class="app-alerts__title">\n        <span class="app-alerts__title__icon" aria-hidden="true"></span>\n        <span class="app-alerts__title__text">Alerts</span>\n    </h2>\n\n    <ol class="app-alerts__list">\n        <li class="app-alerts__list__item">\n            <span class="app-alerts__list__item__number">5</span>\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 2</span>\n        </li>\n        <li class="app-alerts__list__item">\n            <span class="app-alerts__list__item__number">3</span>\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 1</span>\n        </li>\n        <li class="app-alerts__list__item">\n            <span class="app-alerts__list__item__number">12</span>\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 4</span>\n        </li>\n        <li class="app-alerts__list__item">\n            <span class="app-alerts__list__item__number">8</span>\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 3</span>\n        </li>\n        <li class="app-alerts__list__item">\n            <span class="app-alerts__list__item__number">6</span>\n            <span class="app-alerts__list__item__text">Nurses Availabe at Shelter No 5</span>\n        </li>\n    </ol>\n</article>\n'}),define("modules/baseModule/alerts/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/alerts/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showAlerts:!0});return{data:t}};return t}),define("modules/baseModule/alerts/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,i){var l=function(e){var l,r=null;this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),l=new i(e),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/baseModule/appLogo/view.html",[],function(){return'<div class="app-logo">\n    <a href="/" class="app-logo__link">MSNS logo</a>\n\n    <button class="app-logo__menu-collapse">\n        <span class="app-logo__menu-collapse-icon" aria-hidden="true"></span>\n        <span class="f-icon__text">Menu Collapse/Expand</span>\n    </button>\n</div>\n'}),define("modules/baseModule/appLogo/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/appLogo/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showAppLogo:!0});return{data:t}};return t}),define("modules/baseModule/appLogo/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,i){var l=function(e){var l,r=null;this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),l=new i(e),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("text!modules/baseModule/footer/view.html",[],function(){return'<footer class="app-footer" role="contentinfo">\n    <p>\n        <span class="app-footer__copyright-text">&copy; <strong>ComTec</strong> Information Systems.</span>\n        <span class="app-footer__rights-text">All rights reserved 2016</span>\n    </p>\n</footer>\n\n<!-- <div id="ft" class="cfx">\n    <div class="wrapper cfx">\n        <div class="row">\n            <div class="two-col">\n                Copyright &copy; Shelter. All Rights Reserved 2012</div>\n            <div class="two-col pull-right  customInlineLi">\n\n                <ul data-bind=" attr: { class: showHideMenuWithPullRightClass, className:  showHideMenuWithPullRightClass }" class="pull-right cfx">\n\n                    <li  data-bind="click:homeClick, attr: { class: showHideMenuClass, className:  showHideMenuClass }"><a> {{nls.lblHome}} </a> :</li>\n\n                </ul>\n\n            </div>\n        </div>\n    </div>\n</div> -->\n'}),define("modules/baseModule/footer/nls/resources",{root:{lblHome:"Home"}}),define("modules/baseModule/footer/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({showMenu:!0,setHideMenu:function(){t.set("showMenu",!1)},showHideMenuWithPullRightClass:function(){return t.get("showMenu")?$ct.styles.getDisplayInlineBlockClass()+" pull-right":$ct.styles.getDisplayNoneImportantClass()},showHideMenuClass:function(){return t.get("showMenu")?$ct.styles.getDisplayInlineBlockClass():$ct.styles.getDisplayNoneImportantClass()},homeClick:function(t){this.showMenu&&e.notify($ct.en.getGoToHome())}});return{data:t}};return t}),define("modules/baseModule/footer/component",["require","Boiler","text!./view.html","i18n!./nls/resources","./viewmodel"],function(e,t,n,a,i){var l=function(e){var l,r=null;e.listen($ct.en.getDoNotHavePermission(),function(){l&&l.data.setHideMenu()}),e.listen($ct.en.getUpdateSecuritySettings(),function(){}),this.activate=function(s,d){r||(r=new t.ViewTemplate(s,n,a),l=new i(e),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return l}),define("modules/baseModule/sheltereeHeader/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({selectedShelterNameItem:{},previousShelterName:"",hideShelterHeader:!0,isMultiShelterUser:!0,isGoButtonDisabled:!0,eventdata:{},showDDLsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getBlockStyle():$ct.styles.getNoneStyle()},showLabelsInShelterHeader:function(){return n.get("hideShelterHeader")?$ct.styles.getNoneStyle():n.get("isMultiShelterUser")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},initializeSheltereeHeader:function(e){n.set("isMultiShelterUser",$ct.security.isMultiFacilityUser()),n.fillShelters(e)},dsShelterNames:function(){},isIntialLoad:!0,fillShelters:function(t){n.set("isGoButtonDisabled",!0);var a=$ct.ds.shlt.shelter.getSheltersWithDs(function(a){void 0!==a&&null!==a&&a.length>0&&(n.set("isGoButtonDisabled",!1),n.set("selectedShelterNameItem",a[0]),$ct.ds.emp.employee.getActiveEvents(n.selectedShelterNameItem.Id,function(e){$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data.ActiveEvent;n.set("eventdata",t)}),1==n.isIntialLoad&&($ct.helpers.hidePageBusyCursor(),n.set("hideShelterHeader",!1),n.set("isIntialLoad",!1),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setSheltereeHeaderDataToGlobalContext(),t==$ct.rn.getSheltereeList()?e.UrlController.goTo($ct.rn.getSheltereeList()):t==$ct.rn.getSheltereeDischargeList()?e.UrlController.goTo($ct.rn.getSheltereeDischargeList()):t==$ct.rn.getSheltereeMedicalUpdateList()?e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList()):alert("Error in shelter header : Not a valid view ")))});this.set("dsShelterNames",a)},ddlShelterNames:function(e){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.getActiveEvents(n.selectedShelterNameItem.Id,function(e){$ct.helpers.hidePageBusyCursor(),$ct.helpers.hideWorkAreaBusyCursor();var a=e.Data.ActiveEvent;n.set("eventdata",a),n.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),n.setSheltereeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getSheltereeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeList()),t.parentContext.activeForm==$ct.rn.getSheltereeDischargeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeDischargeList()),t.parentContext.activeForm==$ct.rn.getSheltereeMedicalUpdateList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeMedicalUpdateList())})},goToManageShelterees:function(){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setSheltereeHeaderDataToGlobalContext(),t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeList())},btnGoClick:function(e){this.setPreviouslySelectedShelterTypeAndShelterNameToCurrent(),this.setSheltereeHeaderDataToGlobalContext(),t.parentContext.activeForm==$ct.rn.getSheltereeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeList()),t.parentContext.activeForm==$ct.rn.getSheltereeDischargeList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeDischargeList()),t.parentContext.activeForm==$ct.rn.getSheltereeMedicalUpdateList()&&t.notify($ct.en.getSheltereeHeaderDataChanged(),$ct.rn.getSheltereeMedicalUpdateList())},setPreviouslySelectedShelterTypeAndShelterNameToCurrent:function(){n.set("previousShelterName",n.selectedShelterNameItem.Name)},setSheltereeHeaderDataToGlobalContext:function(){var e={};e.shelter=n.selectedShelterNameItem,t.parentContext.sheltereeHeaderData=e},intialize:function(){t.parentContext.sheltereeRequestData=n.get("sheltereeRequestData")},selectedItemsCount:0,sheltereeRequestData:kendo.observable({ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([]),SelectedIdsCount:0,OrigSelectedIdsCount:0,OrigCurPageSelectedIdsCount:0}),btnManageSheltereeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeClicked()),e.UrlController.goTo($ct.rn.getSheltereeList())},btnManageSheltereeDischargeClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeDischargeClicked()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())},btnManageSheltereeMedicalUpdateClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getManageSheltereeMedicalUpdateClicked()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())},btnUploadSheltereeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getUploadShelteree())},btnDownloadSheltereeDataClick:function(n){this.activateCurrentMenuItem(n),t.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getDownloadShelteree())},btnDownloadSheltereeTemplateClick:function(){window.location.href=$ct.other.getSheltereeTemplateURL()},activateCurrentMenuItem:function(e){$(e.target.parentElement.parentElement).find(".item_nav_active").removeClass("item_nav_active"),$(e.target.parentElement).addClass("item_nav_active")}});return{data:n}};return t}),define("text!modules/baseModule/sheltereeHeader/view.html",[],function(){return'<div id="vwSheltereeHeader" class="employee-header is-option-one">\r\n    <!-- nav list to filter table data -->\r\n    <ul id="activeNavSheltereeheader" class="employee-header__nav-list">\r\n\r\n        <li>\r\n            <button class="btn--secondary" data-bind="click:btnDownloadSheltereeTemplateClick">\r\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\r\n                {{nls.mnuDownloadTemplate}}\r\n            </button>\r\n        </li>\r\n        <li>\r\n            <button class="btn--secondary" id="vwehuploademployee" data-bind="click:btnUploadSheltereeDataClick">\r\n                <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                {{nls.mnuUploadData}}\r\n            </button>\r\n        </li>\r\n        <li>\r\n            <button class="btn--secondary" id="vwehdownloademployee" data-bind="click:btnDownloadSheltereeDataClick">\r\n                <span class="f-icon f-icon__download" aria-hidden="true"></span>\r\n                {{nls.mnuDownloadData}}\r\n            </button>\r\n        </li>\r\n    </ul>\r\n    <!--SHELTER HEADER START-->\r\n    <div id="vwshDDLs" class="employee-header__shelter">\r\n        <div class="employee-header__shelter-dropdown">\r\n            <!-- <label for="vwshDdlShelterNames" class="employee-header__shelter-dropdown__label">{{nls.lblShelter}}:</label> -->\r\n            <div class="custom-select employee-header__shelter-dropdown__select">\r\n                <select id="vwshDdlShelterNames"\r\n                        data-role="dropdownlist"\r\n                        data-bind="source:dsShelterNames,events:{change:ddlShelterNames},value:selectedShelterNameItem"\r\n                        data-text-field="Name"\r\n                        data-value-field="Id"></select>\r\n            </div>\r\n            <!--To show label for single facility user-->\r\n            <label class="employee-header__shelter-dropdown__value-label" hidden>All Shelters</label>\r\n            <!-- <button class="btn" data-bind="disabled:isGoButtonDisabled, click:btnGoClick">{{nls.btnGo}}</button> -->\r\n        </div>\r\n\r\n        <div class="employee-header__shelter-event">\r\n            <div class="employee-header__shelter-event__name">\r\n                <!--Need to populate event and duration from API-->\r\n                <span>{{nls.lblEventName}}</span>\r\n                <strong data-bind="text:eventdata.EventName"></strong>\r\n            </div>\r\n            <div class="employee-header__shelter-event__duration">\r\n                <span>{{nls.lblDuration}}</span>\r\n                <strong data-bind="text:eventdata.EventDuration"></strong>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <div class="row grid-select-container bg-border" data-bind=" style: {display: showLabelsInShelterHeader}">\r\n        <div class="full-col top-select-boxes no-margin-top">\r\n            <label class="facilityname">\r\n                <span class="label2">{{nls.lblShelter}}:</span>\r\n                <span data-bind="text:previousShelterName"></span>\r\n            </label>\r\n        </div>\r\n    </div> -->\r\n    <!-- <div id="vwehLabels" class="wrapper cfx">\r\n        <div class="row grid-select-container bg-border">\r\n            <div class="full-col top-select-boxes">\r\n                <label class="facilityname">\r\n                    <span class="label2">{{nls.lblShelter}}\r\n                        :\r\n                    </span>\r\n                    <span data-bind="text:previousShelterName"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div> -->\r\n    <!--FACILITY HEADER END-->\r\n'}),define("modules/baseModule/sheltereeHeader/nls/resources",{root:{lblRegion:"Region",lblParish:"Parish",lblShelter:"Shelter Name",btnGo:"Go",mnuShelteree:"Shelteree",mnuSheltereeDischarge:"Shelteree Discharge",mnuSheltereeMedicalUpdate:"Shelteree Medical Update",mnuUploadData:"Upload Data",mnuDownloadData:"Download Data",mnuDownloadTemplate:"Download Template",lblEventName:"Event Name",lblDuration:"Duration:"}}),define("modules/baseModule/sheltereeHeader/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getHideSheltereeHeader(),function(){$("#idxSheltereeHeader").hide()}),i.listen($ct.en.getHideSheltereeHeaderNavigation(),function(){$("#idxSheltereeHeader").show(),$("#activeNavSheltereeheader").hide()}),i.listen($ct.en.getShowActiveSheltereeHeader(),function(){$("#idxSheltereeHeader").show(),$("#activeNavSheltereeheader").show(),$("#vwSheltereeHeader").find(".item_nav_active").removeClass("item_nav_active"),void 0!=$("#vwsh"+i.parentContext.activeForm)[0]&&$($("#vwsh"+i.parentContext.activeForm)[0].parentElement).addClass("item_nav_active")}),i.listen($ct.en.getHideSheltereeShelterHeader(),function(){$("#idxSheltereeHeader").show(),$("#vwshDDLs").hide()}),i.listen($ct.en.getShowSheltereeShelterHeader(),function(){$("#idxSheltereeHeader").show(),$("#vwshDDLs").show()}),i.listen($ct.en.getLoadSheltereeHeaderInfo(),function(e){l&&l.data.initializeSheltereeHeader(e)}),i.listen($ct.en.getSheltereeMenuItemClicked(),function(){l&&l.data.goToManageShelterees()}),this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.intialize()),$("#vwshLabels").hide(),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/baseModule/module",["Boiler","./pageHeader/component","./mainMenu/component","./common/component","./employeeHeader/component","./alerts/component","./appLogo/component","./footer/component","./sheltereeHeader/component"],function(e,t,n,a,i,l,r,s,d){var o=function(o){var c=new e.Context(o),p=new e.DomController($("#page-content"));p.addRoutes({".page-header":new t(c),".main-menu":new n(c),".common-module":new a(c),".employee-header":new i(c),".app-alerts-wrap":new l(c),".app-logo-wrap":new r(c),".footer":new s(c),".shelteree-header":new d(c)}),p.start()};return o}),define("modules/adminModule/settings",{urls:{}}),define("text!modules/adminModule/agencyList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Agency  list help</h1>\n</div>\n\n'}),define("modules/adminModule/agencyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Agency List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsAgency:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsAgency",$ct.ds.admin.agency.getAgencies(this))},searchAgencies:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshAgencyGrid:function(e){a.dsAgency.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},agencyEditUrl:function(e){return e?$ct.rn.getAgency()+"/"+$ct.constants.getNewRecordId():$ct.rn.getAgency()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.agencyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.agencyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.agency.deleteAgencyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsAgency.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getAgencyDeleteSuccessMsg()),a.dsAgency.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/agencyList/view.html",[],function(){return'\r\n\r\n\r\n<div id="vwAgencyList">\r\n    <!--View name : vwAgencyList-->\r\n    <!--Control id prefix : vwal-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerAgency}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwalTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchAgencies}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwalDgAgency" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsAgency, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwalRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} \r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vwalRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n\r\n';
}),define("modules/adminModule/agencyList/nls/resources",{root:{headerAgency:"Agency",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/agencyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getAgencyList()==e&&s()}),i.listen($ct.en.getAgencyCreatedOrUpdated(),function(){l&&l.data.refreshAgencyGrid()}),i.listen($ct.en.getDisplayAgencyList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getAgencyList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwAgencyList, #vwalDgAgency").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.agencyEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/agency/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Agency help</h1>\n</div>\n\n'}),define("modules/adminModule/agency/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Agency edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},agencyData:{},initialLoad:!1,DescriptionLength:4e3,agencyId:"",fillQueryParam:function(e){a.set("agencyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwAgency"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.agency.getAgencyById(this.agencyId,function(e){var t=e.Data;null===t.Agency&&(t.Agency={},t.Agency.Id=$ct.constants.getNewRecordId(),t.Agency.Name="",t.Agency.Description="",t.Agency.DisplayOrder=1),a.set("agencyData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.agencyData.Agency.set("Name",$.trim(this.agencyData.Agency.Name)),this.agencyData.Agency.set("Description",$.trim(this.agencyData.Agency.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwAgency").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.agencyData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.agency.saveAgency(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getAgencySuccessMsg()),n.notify($ct.en.getAgencyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getAgencyList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getAgencyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getAgencyList())},setValidClassForDisplayOrder:function(){return null!=a.get("agencyData.Agency.DisplayOrder")&&void 0!=a.get("agencyData.Agency.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/agency/view.html",[],function(){return'\n<div id="vwAgency">\r\n    <!--View name : vwAgency-->\r\n    <!--Control id prefix : vwa-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditAgency}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwaTbName" name="vwaTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:agencyData.Agency.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwaTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwaTaDescription" name="vwaTaDescription" class="form-element-with-label__inp" data-bind="value:agencyData.Agency.Description , attr:{maxlength: DescriptionLength}" required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwaTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwaTaDisplayOrder" name="vwaTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:agencyData.Agency.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwaTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\n'}),define("modules/adminModule/agency/nls/resources",{root:{headerAddEditAgency:"Add edit Agency",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/agency/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getAgency()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getAgency(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwAgency").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/departmentList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>Department list help</h1>\n</div>\n\n'}),define("modules/adminModule/departmentList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsDepartments:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsDepartments",$ct.ds.admin.department.getDepartments(this))},seachDepartments:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshDepartmentGrid:function(e){a.dsDepartments.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},departmentEditUrl:function(e){return e?$ct.rn.getDepartment()+"/"+$ct.constants.getNewRecordId():$ct.rn.getDepartment()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.departmentEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.departmentEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.department.deleteDepartmentById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsDepartments.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDepartmentDeleteSuccessMsg()),a.dsDepartments.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/departmentList/view.html",[],function(){return'\n<div id="vwDepartmentList">\n    <!--View name : vwDepartmentList-->\n    <!--Control id prefix : vwdl-->\n\n    <div class="module">\n        <!-- view title -->\n        <h2 class="module-title">\n            {{nls.headerDepartment}} \n\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\n\n        </h2>\n        <div class="module-container">\n            <div class="gridsearch">\n                <div class="gridsearch__search-col">\n                    <label class="search-label">\n                        \n                        <input type="text" \n                               class="search-label__inp"\n                               id="vwdlTxtSearch"\n                               placeholder="Search"\n                        data-bind="value:searchToken,events:{keyup:seachDepartments}"\n                        data-value-update="keyup" />\n                    </label>\n                </div>\n                <div class="gridsearch__btns-col">\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\n                        {{nls.btnAdd}}\n                    </button>\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n        {{nls.btnEdit}}\r\n    </button>\r\n    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n        {{nls.btnDelete}}\r\n    </button> -->\r\n                </div>\n            </div>         \n            <div class="table-wrapper">\n                <table id="vwdlDgDepartmentList" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\n                    data-bind="source:dsDepartments, events: { change: rowSelectionChange }" data-role="grid"\n                    data-filterable="true"\n                    data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\n                    data-row-template="vwdlRow-template"\n                    data-selectable="true"\n                    data-columns="[\n                        {title:\'Edit\',width:\'60px\'},\n                        {title:\'Delete\',width:\'70px\'},\n                        {field:\'Name\',title:\'{{nls.gdColName}}\'},\n                        {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\n                        {field:\'AgenciesForDisplay\',title:\'{{nls.gdColAgenciesForDisplay}}\'} ,\n                        {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\n                        {field:\'UpdatedByUserName\',title:\'{{nls.gdColUpdatedByUserName}}\'},\n                        {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedOnValue}}\',filterable:false}\n                    ]"\n                    data-pageable="true"></table>\n            </div>\n        </div>\n    </div>\n    <script type="text/x-kendo-template" id="vwdlRow-template">\n        <tr>\n           \n            <td>\n                <button class="btn-edit" data-bind="click:btnEditClick">\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\n                    <span class="f-icon__text">Edit</span>\n                </button>\n            </td>\n            <td>\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\n                    <span class="f-icon__text">Delete</span>\n                </button>\n            </td>\n            <td data-title="{{nls.gdColName}}">\n                ${Name}\n            </td>\n            <td data-title="{{nls.gdColDescription}}">\n                ${Description}\n            </td>\n            <td data-title="{{nls.gdColAgenciesForDisplay}}">\n                <span data-bind="html: AgenciesForDisplay"></span>\n            </td>\n            <td data-title="{{nls.gdColDisplayOrder}}">\n                ${DisplayOrder}\n            </td>\n            <td data-title="{{nls.gdColUpdatedByUserName}}">\n                ${UpdatedByUserName}\n            </td>\n            <td data-title="{{nls.gdColUpdatedOnValue}}">\n                ${UpdatedOnValue}\n            </td>\n        </tr>\n    </script>\n'}),define("modules/adminModule/departmentList/nls/resources",{root:{headerDepartment:"Department",lblSearch:"Search",gdColName:"Name",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColDescription:"Description",gdColAgenciesForDisplay:"Agencies",gdColDisplayOrder:"DisplayOrder",gdColUpdatedByUserName:"User Name",gdColUpdatedOnValue:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/departmentList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDepartmentList()==e&&s()}),i.listen($ct.en.getDepartmentCreatedOrUpdated(),function(){l&&l.data.refreshDepartmentGrid()}),i.listen($ct.en.getDisplayDepartmentList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDepartmentList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwDepartmentList, #vwdlDgDepartment").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.departmentEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/department/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({departmentData:{},departmentData:{},agencyDepartments:[],departmentId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,agencyDepartmentId:-1,oldAgencyDepartmentId:-1,fillQueryParam:function(e){n.set("departmentId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwDepartment"),n.set("agencyDepartmentId",-1),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.department.getDepartmentById(this.departmentId,function(e){var t=e.Data;null===t.Department&&(t.Department={},t.Department.Id=$ct.constants.getNewRecordId(),t.Department.Name="",t.Department.Description="",t.Department.DisplayOrder=1,t.Department.AgencyDepartments=[],n.set("agencyDepartmentId",-1),n.set("oldAgencyDepartmentId",-1));$.each(t.AgencyLookupWithDepartmentData,function(e,t){1==t.IsSelected&&(n.set("agencyDepartmentId",t.AgencyId),n.set("oldAgencyDepartmentId",t.AgencyId))}),n.set("departmentData",t),n.set("agencyDepartments",t.AgencyLookupWithDepartmentData),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwDepartment").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==n.agencyDepartmentId)return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.departmentData.toJSON();i.Department.AgencyDepartments=[],$.each(n.agencyDepartments,function(e,t){if(n.agencyDepartmentId==n.oldAgencyDepartmentId){if(n.agencyDepartmentId==t.AgencyId){var a={};a.AgencyId=n.agencyDepartmentId,a.DepartmentId=n.departmentId,a.IsSelected=!0,a.IsNew=!1,a.Deleted=!1,a.Version=t.Version,i.Department.AgencyDepartments.push(a)}}else{if(n.oldAgencyDepartmentId==t.AgencyId){var l={};l.AgencyId=n.oldAgencyDepartmentId,l.DepartmentId=n.departmentId,l.IsSelected=!1,l.IsNew=!1,l.Deleted=!0,l.Version=t.Version,i.Department.AgencyDepartments.push(l)}if(n.agencyDepartmentId==t.AgencyId){var r={};r.AgencyId=n.agencyDepartmentId,r.DepartmentId=n.departmentId,r.IsSelected=!0,r.IsNew=!0,r.Deleted=!1,r.Version=t.Version,i.Department.AgencyDepartments.push(r)}}}),$ct.ds.admin.department.saveDepartment(i,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var i=$ct.mt.getErrorObject(a);null!=i?t.notify($ct.en.getShowErrorMsg(),i):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getDepartmentSuccessMsg()),t.notify($ct.en.getDepartmentCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDepartmentList())})},trimWhiteSpaces:function(){this.departmentData.Department.set("Name",$.trim(this.departmentData.Department.Name)),this.departmentData.Department.set("Description",$.trim(this.departmentData.Department.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getDepartmentCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDepartmentList())},setValidClassForDisplayOrder:function(){return null!=n.get("departmentData.Department.DisplayOrder")&&void 0!=n.get("departmentData.Department.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()},setClassForAgency:function(){return-1==n.get("selectedAgencyId")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():"emptycolor"},setValidationMsgForAgency:function(){return-1==n.get("agencyDepartmentId")&&0==n.get("initialLoad")?!1:!0}});return{data:n}};return t}),define("text!modules/adminModule/department/view.html",[],function(){return'<div id="vwDepartment">\n    <!--View name : vwDepartment-->\n    <!--Control id prefix : vwd-->\n\n    <div class="module cfx no-margin-top">\n        <h2 class="module-title">{{nls.headerAddEditDepartment}}</h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\n                <input id="vwdTbName" name="vwdTbName" type="text" maxlength="250" class="form-element-with-label__inp"\n                    data-bind="value:departmentData.Department.Name"\n                    required validationmessage="{{nls.valmsgNameRequired}}" />\n                <span class="k-invalid-msg" data-for="vwbtTbName"></span>\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\n                <textarea id="vwdTaDescription" name="vwdTaDescription" class="form-element-with-label__inp"\n                    data-bind="value:departmentData.Department.Description,attr:{maxlength: DescriptionLength} "\n                    required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\n                <span class="k-invalid-msg" data-for="vwdTaDescription"></span>\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\n                <input type="text" id="vwdTaDisplayOrder" name="vwdTaDisplayOrder" class="form-element-with-label__inp"\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\n                       data-bind="value:departmentData.Department.DisplayOrder" />\n                <span class="k-invalid-msg" data-for="vwdTaDisplayOrder"></span>\n            </label>\n\n            <div class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblAgencies}}</span>\n                <ul class="form-list" data-template="vwdAgencyRow-template" data-bind="source:agencyDepartments"></ul>\n\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:setValidationMsgForAgency">\n                    <span class="k-icon k-warning"></span>Please select agency\n                </span>\n            </div>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\n            {{nls.btnSave}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n</div>\n\n<script type="text/x-kendo-template" id="vwdAgencyRow-template">\n    <li>\n        <label class="radio-button">\n            <input class="radio-button__inp" type="radio" name="vwdRbAgency"\n                value="${AgencyId}" data-bind="checked:agencyDepartmentId">\n            <span class="radio-button__text" data-bind="text:AgencyName"></span>\n        </label>\n    </li>\n</script>\n'}),define("modules/adminModule/department/nls/resources",{root:{headerAddEditDepartment:"Add edit Department",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",lblAgencies:"Agencies",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/department/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDepartment()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDepartment(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwDepartment").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/medicalConditionList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>MedicalCondition list help</h1>\n</div>\n\n'}),define("modules/adminModule/medicalConditionList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsMedicalConditions:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsMedicalConditions",$ct.ds.admin.medicalcondition.getMedicalconditions(this))},seachMedicalConditions:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshMedicalConditionsGrid:function(e){a.dsMedicalConditions.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},medicalConditionstEditUrl:function(e){return e?$ct.rn.getMedicalCondition()+"/"+$ct.constants.getNewRecordId():$ct.rn.getMedicalCondition()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.medicalConditionstEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.medicalConditionstEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.medicalcondition.deletegetMedicalConditionById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsMedicalConditions.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionDeleteSuccessMsg()),a.dsMedicalConditions.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionList/view.html",[],function(){return'\r\n\r\n\r\n\r\n<div id="vwMedicalConditionList">\r\n    <!--View name : vwMedicalConditionList-->\r\n    <!--Control id prefix : vwmcl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerMedicalCondition}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwmclTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:seachMedicalConditions}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwmclDgMedicalCondition" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsMedicalConditions, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwclRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                           {title:\'Edit\',width:\'60px\'},\r\n                           {title:\'Delete\',width:\'70px\'},\r\n                           {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                           {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                           {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                           {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\r\n                           {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwclRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n\r\n    </tr>\r\n</script>\r\n\r\n\r\n\r\n'}),define("modules/adminModule/medicalConditionList/nls/resources",{root:{headerMedicalCondition:"Medical Condition",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/medicalConditionList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionList()==e&&s()}),i.listen($ct.en.getMedicalConditionCreatedOrUpdated(),function(){l&&l.data.refreshMedicalConditionsGrid()}),i.listen($ct.en.getDisplayMedicalConditionList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMedicalConditionList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwMedicalConditionList, #vwmclDgMedicalCondition").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.medicalConditionstEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/medicalCondition/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({medicalConditionData:{},medicalConditionId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,questionTypeLookUp:[],selectedQuestionTypeId:-1,
fillQueryParam:function(e){n.set("medicalConditionId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwMedicalCondition"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.medicalcondition.getMedicalConditionById(this.medicalConditionId,function(e){var t=e.Data;null===t.MedicalCondition&&(t.MedicalCondition={},t.MedicalCondition.Id=$ct.constants.getNewRecordId(),t.MedicalCondition.Name="",t.MedicalCondition.Description="",t.MedicalCondition.DisplayOrder=1,t.MedicalCondition.QuestionTypeId=-1),n.set("selectedQuestionTypeId",t.MedicalCondition.QuestionTypeId),n.set("questionTypeLookUp",t.QuestionTypesLookup),n.set("medicalConditionData",t),$ct.helpers.hideWorkAreaBusyCursor()})},setValidationMsgForQuestionType:function(){return null!=n.get("selectedQuestionTypeId")&&void 0!=n.get("selectedQuestionTypeId")&&-1!=n.get("selectedQuestionTypeId")||0!=n.get("initialLoad")?!0:!1},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwMedicalCondition").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==n.get("selectedQuestionTypeId"))return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.medicalConditionData.toJSON();i.MedicalCondition.QuestionTypeId=n.selectedQuestionTypeId,$ct.ds.admin.medicalcondition.saveMedicalCondition(i,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var i=$ct.mt.getErrorObject(a);null!=i?t.notify($ct.en.getShowErrorMsg(),i):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionSuccessMsg()),t.notify($ct.en.getMedicalConditionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())})},trimWhiteSpaces:function(){this.medicalConditionData.MedicalCondition.set("Name",$.trim(this.medicalConditionData.MedicalCondition.Name)),this.medicalConditionData.MedicalCondition.set("Description",$.trim(this.medicalConditionData.MedicalCondition.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getMedicalConditionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionList())},setValidClassForDisplayOrder:function(){return null!=n.get("medicalConditionData.MedicalCondition.DisplayOrder")&&void 0!=n.get("medicalConditionData.MedicalCondition.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/medicalCondition/view.html",[],function(){return'\r\n<div id="vwMedicalCondition">\r\n    <!--View name : vwMedicalCondition-->\r\n    <!--Control id prefix : vwmc-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditMedicalCondition}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwmcTbName" name="vwmcTbName" maxlength="250" class="form-element-with-label__inp" data-bind="value:medicalConditionData.MedicalCondition.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwmcTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwmcTaDescription" name="vwmcTaDescription" class="form-element-with-label__inp" data-bind="value:medicalConditionData.MedicalCondition.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}"  rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwmcTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwmcTaDisplayOrder" name="vwmcTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:medicalConditionData.MedicalCondition.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwmcTaDisplayOrder"></span>\r\n            </label>\r\n\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblQuestionTypes}}</span>\r\n                <ul class="form-list" data-template="vwmcQuestionTypeRow-template" data-bind="source:questionTypeLookUp"></ul>\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:setValidationMsgForQuestionType">\r\n                    <span class="k-icon k-warning"></span>Please select question type\r\n                </span>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwmcQuestionTypeRow-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio" name="vwmcRbQuestionType"\r\n                   value="${Key}" data-bind="checked:selectedQuestionTypeId" />\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n'}),define("modules/adminModule/medicalCondition/nls/resources",{root:{headerAddEditMedicalCondition:"Add edit Medical Condition",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",lblQuestionTypes:"Question Types",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/medicalCondition/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalCondition()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMedicalCondition(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwMedicalCondition").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/medicalConditionTierList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>MedicalConditionTier list help</h1>\n</div>\n\n'}),define("modules/adminModule/medicalConditionTierList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"MedicalConditionTier List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsMedicalConditionTier:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsMedicalConditionTier",$ct.ds.admin.medicalconditiontier.getMedicalConditionTiers(this))},searchMedicalConditionTiers:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshMedicalConditionTierGrid:function(e){a.dsMedicalConditionTier.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},medicalConditionTierEditUrl:function(e){return e?$ct.rn.getMedicalConditionTier()+"/"+$ct.constants.getNewRecordId():$ct.rn.getMedicalConditionTier()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.medicalConditionTierEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.medicalConditionTierEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.medicalconditiontier.deleteMedicalConditionTierById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsMedicalConditionTier.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionTierDeleteSuccessMsg()),a.dsMedicalConditionTier.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionTierList/view.html",[],function(){return'\r\n<div id="vwMedicalConditionTierList">\r\n    <!--View name : vwMedicalConditionTierList-->\r\n    <!--Control id prefix : vwmctl-->\r\n\r\n  <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerMedicalConditionTier}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwmctlTbSearch"\r\n                               placeholder="Search"\r\n                              data-bind="value:searchToken, events:{keyup:searchMedicalConditionTiers}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1150px"-->\r\n                <table id="vwmctlDgMedicalConditionTier" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table"\r\n                       data-bind="source:dsMedicalConditionTier, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwmctlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                        {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n          \r\n        </div>\r\n    </div>\r\n </div>\r\n<script type="text/x-kendo-template" id="vwmctlRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n    </tr>\r\n</script>\r\n\r\n'}),define("modules/adminModule/medicalConditionTierList/nls/resources",{root:{headerMedicalConditionTier:"Medical Condition Tier",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/medicalConditionTierList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionTierList()==e&&s()}),i.listen($ct.en.getMedicalConditionTierCreatedOrUpdated(),function(){l&&l.data.refreshMedicalConditionTierGrid()}),i.listen($ct.en.getDisplayMedicalConditionTierList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMedicalConditionTierList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwMedicalConditionTierList, #vwmctlDgMedicalConditionTier").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.medicalConditionTierEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/medicalConditionTier/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>MedicalConditionTier help</h1>\n</div>\n\n'}),define("modules/adminModule/medicalConditionTier/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"MedicalConditionTier edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},medicalConditionTierData:{},initialLoad:!1,DescriptionLength:4e3,medicalConditionTierId:"",fillQueryParam:function(e){a.set("medicalConditionTierId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwMedicalConditionTier"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.medicalconditiontier.getMedicalConditionTierById(this.medicalConditionTierId,function(e){var t=e.Data;null===t.MedicalConditionTier&&(t.MedicalConditionTier={},t.MedicalConditionTier.Id=$ct.constants.getNewRecordId(),t.MedicalConditionTier.Name="",t.MedicalConditionTier.Description="",t.MedicalConditionTier.DisplayOrder=1),a.set("medicalConditionTierData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.medicalConditionTierData.MedicalConditionTier.set("Name",$.trim(this.medicalConditionTierData.MedicalConditionTier.Name)),this.medicalConditionTierData.MedicalConditionTier.set("Description",$.trim(this.medicalConditionTierData.MedicalConditionTier.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwMedicalConditionTier").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.medicalConditionTierData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.medicalconditiontier.saveMedicalConditionTier(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getMedicalConditionTierSuccessMsg()),n.notify($ct.en.getMedicalConditionTierCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getMedicalConditionTierCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getMedicalConditionTierList())},setValidClassForDisplayOrder:function(){return null!=a.get("medicalConditionTierData.MedicalConditionTier.DisplayOrder")&&void 0!=a.get("medicalConditionTierData.MedicalConditionTier.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/medicalConditionTier/view.html",[],function(){return'\n<div id="vwMedicalConditionTier">\r\n    <!--View name : vwMedicalConditionTier---->\r\n    <!--Control id prefix : vwmct-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditMedicalConditionTier}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwmctTbName" name="vwmctTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:medicalConditionTierData.MedicalConditionTier.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwmctTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwmctTaDescription" name="vwmctTaDescription" class="form-element-with-label__inp" data-bind="value:medicalConditionTierData.MedicalConditionTier.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}"  rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwmctTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwmctTaDisplayOrder" name="vwmctTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:medicalConditionTierData.MedicalConditionTier.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwmctTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/medicalConditionTier/nls/resources",{root:{headerAddEditMedicalConditionTier:"Add edit Medical Condition Tier",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/medicalConditionTier/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getMedicalConditionTier()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMedicalConditionTier(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwMedicalConditionTier").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/shelterTypeList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Shelter Type list help</h1>\n</div>\n\n'}),define("modules/adminModule/shelterTypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Type List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsShelterType:function(){this.fillGrid()},fillGrid:function(){this.set("dsShelterType",$ct.ds.admin.sheltertype.getShelterTypes(this))},searchShelterTypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshShelterTypeGrid:function(e){a.dsShelterType.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},shelterTypeEditUrl:function(e){return e?$ct.rn.getShelterType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getShelterType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.shelterTypeEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.shelterTypeEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.sheltertype.deleteShelterTypeById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterType.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterTypeDeleteSuccessMsg()),a.dsShelterType.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/shelterTypeList/view.html",[],function(){return'\r\n<div id="vwShelterTypeList">\r\n    <!--View name : vwShelterTypeList-->\r\n    <!--Control id prefix : vwshtl-->\r\n    <div class="module">\r\n        <h2 class="module-title">\r\n            {{nls.headerShelterTypeList}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwttlTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchShelterTypes}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n\r\n\r\n                <!--<div class="module-container">\r\n        <div class="row grid-select-container gridsearch">\r\n            <div class="two-of-three-col">\r\n                <label for="vwshtlTbSearch" class="search-label">\r\n                    <span class="label">{{nls.lblSearch}}:</span>\r\n                    <fieldset>\r\n                        <input type="text" id="vwshtlTbSearch" value="" data-bind="value:searchToken, events:{keyup:searchShelterTypes}"\r\n                               data-value-update="keyup" class="k-textbox searchIcon" />\r\n                    </fieldset>\r\n                </label>\r\n            </div>-->\r\n\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                   {{nls.btnEdit}}\r\n                   </button>\r\n                     <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                    {{nls.btnDelete}}\r\n                     </button> -->\r\n                </div>\r\n            </div>\r\n                        <!--<div class="one-col btn-container pull-right">\r\n                            <button class="btn" data-bind="click:btnAddClick" type="button">\r\n                                {{nls.btnAdd}}\r\n                            </button>\r\n                            <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                                {{nls.btnEdit}}\r\n                            </button>\r\n                            <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                                {{nls.btnDelete}}\r\n                            </button>\r\n\r\n                        </div>-->\r\n                    <!--</div>-->\r\n                    <div class="table-wrapper">\r\n                        <!--style="width:1000px"-->\r\n                        <table id="vwshtlDgShelterType" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                               data-bind="source:dsShelterType, events: { change: rowSelectionChange }" data-role="grid"\r\n                               data-filterable="true"\r\n                               data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                               data-row-template="vwshtlRow-template"\r\n                               data-selectable="true"\r\n                               data-columns="[{title:\'Edit\',width:\'60px\'},\r\n                                       {title:\'Delete\',width:\'70px\'},\r\n                                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                                       {field:\'StaffTypes\',title:\'{{nls.gdColStaffTypes}}\',width:\'250px\'},\r\n                                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                               data-pageable="true"></table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <script type="text/x-kendo-template" id="vwshtlRow-template">\r\n            <tr>\r\n                <td>\r\n                    <button class="btn-edit" data-bind="click:btnEditClick">\r\n                        <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Edit</span>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                        <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Delete</span>\r\n                    </button>\r\n                </td>\r\n                <td data-title="{{nls.gdColName}}">\r\n                    ${Name}\r\n                </td>\r\n                <td data-title="{{nls.gdColDescription}}">\r\n                    ${Description}\r\n                </td>\r\n                <td data-title="{{nls.gdColStaffTypes}}">\r\n                    <span data-bind="html: StaffTypesForDisplay"></span>\r\n                </td>\r\n                <td data-title="{{nls.gdColDisplayOrder}}">\r\n                    ${DisplayOrder}\r\n                </td>\r\n                <td data-title="{{nls.gdColUserName}}">\r\n                    ${UpdatedByUserName}\r\n                </td>\r\n                <td data-title="{{nls.gdColUpdatedDate}}">\r\n                    ${UpdatedOnValue}\r\n                </td>\r\n\r\n            </tr>\r\n        </script>\r\n'}),define("modules/adminModule/shelterTypeList/nls/resources",{root:{headerShelterTypeList:"Shelter Type",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColStaffTypes:"Staff Types",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/shelterTypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterTypeList()==e&&s()}),i.listen($ct.en.getShelterTypeCreatedOrUpdated(),function(){l&&l.data.refreshShelterTypeGrid()}),i.listen($ct.en.getDisplayShelterTypeList(),function(){
s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getShelterTypeList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwShelterTypeList, #vwshtlDgShelterType").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.shelterTypeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/shelterType/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>Shelter Type help</h1>\n</div>\n\n'}),define("modules/adminModule/shelterType/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Type edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},shelterTypeData:{},staffTypeShelterTypes:[],shelterTypeId:-1,initialLoad:!1,DescriptionLength:4e3,fillQueryParam:function(e){a.set("shelterTypeId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwShelterType"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltertype.getShelterTypeById(this.shelterTypeId,function(e){var t=e.Data;null===t.ShelterType&&(t.ShelterType={},t.ShelterType.Id=$ct.constants.getNewRecordId(),t.ShelterType.Name="",t.ShelterType.Description="",t.ShelterType.DisplayOrder=1),a.set("shelterTypeData",t),a.set("staffTypeShelterTypes",t.StaffTypeLookupWithShelterTypeData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.shelterTypeData.ShelterType.set("Name",$.trim(this.shelterTypeData.ShelterType.Name)),this.shelterTypeData.ShelterType.set("Description",$.trim(this.shelterTypeData.ShelterType.Description))},checkMappedStaffTypes:function(){if(a.get("initialLoad"))return!0;var e=!1;return $.each(a.get("staffTypeShelterTypes"),function(t,n){n.IsSelected&&(e=!0)}),e},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwShelterType").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.shelterTypeData.toJSON();i.ShelterType.ShelterTypeStaffTypes=a.staffTypeShelterTypes.toJSON();var l=!1;return $.each(i.ShelterType.ShelterTypeStaffTypes,function(e,t){t.IsSelected&&(l=!0)}),l?($ct.helpers.displayWorkAreaBusyCursor(),void $ct.ds.admin.sheltertype.saveShelterType(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterTypeSuccessMsg()),n.notify($ct.en.getShelterTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())})):void n.notify($ct.en.getShowValidationMsg(),"Please select atleast one staff type")},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getShelterTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getShelterTypeList())},setValidClassForDisplayOrder:function(){return null!=a.get("shelterTypeData.ShelterType.DisplayOrder")&&void 0!=a.get("shelterTypeData.ShelterType.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/shelterType/view.html",[],function(){return'\n\n\n<div id="vwShelterType">\n    <!--View name : vwShelterType-->\n    <!--Control id prefix : vwsht-->\n    <div class="module">\n        <h2 class="module-title">{{nls.headerAddEditShelterType}}</h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\n                <input type="text" id="vwshtTbName" name="vwshtTbName" type="text" maxlength="250" class="form-element-with-label__inp" data-bind="value:shelterTypeData.ShelterType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\n                <span class="k-invalid-msg" data-for="vwshtTbName"></span>\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\n                <textarea id="vwshtTaDescription" name="vwshtTaDescription" class="form-element-with-label__inp"\n                          data-bind="value:shelterTypeData.ShelterType.Description,attr:{maxlength: DescriptionLength}"\n                          required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\n                <span class="k-invalid-msg" data-for="vwshtTaDescription"></span>\n            </label>\n\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\n                <input type="text" id="vwshtTbDisplayOrder" name="vwshtTbDisplayOrder" class="form-element-with-label__inp"\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\n                       data-bind="value:shelterTypeData.ShelterType.DisplayOrder" />\n                <span class="k-invalid-msg" data-for="vwshtTbDisplayOrder"></span>\n            </label>\n\n\n\n\n\n            <div class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblStaffTypes}}</span>\n                <ul class="form-list" data-template="vwshtRow-template" data-bind="source:staffTypeShelterTypes"></ul>\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert"  data-bind="invisible:checkMappedStaffTypes">\n                    <span class="k-icon k-warning"></span> At least one staff Type should be selected.\n                </span>\n\n\n            </div>\n\n\n\n\n        </div>\n    </div>\n    <div class="footer-bts-container">\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\n            {{nls.btnSave}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n</div>\n<script type="text/x-kendo-template" id="vwshtRow-template">\n\n    <li>\n        <label class="checkbox">\n            <input  class="checkbox__inp" type="checkbox"\n                  data-bind="checked:IsSelected">\n            <span class="checkbox__text"  data-bind="text:StaffTypeName"></span>\n        </label>\n    </li>\n\n\n</script>\n'}),define("modules/adminModule/shelterType/nls/resources",{root:{headerAddEditShelterType:"Add edit Shelter Type",lblName:"Name",lblStaffTypes:"Staff Types",lblDisplayOrder:"Display Order",lblActive:"Active",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/shelterType/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterType()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getShelterType(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwShelterType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/sheltreeEmployeeRatioList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>SheltereeEmployeeRatio list help</h1>\n</div>\n\n'}),define("modules/adminModule/sheltreeEmployeeRatioList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsSheltreeEmployeeRatio:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsSheltreeEmployeeRatio",$ct.ds.admin.sheltreeEmployeeRatio.getSheltreeEmployeeRatio(this))},searchSheltreeEmployeeRatio:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshSheltreeEmployeeRatioGrid:function(e){a.dsSheltreeEmployeeRatio.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},sheltreeEmployeeRatioEditUrl:function(e){return e?$ct.rn.getSheltreeEmployeeRatio()+"/"+$ct.constants.getNewRecordId():$ct.rn.getSheltreeEmployeeRatio()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.sheltreeEmployeeRatioEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltreeEmployeeRatioEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.sheltreeEmployeeRatio.deletesheltreeEmployeeRatioById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltreeEmployeeRatio.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeEmployeeDeleteSuccessMsg()),a.dsSheltreeEmployeeRatio.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/sheltreeEmployeeRatioList/view.html",[],function(){return'\r\n <div id="vwSheltreeEmployeeRatioList">\r\n    <!--View name : vwSheltreeEmployeeRatioList-->\r\n    <!--Control id prefix : vwserl-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerSheltreeEmployeeRatio}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwserlTxtSearch"\r\n                                placeholder="Search"\r\n                              data-bind="value:searchToken,events:{keyup:searchSheltreeEmployeeRatio}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwserlDgSheltreeEmployeeRatio" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsSheltreeEmployeeRatio, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwserlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                         {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                          {field:\'StaffSpecialityName\',title:\'{{nls.gdColName}}\' },\r\n                         {field:\'EmployeeCount\',title:\'{{nls.gdColEmployeecount}}\' },\r\n                         {field:\'SheltreeCount\',title:\'{{nls.gdColSheltreecount}}\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n\r\n                          ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n     <script type="text/x-kendo-template" id="vwserlRow-template">\r\n         <tr>\r\n             <td>\r\n                 <button class="btn-edit" data-bind="click:btnEditClick">\r\n                     <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                     <span class="f-icon__text">Edit</span>\r\n                 </button>\r\n             </td>\r\n             <td>\r\n                 <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                     <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                     <span class="f-icon__text">Delete</span>\r\n                 </button>\r\n             </td>\r\n             <td data-title="{{nls.gdColName}}">\r\n                 ${StaffSpecialityName}\r\n             </td>\r\n             <td data-title="{{nls.gdColEmployeecount}}">\r\n                 ${EmployeeCount}\r\n             </td>\r\n             <td data-title="{{nls.gdColSheltreecount}}">\r\n                 ${SheltreeCount}\r\n             </td>\r\n             <td data-title="{{nls.gdColUpdatedbyusername}}">\r\n                 ${UpdatedByUserName}\r\n             </td>\r\n             <td data-title="{{nls.gdColUpdatedon}}">\r\n                 ${UpdatedOnValue}\r\n             </td>\r\n         </tr>\r\n     </script>'}),define("modules/adminModule/sheltreeEmployeeRatioList/nls/resources",{root:{headerSheltreeEmployeeRatio:"Shelteree Employee Ratio",lblSearch:"Search",gdColName:" Staff Speciality Name",gdColEmployeecount:"Employee Count",gdColSheltreecount:"Shelteree Count",gdColStaffspecailityid:"Staffspecaility Id",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/sheltreeEmployeeRatioList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltreeEmployeeRatioList()==e&&s()}),i.listen($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),function(){l&&l.data.refreshSheltreeEmployeeRatioGrid()}),i.listen($ct.en.getDisplaySheltreeEmployeeRatioList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getSheltreeEmployeeRatioList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwSheltreeEmployeeRatioList, #vwserlDgSheltreeEmployeeRatio").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.sheltreeEmployeeRatioEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/sheltreeEmployeeRatio/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>SheltereeEmployeeRatio help</h1>\n</div>\n\n'}),define("modules/adminModule/sheltreeEmployeeRatio/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},sheltreeEmployeeRatioData:{},dsStaffSpeciality:[],sheltreeEmployeeRatioId:-1,selectedStaffSpeciality:{},initialLoad:!1,fillQueryParam:function(e){a.set("sheltreeEmployeeRatioId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwSheltreeEmployeeRatio"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltreeEmployeeRatio.getsheltreeEmployeeRatioById(this.sheltreeEmployeeRatioId,function(e){var t=e.Data;if(null===t.SheltreeEmployeeRatio&&(t.SheltreeEmployeeRatio={},t.SheltreeEmployeeRatio.EmployeeCount=null,t.SheltreeEmployeeRatio.SheltreeCount=null,t.SheltreeEmployeeRatio.StaffSpecialityId=-1),a.set("sheltreeEmployeeRatioData",t),a.set("dsStaffSpeciality",t.StaffSpecialityLookup),-1==t.SheltreeEmployeeRatio.StaffSpecialityId)a.set("selectedStaffSpeciality",t.StaffSpecialityLookup[0]);else{var n={};n.Key=t.SheltreeEmployeeRatio.StaffSpecialityId,a.set("selectedStaffSpeciality",n)}$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwSheltreeEmployeeRatio").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i={};i.SheltreeEmployeeRatioId=a.sheltreeEmployeeRatioId,a.sheltreeEmployeeRatioData.SheltreeEmployeeRatio.StaffSpecialityId=a.selectedStaffSpeciality.Key,i.SheltreeEmployeeRatio=a.sheltreeEmployeeRatioData.SheltreeEmployeeRatio.toJSON(),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.sheltreeEmployeeRatio.savesheltreeEmployeeRatio(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeEmployeeSuccessMsg()),n.notify($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getSheltreeEmployeeRatioCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getSheltreeEmployeeRatioList())},setValidClassForEmployeeCount:function(){return null!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount")&&void 0!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()},setValidClassForSheltreeCount:function(){return null!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount")&&void 0!=a.get("sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/sheltreeEmployeeRatio/view.html",[],function(){return'\n<div id="vwSheltreeEmployeeRatio">\r\n    <!--View name : vwSheltreeEmployeeRatio-->\r\n    <!--Control id prefix : vwser-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditSheltreeEmployeeRatio}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblEmployeeCount}}</span>\r\n                <input type="text" id="vwserTaEmployeeCount" name="vwserTaEmployeeCount" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgEmployeeCountRequired}}"\r\n                       data-bind="value:sheltreeEmployeeRatioData.SheltreeEmployeeRatio.EmployeeCount" />\r\n                <span class="k-invalid-msg" data-for="vwserTaEmployeeCount"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblSheltreeCount}}</span>\r\n                <input type="text" id="vwserTaSheltreeCount" name="vwserTaSheltreeCount" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgSheltreeCountRequired}}"\r\n                       data-bind="value:sheltreeEmployeeRatioData.SheltreeEmployeeRatio.SheltreeCount" />\r\n                <span class="k-invalid-msg" data-for="vwserTaSheltreeCount"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblStaffspeciality}}</span>\r\n                <select id="vwserDdlStaffSpeciality" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsStaffSpeciality,value:selectedStaffSpeciality"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/sheltreeEmployeeRatio/nls/resources",{root:{headerAddEditSheltreeEmployeeRatio:"Add edit Shelteree Employee Ratio",lblName:"Name",lblEmployeeCount:"Employee Count",lblSheltreeCount:"Shelteree Count",lblStaffSpecailityId:"Staff Specaility Id",lblStaffspeciality:"Staff Speciality",valmsgNameRequired:"Name is required",valmsgEmployeeCountRequired:"EmployeeCount is required",valmsgSheltreeCountRequired:"SheltereeCount is required",valmsgStaffSpecailityIdRequired:"StaffSpecailityId is required",valmsgStaffspecialityRequired:"Please select Staffspeciality",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/sheltreeEmployeeRatio/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltreeEmployeeRatio()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getSheltreeEmployeeRatio(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwSheltreeEmployeeRatio").kendoValidator().data("kendoValidator");r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/staffSpecialtyList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Staff Specialty list help</h1>\n</div>\n\n'}),define("modules/adminModule/staffSpecialtyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"StaffSpecialty List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsStaffSpecialty:function(){this.fillGrid()},fillGrid:function(){this.set("dsStaffSpecialty",$ct.ds.admin.staffspecialty.getStaffSpecialities(this))},searchStaffSpecialities:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshStaffSpecialtyGrid:function(e){a.dsStaffSpecialty.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},staffSpecialtyEditUrl:function(e){return e?$ct.rn.getStaffSpecialty()+"/"+$ct.constants.getNewRecordId():$ct.rn.getStaffSpecialty()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.staffSpecialtyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.staffSpecialtyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.staffspecialty.deleteStaffSpecialtyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsStaffSpecialty.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffSpecialtyDeleteSuccessMsg()),a.dsStaffSpecialty.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/staffSpecialtyList/view.html",[],function(){return'\n<div id="vwStaffSpecialtyList">\n    <!--View name : vwStaffSpecialtyList-->\n    <!--Control id prefix : vwssl-->  \r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerStaffSpecialtyList}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwsslTbSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken, events:{keyup:searchStaffSpecialities}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1000px"-->\r\n                <table id="vwsslDgStaffSpecialty" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsStaffSpecialty, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsslRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                                        {title:\'Edit\',width:\'60px\'},\r\n                                       {title:\'Delete\',width:\'70px\'},\r\n                                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                                       {field:\'MedicalConditions\',title:\'{{nls.gdColMedicalConditions}}\',width:\'250px\'},\r\n                                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n<script type="text/x-kendo-template" id="vwsslRow-template">\r\n    <tr>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColName}}">\r\n            ${Name}\r\n        </td>\r\n        <td data-title="{{nls.gdColDescription}}">\r\n            ${Description}\r\n        </td>\r\n        <td data-title="{{nls.gdColMedicalConditions}}">\r\n            <span data-bind="html: MedicalConditionsForDisplay"></span>\r\n        </td>\r\n        <td data-title="{{nls.gdColDisplayOrder}}">\r\n            ${DisplayOrder}\r\n        </td>\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>'}),define("modules/adminModule/staffSpecialtyList/nls/resources",{root:{headerStaffSpecialtyList:"Staff Specialty",lblSearch:"Search",gdColName:"Name",gdColDescription:"Description",gdColMedicalConditions:"Medical Conditions",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/staffSpecialtyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffSpecialtyList()==e&&s()}),i.listen($ct.en.getStaffSpecialtyCreatedOrUpdated(),function(){
l&&l.data.refreshStaffSpecialtyGrid()}),i.listen($ct.en.getDisplayStaffSpecialtyList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getStaffSpecialtyList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwStaffSpecialtyList, #vwsslDgStaffSpecialty").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.staffSpecialtyEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/staffSpecialty/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>Staff Specialty help</h1>\n</div>\n\n'}),define("modules/adminModule/staffSpecialty/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"StaffSpecialty edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},staffSpecialtyData:{},medicalConditionStaffSpecialities:[],staffSpecialtyId:-1,initialLoad:!1,DescriptionLength:4e3,fillQueryParam:function(e){a.set("staffSpecialtyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwStaffSpecialty"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.staffspecialty.getStaffSpecialtyById(this.staffSpecialtyId,function(e){var t=e.Data;null===t.StaffSpeciality&&(t.StaffSpeciality={},t.StaffSpeciality.Id=$ct.constants.getNewRecordId(),t.StaffSpeciality.Name="",t.StaffSpeciality.Description="",t.StaffSpeciality.DisplayOrder=1),a.set("staffSpecialtyData",t),a.set("medicalConditionStaffSpecialities",t.MedicalConditionLookupWithStaffSpecialityData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.staffSpecialtyData.StaffSpeciality.set("Name",$.trim(this.staffSpecialtyData.StaffSpeciality.Name)),this.staffSpecialtyData.StaffSpeciality.set("Description",$.trim(this.staffSpecialtyData.StaffSpeciality.Description))},checkMappedMedicalConditions:function(){if(a.get("initialLoad"))return!0;var e=!1;return $.each(a.get("medicalConditionStaffSpecialities"),function(t,n){n.IsSelected&&(e=!0)}),e},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwStaffSpecialty").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.staffSpecialtyData.toJSON();i.StaffSpeciality.MedicalConditionStaffSpecialities=a.medicalConditionStaffSpecialities.toJSON();var l=!1;return $.each(i.StaffSpeciality.MedicalConditionStaffSpecialities,function(e,t){t.IsSelected&&(l=!0)}),l?($ct.helpers.displayWorkAreaBusyCursor(),void $ct.ds.admin.staffspecialty.saveStaffSpecialty(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffSpecialtySuccessMsg()),n.notify($ct.en.getStaffSpecialtyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())})):void n.notify($ct.en.getShowValidationMsg(),"Please select atleast one medical condition")},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getStaffSpecialtyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffSpecialtyList())},setValidClassForDisplayOrder:function(){return null!=a.get("staffSpecialtyData.StaffSpeciality.DisplayOrder")&&void 0!=a.get("staffSpecialtyData.StaffSpeciality.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/staffSpecialty/view.html",[],function(){return'\r\n<div id="vwStaffSpecialty">\r\n    <!--View name : vwStaffSpecialty-->\r\n    <!--Control id prefix : vwss-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditStaffSpecialty}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwssTbName" name="vwssTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:staffSpecialtyData.StaffSpeciality.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwssTbName"></span>\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwssTaDescription" name="vwssTaDescription" class="form-element-with-label__inp"\r\n                          data-bind="value:staffSpecialtyData.StaffSpeciality.Description,attr:{maxlength: DescriptionLength}"\r\n                          required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwssTaDescription"></span>\r\n            </label>\r\n\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwssTbDisplayOrder" name="vwssTbDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:staffSpecialtyData.StaffSpeciality.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwssTbDisplayOrder"></span>\r\n            </label>\r\n\r\n\r\n\r\n\r\n\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblMedticalConditions}}</span>\r\n                <ul class="form-list" data-template="vwssRow-template" data-bind="source:medicalConditionStaffSpecialities"></ul>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:checkMappedMedicalConditions">\r\n                    <span class="k-icon k-warning"></span> At least one medical condition should be selected.\r\n                </span>\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwssRow-template">\r\n\r\n    <li>\r\n        <label class="checkbox">\r\n            <input class="checkbox__inp" type="checkbox"\r\n                   data-bind="checked:IsSelected">\r\n            <span class="checkbox__text" data-bind="text: MedicalConditionName"></span>\r\n        </label>\r\n    </li>\r\n\r\n\r\n</script>\r\n\r\n'}),define("modules/adminModule/staffSpecialty/nls/resources",{root:{headerAddEditStaffSpecialty:"Add edit Staff Specialty",lblName:"Name",lblMedticalConditions:"Medical Conditions",lblDisplayOrder:"Display Order",lblActive:"Active",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/staffSpecialty/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffSpecialty()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getStaffSpecialty(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwStaffSpecialty").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/stafftypeList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Staff Type list help</h1>\n</div>\n\n'}),define("modules/adminModule/stafftypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsStaffTypes:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsStaffTypes",$ct.ds.admin.stafftype.getStaffTypes(this))},seachStafftypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshStaffTypeGrid:function(e){a.dsStaffTypes.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},staffTypetEditUrl:function(e){return e?$ct.rn.getStaffType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getStaffType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.staffTypetEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.staffTypetEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.stafftype.deletegetStaffTypesById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsStaffTypes.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffTypeDeleteSuccessMsg()),a.dsStaffTypes.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/stafftypeList/view.html",[],function(){return'<div id="vwStaffTypeList">\r\n\r\n    <!--View name : vwTransportationTypeList-->\r\n    <!--Control id prefix : vwstl-->\r\n\r\n        <div class="module">\r\n            <!-- view title -->\r\n            <h2 class="module-title">\r\n                {{nls.headerStafftype}}\r\n\r\n                <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n            </h2>\r\n            <div class="module-container">\r\n                <div class="gridsearch">\r\n                    <div class="gridsearch__search-col">\r\n                        <label class="search-label">\r\n                            <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                            <input type="text"\r\n                                   class="search-label__inp"\r\n                                   id="vwstlTxtSearch"\r\n                                   placeholder="Search"\r\n                                   data-bind="value:searchToken,events:{keyup:seachStafftypes}"\r\n                                   data-value-update="keyup" />\r\n                        </label>\r\n                    </div>\r\n                    <div class="gridsearch__btns-col">\r\n                        <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                            <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                            {{nls.btnAdd}}\r\n                        </button>\r\n                        <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                            {{nls.btnEdit}}\r\n                        </button>\r\n                        <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                            {{nls.btnDelete}}\r\n                        </button> -->\r\n                    </div>\r\n                </div>\r\n                <div class="table-wrapper">\r\n                    <table id="vwstlDgStafftype" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                           data-bind="source:dsStaffTypes, events: { change: rowSelectionChange }" data-role="grid"\r\n                           data-filterable="true"\r\n                           data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                           data-row-template="vwstlRow-template"\r\n                           data-selectable="true"\r\n                           data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\r\n                        ]"\r\n                           data-pageable="true"></table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <script type="text/x-kendo-template" id="vwstlRow-template">\r\n            <tr>\r\n                <td>\r\n                    <button class="btn-edit" data-bind="click:btnEditClick">\r\n                        <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Edit</span>\r\n                    </button>\r\n                </td>\r\n                <td>\r\n                    <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                        <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                        <span class="f-icon__text">Delete</span>\r\n                    </button>\r\n                </td>\r\n                <td data-title="{{nls.gdColName}}">\r\n                    ${Name}\r\n                </td>\r\n                <td data-title="{{nls.gdColDescription}}">\r\n                    ${Description}\r\n                </td>\r\n\r\n                <td data-title="{{nls.gdColDisplayOrder}}">\r\n                    ${DisplayOrder}\r\n                </td>\r\n                <td data-title="{{nls.gdColUserName}}">\r\n                    ${UpdatedByUserName}\r\n                </td>\r\n                <td data-title="{{nls.gdColUpdatedDate}}">\r\n                    ${UpdatedOnValue}\r\n                </td>\r\n\r\n\r\n\r\n            </tr>\r\n        </script>'}),define("modules/adminModule/stafftypeList/nls/resources",{root:{headerStafftype:"Staff Type",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/stafftypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffTypeList()==e&&s()}),i.listen($ct.en.getStaffTypeCreatedOrUpdated(),function(){l&&l.data.refreshStaffTypeGrid()}),i.listen($ct.en.getDisplayStaffTypeList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getStaffTypeList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwStaffTypeList, #vwstlDgStafftype").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.staffTypetEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/stafftype/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({staffTypeData:{},staffTypeId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,fillQueryParam:function(e){n.set("staffTypeId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwStaffType"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.stafftype.getStaffTypesById(this.staffTypeId,function(e){var t=e.Data;null===t.StaffType&&(t.StaffType={},t.StaffType.Id=$ct.constants.getNewRecordId(),t.StaffType.Name="",t.StaffType.Description="",t.StaffType.DisplayOrder=1),n.set("staffTypeData",t),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwStaffType").kendoValidator().data("kendoValidator");if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.staffTypeData.toJSON();$ct.ds.admin.stafftype.saveStaffTypes(i,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var i=$ct.mt.getErrorObject(a);null!=i?t.notify($ct.en.getShowErrorMsg(),i):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getStaffTypeSuccessMsg()),t.notify($ct.en.getStaffTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())})},trimWhiteSpaces:function(){this.staffTypeData.StaffType.set("Name",$.trim(this.staffTypeData.StaffType.Name)),this.staffTypeData.StaffType.set("Description",$.trim(this.staffTypeData.StaffType.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getStaffTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getStaffTypeList())},setValidClassForDisplayOrder:function(){return null!=n.get("staffTypeData.StaffType.DisplayOrder")&&void 0!=n.get("staffTypeData.StaffType.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/stafftype/view.html",[],function(){return'\n<div id="vwStaffType">\r\n    <!--View name : vwTransportationType-->\r\n    <!--Control id prefix : vwst-->\r\n\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditStaffType}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwstTbName" name="vwstTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:staffTypeData.StaffType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwstTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwstTaDescription" name="vwstTaDescription" class="form-element-with-label__inp" data-bind="value:staffTypeData.StaffType.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwstTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwstTaDisplayOrder" name="vwstTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:staffTypeData.StaffType.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwstTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>\n\n\n\n\n\n\n\n\n\n\n\n'}),define("modules/adminModule/stafftype/nls/resources",{root:{headerAddEditStaffType:"Add edit Staff Type",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/stafftype/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getStaffType()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getStaffType(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwStaffType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/transportTypeList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Transportation Type list help</h1>\n</div>\n\n'}),define("modules/adminModule/transportTypeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,dsTransportationTypeList:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsTransportationTypeList",$ct.ds.admin.transportationType.getTransportationTypes(this))},seachTransportationTypes:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshTransportationTypesGrid:function(e){a.dsTransportationTypeList.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},transportTypestEditUrl:function(e){return e?$ct.rn.getTransportType()+"/"+$ct.constants.getNewRecordId():$ct.rn.getTransportType()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.transportTypestEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.transportTypestEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&(this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.transportationType.deleteTransportationTypeById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsTransportationTypeList.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getTransportTypeDeleteSuccessMsg()),a.dsTransportationTypeList.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/transportTypeList/view.html",[],function(){return'<div id="vwTransportationTypeList">\n\n    <!--View name : vwTransportationTypeList-->\n    <!--Control id prefix : vwttl-->\n\n\n    <div class="module">\n        <!-- view title -->\n        <h2 class="module-title">\n            {{nls.header}}\n\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\n\n        </h2>\n        <div class="module-container">\n            <div class="gridsearch">\n                <div class="gridsearch__search-col">\n                    <label class="search-label">\n                        <!-- <span class="search-label__text">{{nls.lblSearch}}:</span> -->\n                        <input type="text"\n                            class="search-label__inp"\n                            id="vwttlTxtSearch"\n                               placeholder="Search"\n                            data-bind="value:searchToken,events:{keyup:seachTransportationTypes}"\n                            data-value-update="keyup" />\n                    </label>\n                </div>\n                <div class="gridsearch__btns-col">\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n        {{nls.btnEdit}}\r\n    </button>\r\n    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n        {{nls.btnDelete}}\r\n    </button> -->\r\n                </div>\n            </div>\n            <div class="table-wrapper">\n                <table id="vwttlDgTransportationTypeList" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\n                        data-bind="source:dsTransportationTypeList, events: { change: rowSelectionChange }" data-role="grid"\n                        data-filterable="true"\n                        data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\n                        data-row-template="vwttlRow-template"\n                        data-selectable="true"\n                        data-columns="[\n                            {title:\'Edit\',width:\'60px\'},\n                            {title:\'Delete\',width:\'70px\'},\n                            {field:\'Name\',title:\'{{nls.gdColName}}\'},\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\' },\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\'},\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\'} ,\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false}\n                        ]"\n                        data-pageable="true"></table>\n            </div>\n        </div>\n    </div>\n    <script type="text/x-kendo-template" id="vwttlRow-template">\n        <tr>\n            <td>\n                <button class="btn-edit" data-bind="click:btnEditClick">\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\n                    <span class="f-icon__text">Edit</span>\n                </button>\n            </td>\n            <td>\n                <button class="btn-delete"  data-bind="click:btnDeleteClick">\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\n                    <span class="f-icon__text">Delete</span>\n                </button>\n            </td>\n            <td data-title="{{nls.gdColName}}">\n                ${Name}\n            </td>\n            <td data-title="{{nls.gdColDescription}}">\n                ${Description}\n            </td>\n\n            <td data-title="{{nls.gdColDisplayOrder}}">\n                ${DisplayOrder}\n            </td>\n\n            <td data-title="{{nls.gdColUserName}}">\n                ${UpdatedByUserName}\n            </td>\n\n            <td data-title="{{nls.gdColUpdatedDate}}">\n                ${UpdatedOnValue}\n            </td>\n        </tr>\n    </script>\n</div>\n'}),define("modules/adminModule/transportTypeList/nls/resources",{root:{header:"Transportation Type",lblSearch:"Search",gdColName:"Name",gdColHVAC:"HVAC",gdColDisplayOrder:"Display Order",gdColUpdatedDate:"Updated Date",gdColUserName:"User Name",gdColDescription:"Description",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/transportTypeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getTransportTypeList()==e&&s()}),i.listen($ct.en.getTransportTypeCreatedOrUpdated(),function(){l&&l.data.refreshTransportationTypesGrid()}),i.listen($ct.en.getDisplayTransportTypeList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getTransportTypeList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwTransportationTypeList, #vwttlDgTransportationTypeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.transportTypestEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/transportType/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({transportationTypeData:{},transportationTypeId:-1,initialLoad:!1,NameLength:250,DescriptionLength:4e3,fillQueryParam:function(e){n.set("transportationTypeId",e.id)},initialize:function(){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwTransportationType"),t.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.transportationType.getTransportationTypeById(this.transportationTypeId,function(e){var t=e.Data;null===t.TransportationType&&(t.TransportationType={},t.TransportationType.Id=$ct.constants.getNewRecordId(),t.TransportationType.Name="",t.TransportationType.Description="",t.TransportationType.DisplayOrder=1),n.set("transportationTypeData",t),$ct.helpers.hideWorkAreaBusyCursor()})},btnSaveClick:function(){this.trimWhiteSpaces(),n.set("initialLoad",!1),t.notify($ct.en.getHideErrorMsg());var a=$("#vwTransportationType").kendoValidator().data("kendoValidator");
if(!a.validate())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.transportationTypeData.toJSON();$ct.ds.admin.transportationType.saveTransportationType(i,function(a){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize());var i=$ct.mt.getErrorObject(a);null!=i?t.notify($ct.en.getShowErrorMsg(),i):t.notify($ct.en.getShowSuccMsg(),$ct.msg.getTransportTypeSuccessMsg()),t.notify($ct.en.getTransportTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())})},trimWhiteSpaces:function(){this.transportationTypeData.TransportationType.set("Name",$.trim(this.transportationTypeData.TransportationType.Name)),this.transportationTypeData.TransportationType.set("Description",$.trim(this.transportationTypeData.TransportationType.Description))},btnCancelClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getTransportTypeCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getTransportTypeList())},setValidClassForDisplayOrder:function(){return null!=n.get("transportationTypeData.TransportationType.DisplayOrder")&&void 0!=n.get("transportationTypeData.TransportationType.DisplayOrder")||0!=n.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:n}};return t}),define("text!modules/adminModule/transportType/view.html",[],function(){return'<div id="vwTransportationType">\n    <!--View name : vwTransportationType-->\n    <!--Control id prefix : vwtt-->\n\n    <div class="module">\n        <h2 class="module-title">{{nls.headerAddEditStaffType}}</h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\n                <input type="text" id="vwttTbName" name="vwstTbName" type="text" maxlength="250" class="form-element-with-label__inp" data-bind="value:transportationTypeData.TransportationType.Name" required validationmessage="{{nls.valmsgNameRequired}}">\n                <span class="k-invalid-msg" data-for="vwbtTbName"></span>\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\n                <textarea id="vwttTaDescription" name="vwttTaDescription" class="form-element-with-label__inp" data-bind="value:transportationTypeData.TransportationType.Description,attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\n                <span class="k-invalid-msg" data-for="vwdTaDescription"></span>\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\n                <input type="text" id="vwttTaDisplayOrder" name="vwttTaDisplayOrder"  class="form-element-with-label__inp"\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\n                       data-bind="value:transportationTypeData.TransportationType.DisplayOrder}" />\n                <span class="k-invalid-msg" data-for="vwttTaDisplayOrder"></span>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\n            {{nls.btnSave}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n</div>\n'}),define("modules/adminModule/transportType/nls/resources",{root:{headerAddEditStaffType:"Add edit Transportation Type",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/transportType/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getTransportType()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getTransportType(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwTransportationType").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/dispositionList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Disposition  list help</h1>\n</div>\n\n'}),define("modules/adminModule/dispositionList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Disposition List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsDisposition:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsDisposition",$ct.ds.admin.disposition.getDispositions(this))},searchDispositions:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshDispositionGrid:function(e){a.dsDisposition.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},dispositionEditUrl:function(e){return e?$ct.rn.getDisposition()+"/"+$ct.constants.getNewRecordId():$ct.rn.getDisposition()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.dispositionEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.dispositionEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.disposition.deleteDispositionById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsDisposition.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDispositionDeleteSuccessMsg()),a.dsDisposition.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/dispositionList/view.html",[],function(){return'\r\n<div id="vwDispositionList">\r\n    <!--View name : vwDispositionList-->\r\n    <!--Control id prefix : vwdpl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerDisposition}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwdplTxtSearch"\r\n                                placeholder="Search"\r\n                              data-bind="value:searchToken, events:{keyup:searchDispositions}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwdplDgDisposition" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsDisposition,events:{change:rowSelectionChange}" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwdplRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[                      \r\n                       {title:\'Edit\',width:\'60px\'},\r\n                       {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'}\r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   \r\n    <script type="text/x-kendo-template" id="vwdplRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>'}),define("modules/adminModule/dispositionList/nls/resources",{root:{headerDisposition:"Disposition",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/dispositionList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDispositionList()==e&&s()}),i.listen($ct.en.getDispositionCreatedOrUpdated(),function(){l&&l.data.refreshDispositionGrid()}),i.listen($ct.en.getDisplayDispositionList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDispositionList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwDispositionList, #vwdplDgDisposition").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.dispositionEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/disposition/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>Disposition help</h1>\n</div>\n\n'}),define("modules/adminModule/disposition/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Disposition edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dispositionData:{},initialLoad:!1,DescriptionLength:4e3,dispositionId:"",fillQueryParam:function(e){a.set("dispositionId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwDisposition"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.disposition.getDispositionById(this.dispositionId,function(e){var t=e.Data;null===t.Disposition&&(t.Disposition={},t.Disposition.Id=$ct.constants.getNewRecordId(),t.Disposition.Name="",t.Disposition.Description="",t.Disposition.DisplayOrder=1),a.set("dispositionData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.dispositionData.Disposition.set("Name",$.trim(this.dispositionData.Disposition.Name)),this.dispositionData.Disposition.set("Description",$.trim(this.dispositionData.Disposition.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwDisposition").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.dispositionData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.disposition.saveDisposition(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getDispositionSuccessMsg()),n.notify($ct.en.getDispositionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDispositionList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getDispositionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getDispositionList())},setValidClassForDisplayOrder:function(){return null!=a.get("dispositionData.Disposition.DisplayOrder")&&void 0!=a.get("dispositionData.Disposition.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/disposition/view.html",[],function(){return'\n<div id="vwDisposition">\r\n    <!--View name : vwDisposition-->\r\n    <!--Control id prefix : vwdp-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEdiDisposition}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwdpTbName" name="vwdpTbName"  maxlength="250" class="form-element-with-label__inp" data-bind="value:dispositionData.Disposition.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwdpTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwdpTaDescription" name="vwdpTaDescription" class="form-element-with-label__inp" data-bind="value:dispositionData.Disposition.Description , attr:{maxlength: DescriptionLength} "  required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwdpTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwdpTaDisplayOrder" name="vwdpTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:dispositionData.Disposition.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwdpTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/disposition/nls/resources",{root:{headerAddEdiDisposition:"Add edit Disposition",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/disposition/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDisposition()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDisposition(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwDisposition").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/equipmentSupplyList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> equipment supply List help</h1>\n</div>\n\n'}),define("modules/adminModule/equipmentSupplyList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsEquipmentSupply:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsEquipmentSupply",$ct.ds.admin.equipmentsupply.getEquipmentSupplies(this))},searchEquipmentSupply:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshEquipmentSupplyGrid:function(e){a.dsEquipmentSupply.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},equipmentSupplyEditUrl:function(e){return e?$ct.rn.getequipmentSupply()+"/"+$ct.constants.getNewRecordId():$ct.rn.getequipmentSupply()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.equipmentSupplyEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.equipmentSupplyEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.equipmentsupply.deleteEquipmentSupplyById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEquipmentSupply.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getequipmentSupplyDeleteSuccessMsg()),a.dsEquipmentSupply.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/equipmentSupplyList/view.html",[],function(){return'\r\n \r\n\r\n\r\n<div id="vwEquipmentSupplyList">\r\n    <!--View name : vwEquipmentSupplyList-->\r\n    <!--Control id prefix : vwesl-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerEquipmentSupply}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vweslTxtSearch"\r\n                                placeholder="Search"\r\n                               data-bind="value:searchToken, events:{keyup:searchEquipmentSupply}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vweslDgEquipmentSupply" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsEquipmentSupply, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vweslRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                            {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} \r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vweslRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n\r\n'}),define("modules/adminModule/equipmentSupplyList/nls/resources",{root:{headerEquipmentSupply:"equipment supply",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/equipmentSupplyList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getequipmentSupplyList()==e&&s()}),i.listen($ct.en.getEquipmentSupplyCreatedOrUpdated(),function(){l&&l.data.refreshEquipmentSupplyGrid()}),i.listen($ct.en.getDisplayEquipmentSupplyList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getequipmentSupplyList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwEquipmentSupplyList, #vweslDgEquipmentSupply").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.equipmentSupplyEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/equipmentSupply/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> equipment supply help</h1>\n</div>\n\n'}),define("modules/adminModule/equipmentSupply/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},equipmentSupplyData:{},initialLoad:!1,DescriptionLength:4e3,equipmentSupplyId:"",fillQueryParam:function(e){a.set("equipmentSupplyId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwEquipmentSupply"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.equipmentsupply.getEquipmentSupplyById(this.equipmentSupplyId,function(e){var t=e.Data;null===t.EquipmentSupply&&(t.EquipmentSupply={},t.EquipmentSupply.Id=$ct.constants.getNewRecordId(),t.EquipmentSupply.Name="",t.EquipmentSupply.Description="",t.EquipmentSupply.DisplayOrder=1),a.set("equipmentSupplyData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.equipmentSupplyData.EquipmentSupply.set("Name",$.trim(this.equipmentSupplyData.EquipmentSupply.Name)),this.equipmentSupplyData.EquipmentSupply.set("Description",$.trim(this.equipmentSupplyData.EquipmentSupply.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwEquipmentSupply").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.equipmentSupplyData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.equipmentsupply.saveEquipmentSupply(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEquipmentSupplySuccessMsg()),n.notify($ct.en.getEquipmentSupplyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getequipmentSupplyList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getEquipmentSupplyCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getequipmentSupplyList())},setValidClassForDisplayOrder:function(){return null!=a.get("equipmentSupplyData.EquipmentSupply.DisplayOrder")&&void 0!=a.get("equipmentSupplyData.EquipmentSupply.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/equipmentSupply/view.html",[],function(){return'\n<div id="vwEquipmentSupply">\r\n    <!--View name : vwEquipmentSupply-->\r\n    <!--Control id prefix : vwes-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditEquipmentSupply}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwesTbName" name="vwesTbName" maxlength="250" class="form-element-with-label__inp"  data-bind="value:equipmentSupplyData.EquipmentSupply.Name"  required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwesTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwesTaDescription" name="vwesTaDescription" class="form-element-with-label__inp" data-bind="value:equipmentSupplyData.EquipmentSupply.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwesTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwesTaDisplayOrder" name="vwesTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                       data-bind="value:equipmentSupplyData.EquipmentSupply.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwesTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>';
}),define("modules/adminModule/equipmentSupply/nls/resources",{root:{headerAddEditEquipmentSupply:"Add edit equipment supply",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/equipmentSupply/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getequipmentSupply()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getequipmentSupply(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwEquipmentSupply").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/shelterIdentificationList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> shelter Identification List help</h1>\n</div>\n\n'}),define("modules/adminModule/shelterIdentificationList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Identification List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsShelterIdentification:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsShelterIdentification",$ct.ds.admin.shelterIdentification.getShelterIdentifications(this))},searchShelterIdentifications:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshShelterIdentificationGrid:function(e){a.dsShelterIdentification.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},shelterIdentificationEditUrl:function(e){return e?$ct.rn.getshelterIdentification()+"/"+$ct.constants.getNewRecordId():$ct.rn.getshelterIdentification()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.shelterIdentificationEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.Id),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.shelterIdentificationEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.Id),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.shelterIdentification.deleteShelterIdentificationById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterIdentification.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterIdentificationDeleteSuccessMsg()),a.dsShelterIdentification.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/shelterIdentificationList/view.html",[],function(){return'\r\n<div id="vwShelterIdentificationList">\r\n    <!--View name : vwShelterIdentificationList-->\r\n    <!--Control id prefix : vwsil-->\r\n\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headershelterIdentification}}\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->  \r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwsilTxtSearch"\r\n                                placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchShelterIdentifications}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick"  type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <!--style="width:1150px"-->\r\n                <table id="vwsilDgShelterIdentification" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table"\r\n                       data-bind="source:dsShelterIdentification, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsilRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                        {title:\'Edit\',width:\'60px\'},\r\n                       {title:\'Delete\',width:\'70px\'},\r\n                       {field:\'Name\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                       {field:\'Description\',title:\'{{nls.gdColDescription}}\',width:\'150px\'},\r\n                       {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'} ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <script type="text/x-kendo-template" id="vwsilRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${Name}\r\n            </td>\r\n            <td data-title="{{nls.gdColDescription}}">\r\n                ${Description}\r\n            </td>\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOn}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n'}),define("modules/adminModule/shelterIdentificationList/nls/resources",{root:{headershelterIdentification:"Shelter Identification",lblSearch:"Search",gdColId:"Id",gdColName:"Name",gdColDescription:"Description",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/shelterIdentificationList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getshelterIdentificationList()==e&&s()}),i.listen($ct.en.getShelterIdentificationCreatedOrUpdated(),function(){l&&l.data.refreshShelterIdentificationGrid()}),i.listen($ct.en.getDisplayShelterIdentificationList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getshelterIdentificationList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwShelterIdentificationList, #vwsilDgShelterIdentification").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.shelterIdentificationEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/shelterIdentification/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> shelter identification  help</h1>\n</div>\n\n'}),define("modules/adminModule/shelterIdentification/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelter Identification edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},shelterIdentificationData:{},initialLoad:!1,DescriptionLength:4e3,shelterIdentificationId:"",fillQueryParam:function(e){a.set("shelterIdentificationId",e.id)},initialize:function(){a.set("initialLoad",!0),$ct.helpers.clearValidations("vwShelterIdentification"),n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.shelterIdentification.getShelterIdentificationById(this.shelterIdentificationId,function(e){var t=e.Data;null===t.ShelterIdentification&&(t.ShelterIdentification={},t.ShelterIdentification.Id=$ct.constants.getNewRecordId(),t.ShelterIdentification.Name="",t.ShelterIdentification.Description="",t.ShelterIdentification.DisplayOrder=1),a.set("shelterIdentificationData",t),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.shelterIdentificationData.ShelterIdentification.set("Name",$.trim(this.shelterIdentificationData.ShelterIdentification.Name)),this.shelterIdentificationData.ShelterIdentification.set("Description",$.trim(this.shelterIdentificationData.ShelterIdentification.Description))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwShelterIdentification").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.shelterIdentificationData.toJSON();$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.shelterIdentification.saveShelterIdentification(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);null!=i?n.notify($ct.en.getShowErrorMsg(),i):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterIdentificationSuccessMsg()),n.notify($ct.en.getShelterIdentificationCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getshelterIdentificationList())})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getShelterIdentificationCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getshelterIdentificationList())},setValidClassForDisplayOrder:function(){return null!=a.get("shelterIdentificationData.ShelterIdentification.DisplayOrder")&&void 0!=a.get("shelterIdentificationData.ShelterIdentification.DisplayOrder")||0!=a.get("initialLoad")?$ct.styles.getRemoveInvalidDataBorder():$ct.styles.getDataInvalidClass()}});return{data:a}};return n}),define("text!modules/adminModule/shelterIdentification/view.html",[],function(){return'\n<div id="vwShelterIdentification">\r\n    <!--View name : vwShelterIdentification-->\r\n    <!--Control id prefix : vwsi-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditShelterIdentification}}</h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblName}}</span>\r\n                <input type="text" id="vwsiTbName" name="vwsiTbName" maxlength="250" class="form-element-with-label__inp" data-bind="value:shelterIdentificationData.ShelterIdentification.Name" required validationmessage="{{nls.valmsgNameRequired}}">\r\n                <span class="k-invalid-msg" data-for="vwsiTbName"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwsiTaDescription" name="vwsiTaDescription" class="form-element-with-label__inp" data-bind="value:shelterIdentificationData.ShelterIdentification.Description , attr:{maxlength: DescriptionLength} " required validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwsiTaDescription"></span>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDisplayOrder}}</span>\r\n                <input type="text" id="vwsiTaDisplayOrder" name="vwsiTaDisplayOrder" class="form-element-with-label__inp"\r\n                       data-role="numerictextbox" min="1" max="1000" data-format="n0" data-decimals="0" data-spinners="false"\r\n                       required validationmessage="{{nls.valmsgDisplayOrderRequired}}"\r\n                      data-bind="value:shelterIdentificationData.ShelterIdentification.DisplayOrder" />\r\n                <span class="k-invalid-msg" data-for="vwsiTaDisplayOrder"></span>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n</div>'}),define("modules/adminModule/shelterIdentification/nls/resources",{root:{headerAddEditShelterIdentification:"Add edit Shelter Identification",lblName:"Name",lblDisplayOrder:"Display Order",lblDescription:"Description",valmsgNameRequired:"Name is required",valmsgDescriptionRequired:"Description is required",valmsgDisplayOrderRequired:"Display Order is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/adminModule/shelterIdentification/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getshelterIdentification()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getshelterIdentification(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.initialize();$("#vwShelterIdentification").kendoValidator().data("kendoValidator");$("textarea").maxlength(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/adminModule/questionList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Question list help</h1>\n</div>\n\n'}),define("modules/adminModule/questionList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Question List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},searchToken:"",initialSearchToken:"",selectedId:-1,selectedRecordVersion:-1,initialLoad:!0,dsQuestion:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){this.set("dsQuestion",$ct.ds.admin.question.getQuestions(this))},searchQuestions:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},refreshdsQuestionGrid:function(e){a.dsQuestion.read()},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).QuestionId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},questionEditUrl:function(e){return e?$ct.rn.getQuestion()+"/"+$ct.constants.getemptyGUID():$ct.rn.getQuestion()+"/"+this.selectedId},btnAddClick:function(t){e.UrlController.goTo(this.questionEditUrl(!0))},btnEditClick:function(t){this.set("selectedId",t.data.QuestionId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.questionEditUrl(!1))},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),this.set("selectedId",e.data.QuestionId),this.set("selectedRecordVersion",e.data.Version),$ct.ds.admin.question.deleteQuestionById(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsQuestion.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getQuestionDeleteSuccessMsg()),a.dsQuestion.read()}))}});return{data:a}};return n}),define("text!modules/adminModule/questionList/view.html",[],function(){return'\r\n<div id="vwQuestionList">\r\n    <!--View name : vwQuestionList-->\r\n    <!--Control id prefix : vwql-->\r\n\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">\r\n            {{nls.headerQuestion}}\r\n\r\n            <span class="module-title__icon" data-bind="click:helpClick"></span>\r\n\r\n        </h2>\r\n        <div class="module-container">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <!--<span class="search-label__text">{{nls.lblSearch}}:</span>-->\r\n                        <input type="text"\r\n                               class="search-label__inp"\r\n                               id="vwqlTxtSearch"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchQuestions}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <!-- <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnEditClick">\r\n                        {{nls.btnEdit}}\r\n                    </button>\r\n                    <button class="btn" type="button" data-bind="enabled:isRowSelected,click:btnDeleteClick">\r\n                        {{nls.btnDelete}}\r\n                    </button> -->\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper">\r\n                <table id="vwqlDgQuestion" cellspacing="0" cellpadding="0" border="0" class="grid split-table rwd-table1"\r\n                       data-bind="source:dsQuestion, events: { change: rowSelectionChange }" data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwqlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                            {title:\'Edit\',width:\'60px\'},\r\n                            {title:\'Delete\',width:\'70px\'},\r\n                            {field:\'QuestionText\',title:\'{{nls.gdColName}}\',width:\'150px\'},\r\n                            {field:\'QuestionGroupName\',title:\'{{nls.gdColQuestionGroupName}}\',width:\'150px\'},\r\n                            {field:\'QuestionTypeName\',title:\'{{nls.gdColQuestionTypeName}}\',width:\'150px\'},\r\n                            {field:\'DisplayOrder\',title:\'{{nls.gdColDisplayOrder}}\',width:\'150px\'},\r\n                            {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\',width:\'150px\'},\r\n                            {field:\'UpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'}\r\n                        ]"\r\n                       data-pageable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <script type="text/x-kendo-template" id="vwqlRow-template">\r\n        <tr>\r\n            <td>\r\n                <button class="btn-edit" data-bind="click:btnEditClick">\r\n                    <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Edit</span>\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                    <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                    <span class="f-icon__text">Delete</span>\r\n                </button>\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColName}}">\r\n                ${QuestionText}\r\n            </td>\r\n            <td data-title="{{nls.gdColQuestionGroupName}}">\r\n                ${QuestionGroupName}\r\n            </td>\r\n            <td data-title="{{nls.gdColQuestionTypeName}}">\r\n                ${QuestionTypeName}\r\n            </td>\r\n\r\n            <td data-title="{{nls.gdColDisplayOrder}}">\r\n                ${DisplayOrder}\r\n            </td>\r\n            <td data-title="{{nls.gdColUserName}}">\r\n                ${UpdatedByUserName}\r\n            </td>\r\n            <td data-title="{{nls.gdColUpdatedDate}}">\r\n                ${UpdatedOnValue}\r\n            </td>\r\n        </tr>\r\n    </script>\r\n\r\n'}),define("modules/adminModule/questionList/nls/resources",{root:{headerQuestion:"Question",lblSearch:"Search",gdColName:"Name",gdColQuestionGroupName:"Question Group Name",gdColQuestionTypeName:"Question Type Name",gdColDisplayOrder:"Display Order",gdColUserName:"User Name",gdColUpdatedDate:"Updated Date",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit"}}),define("modules/adminModule/questionList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getQuestionList()==e&&s()}),i.listen($ct.en.getQuestionCreatedOrUpdated(),function(){l&&l.data.refreshdsQuestionGrid()}),i.listen($ct.en.getDisplayquestionList(),function(){s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data))};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getQuestionList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),$("#vwQuestionList, #vwqlDgQuestion").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.questionEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data)),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/question/viewmodel",["Boiler"],function(e){var t=function(t){var n=kendo.observable({pageName:"Question",helpClick:function(t){var n=new e.ViewTemplate(null,helpTmpl,null);$ct.helpers.displayWindow(n)},questionData:[],questionId:$ct.constants.getemptyGUID(),dsQuestionTypes:[],dsQuestionTypeOptions:[],dsQuestionGroups:[],dsEquipmentDependencies:[],selectedQuestionType:{},selectedQuestionTypeOption:{},selectedQuestionGroup:{},dsAnswerTypes:$ct.ds.admin.question.getAnswerTypes(),selectedAnswerType:$ct.ds.admin.question.getDefaultAnswerType(),originalAnswerOptions:[],fillQueryParam:function(e){n.set("questionId",e.id)},answerTypeChange:function(){n.initialize(!0)},isNewAnswer:function(){return n.get("questionId")==$ct.constants.getemptyGUID()?!0:!1},initialize:function(e){if($ct.helpers.clearValidations("vwQuestion"),t.notify($ct.en.getHideErrorMsg()),n.questionId==$ct.constants.getemptyGUID()){var a={};a.Id=$ct.constants.getemptyGUID(),a.AnswerTypeId=n.selectedAnswerType.Key,a.QuestionText="",a.QuestionGroupId=-1,a.IsRequired=!1,a.AnswerWidth=50,a.DisplayOrder=1,a.PageNumber=n.pageNo,a.IsOptionsHorizontal=!1,a.AnswerOptions=[];var i={};i.Id=$ct.constants.getemptyGUID(),i.QuestionId=$ct.constants.getemptyGUID(),i.AnswerTypeId=null,i.ChoiceText="",i.IsRequired=!1,i.AnswerWidth=null,i.IsOptionsHorizontal=!1,i.DisplayOrder=1,i.ColumnNumber=null,i.RowNumber=null,i.ColumnName=null,i.RowName=null,i.Deleted=!1;var l={};l.Question=a,l.AnswerOption=i,n.addValidations(l);var r=[];if(r.push(l),n.set("questionData",r),n.questionId==$ct.constants.getemptyGUID()&&e)return}$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.question.getQuestionById(this.questionId,function(e){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(e);if(null!=a)return void t.notify($ct.en.getShowErrorMsg(),a);var i=e.Data;if(n.set("dsQuestionTypes",i.QuestionLookupData.QuestionTypeData),n.set("dsQuestionTypeOptions",i.QuestionLookupData.MedicalConditionsData),n.set("dsQuestionGroups",i.QuestionLookupData.QuestionGroupData),n.set("dsEquipmentDependencies",i.QuestionEquipmentDependenciesData),n.questionId==$ct.constants.getemptyGUID())return n.set("selectedQuestionType",i.QuestionLookupData.QuestionTypeData[0]),n.set("selectedQuestionTypeOption",i.QuestionLookupData.MedicalConditionsData[0]),void n.set("selectedQuestionGroup",i.QuestionLookupData.QuestionGroupData[0]);var l={};l.Key=i.Question.AnswerTypeId;var r={};r.Key=i.Question.QuestionTypeId;var s={};s.Key=i.Question.QuestionTypeOptionId;var d={};d.Key=i.Question.QuestionGroupId,n.set("selectedAnswerType",l),n.set("selectedQuestionType",r),n.set("selectedQuestionTypeOption",s),n.set("selectedQuestionGroup",d),n.addValidations(i),n.set("originalAnswerOptions",i.Question.AnswerOptions);var o=[];o.push(i),n.set("questionData",o)})},questionTypeChange:function(){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.question.getQuestionTypeById(this.selectedQuestionType.Key,function(e){var t=e.Data;n.set("dsQuestionTypeOptions",t),n.set("selectedQuestionTypeOption",t[0]),$ct.helpers.hideWorkAreaBusyCursor()})},triggerValidation:!1,addValidations:function(e){var t=function(){if(!n.get("triggerValidation"))return!0;var e=!1;return $.each(n.get("dsEquipmentDependencies"),function(t,n){n.IsSelected&&(e=!0)}),e};n.set("isAtLeastOneEquipmentDependencySelected",t);var a=function(){return this.get("triggerValidations")&&""==$.trim(this.get("QuestionText"))?!1:!0},i=function(){return this.get("triggerValidations")&&(null==this.get("AnswerWidth")||""==this.get("AnswerWidth"))?!1:!0},l=function(){return this.get("triggerValidations")&&""==$.trim(this.get("ChoiceText"))?!1:!0};e.AnswerOption.triggerValidations=!1,e.AnswerOption.hideCTextValidation=l,e.triggerValidations=!1,e.hideQDefValidation=function(){return!0},(e.Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()||e.Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()||e.Question.AnswerTypeId==$ct.ds.admin.question.getDropdownListId())&&(e.hideQDefValidation=function(){if(!this.get("triggerValidations"))return!0;var e=this.get("Question.AnswerOptions");return e.length<2?!1:!0}),e.Question.triggerValidations=!1,e.Question.hideQTextValidation=a,(e.Question.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||e.Question.AnswerTypeId==$ct.ds.admin.question.getTextAreaId())&&(e.Question.hideAnswerWidthValidation=i),$.each(e.Question.AnswerOptions,function(t,n){n.triggerValidations=!1,(e.Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()||e.Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()||e.Question.AnswerTypeId==$ct.ds.admin.question.getDropdownListId())&&(n.hideCTextValidation=l)})},triggerValidations:function(){n.set("triggerValidation",!0),n.questionData[0].set("triggerValidations",!0),n.questionData[0].Question.set("triggerValidations",!0),$.each(n.questionData[0].Question.AnswerOptions,function(e,t){t.set("triggerValidations",!0)})},isValidData:function(){var e=!0;return n.isAtLeastOneEquipmentDependencySelected()||(e=!1),n.questionData[0].hideQDefValidation()||(e=!1),n.questionData[0].Question.hideQTextValidation()||(e=!1),(n.questionData[0].Question.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||n.questionData[0].Question.AnswerTypeId==$ct.ds.admin.question.getTextAreaId())&&(n.questionData[0].Question.hideAnswerWidthValidation()||(e=!1)),$.each(n.questionData[0].Question.AnswerOptions,function(t,a){(n.questionData[0].Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()||n.questionData[0].Question.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()||n.questionData[0].Question.AnswerTypeId==$ct.ds.admin.question.getDropdownListId())&&(a.hideCTextValidation()||(e=!1))}),e},btnSaveClick:function(){if(t.notify($ct.en.getHideErrorMsg()),this.triggerValidations(),!this.isValidData())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var a=n.questionData[0].toJSON();a.Question.QuestionTypeId=n.selectedQuestionType.Key,a.Question.QuestionTypeOptionId=n.selectedQuestionTypeOption.Key,a.Question.QuestionGroupId=n.selectedQuestionGroup.Key,a.Question.QuestionEquipmentDependencies=n.dsEquipmentDependencies.toJSON(),$.each(n.originalAnswerOptions,function(e,t){var i=!1;$.each(n.questionData[0].Question.AnswerOptions,function(e,n){t.Id==n.Id&&(i=!0)}),i||(t.Deleted=!0,a.Question.AnswerOptions.push(t.toJSON()))});var i=n.questionData[0].Question;if(i.Id==$ct.constants.getemptyGUID()&&(i.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||i.AnswerTypeId==$ct.ds.admin.question.getNumericTextBoxId()||i.AnswerTypeId==$ct.ds.admin.question.getDecimalTextBoxId()||i.AnswerTypeId==$ct.ds.admin.question.getTextAreaId())){var l=n.questionData[0].AnswerOption.toJSON();l.ChoiceText=null,a.Question.AnswerOptions.push(l)}$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.admin.question.saveQuestion(a,function(a){
if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(a))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.initialize(!1));var i=$ct.mt.getErrorObject(a);null!=i?t.notify($ct.en.getShowErrorMsg(),i):(t.notify($ct.en.getShowSuccMsg(),$ct.msg.getQuestionSuccessMsg()),t.notify($ct.en.getQuestionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getQuestionList()))})},btnBackClick:function(){t.notify($ct.en.getHideErrorMsg()),t.notify($ct.en.getQuestionCreatedOrUpdated(),null),e.UrlController.goTo($ct.rn.getQuestionList())},btnAddOptionClick:function(){var e=n.questionData[0].AnswerOption.toJSON();e.hideCTextValidation=n.questionData[0].AnswerOption.hideCTextValidation;var t=0;$.each(n.questionData[0].Question.AnswerOptions,function(e,n){t<n.DisplayOrder&&(t=n.DisplayOrder)}),e.DisplayOrder=t+1,n.get("questionData[0].Question.AnswerOptions").push(e)},btnOptionDeleteClick:function(e){var t=-1;$.each(n.questionData[0].Question.AnswerOptions,function(n,a){a.DisplayOrder==e.data.DisplayOrder&&(t=n)}),-1!=t?n.get("questionData[0].Question.AnswerOptions").splice(t,1):alert("Object not found ")}});return{data:n}};return t}),define("text!modules/adminModule/question/view.html",[],function(){return'\r\n<div id="vwQuestion">\r\n    <!--View name : vwQuestion-->\r\n    <!--Control id prefix : vwq-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerAddEditQuestion}}</h2>\r\n        <div class="module-container">\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblSectionName}}</span>\r\n                <select id="Select3" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsQuestionGroups, value:selectedQuestionGroup"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblAnswerType}}</span>\r\n                <select id="vwserDdlStaffSpeciality" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsAnswerTypes, value:selectedAnswerType,enabled: isNewAnswer, events:{change:answerTypeChange}"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n            <div data-template="vwqRow-template" data-bind="source:questionData"></div>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblQuestionType}}</span>\r\n                <select id="Select1" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsQuestionTypes, value:selectedQuestionType,  events:{change:questionTypeChange}"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblQuestionTypeOptions}}</span>\r\n                <select id="Select2" data-role="dropdownlist" class="inputClassSelect"\r\n                        data-bind="source:dsQuestionTypeOptions, value:selectedQuestionTypeOption"\r\n                        data-text-field="Value" data-value-field="Key" />\r\n            </label>\r\n\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblEquipmentDependencies}}</span>\r\n                <ul class="form-list" data-template="vwqcheckboxRow-template" data-bind="source:dsEquipmentDependencies"></ul>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible:isAtLeastOneEquipmentDependencySelected">\r\n                    <span class="k-icon k-warning"></span> At least one equipment dependency should be selected.\r\n                </span>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnBackClick">\r\n           {{nls.btnBack}}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwqcheckboxRow-template">\r\n    <li>\r\n        <label class="checkbox">\r\n            <input class="checkbox__inp" type="checkbox"\r\n                   data-bind="checked:IsSelected">\r\n            <span class="checkbox__text" data-bind="text:EquipmentDependencyName"></span>\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqRow-template">\r\n\r\n    <div>\r\n\r\n        <label class="form-element-with-label">\r\n            <span class="form-element-with-label__text">{{nls.lblQuestionText}}</span>\r\n            <textarea id="vwqQuestion" name="vwqTaDescription" class="form-element-with-label__inp" data-bind="value:Question.QuestionText" rows="5"></textarea>\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: Question.hideQTextValidation">Please enter question text</span>\r\n        </label>\r\n        <!-- if statement start -->\r\n        # if( (Question.AnswerTypeId == 1) || (Question.AnswerTypeId == 4)){ #\r\n\r\n      \r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">{{nls.lblChooseOptions}}</span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="checkbox">\r\n                        <input class="checkbox__inp" type="checkbox"\r\n                               data-bind="checked:Question.IsRequired">\r\n                        <span class="checkbox__text">{{nls.lblRequiredField}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n        <div class="l--two-column">\r\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblTextBoxLength}}</span>\r\n                    <input type="text"  class="form-element-with-label__inp"\r\n                           data-role="numerictextbox" data-spinners="false" min="1" max="5000" data-format="n0"\r\n                          data-bind="value:Question.AnswerWidth" data-decimals="0" />\r\n                    <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:Question.hideAnswerWidthValidation"> Please enter number</span>\r\n                </label>\r\n            </div>\r\n            <div class="column-two" style="margin:32px 0px 0px -15px;">\r\n                <span>Characters</span>\r\n            </div>\r\n\r\n        </div>\r\n        #} else if ((Question.AnswerTypeId == 2) || (Question.AnswerTypeId == 3) ){ #\r\n\r\n      \r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">{{nls.lblChooseOptions}}</span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="checkbox">\r\n                        <input class="checkbox__inp" type="checkbox"\r\n                               data-bind="checked:Question.IsRequired">\r\n                        <span class="checkbox__text">{{nls.lblRequiredField}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n        #} else if ((Question.AnswerTypeId == 5) || (Question.AnswerTypeId == 6) ) { #\r\n\r\n       \r\n        <div>\r\n            <!--<label>Add Options</label>-->\r\n            <div>\r\n                <div>\r\n\r\n                    <button class="btn--secondary" data-bind="click:btnAddOptionClick" type="button">\r\n\r\n                       {{nls.btnAddOption}}\r\n                    </button>\r\n                </div>\r\n\r\n\r\n\r\n                <div data-template="vwqMultipleOption-template" data-bind="source: Question.AnswerOptions"></div>\r\n            </div>\r\n\r\n            <div>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible: hideQDefValidation">\r\n                    <span class="k-icon k-warning"></span>  Atleast two options are required\r\n                </span>\r\n\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">{{nls.lblChooseOptions}}</span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="checkbox">\r\n                        <input class="checkbox__inp" type="checkbox"\r\n                               data-bind="checked:Question.IsRequired">\r\n                        <span class="checkbox__text">{{nls.lblRequiredField}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">Display As</span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="radio-button">\r\n                        <input class="radio-button__inp" type="radio" name="vwqRbOptHorizantal"\r\n                               value="true" data-bind="checked: Question.IsOptionsHorizontal">\r\n                        <span class="radio-button__text">{{nls.lblIsOptionsHorizontal}}</span>\r\n                    </label>\r\n                </li>\r\n                <li>\r\n                    <label class="radio-button">\r\n                        <input class="radio-button__inp" type="radio" name="vwqRbOptHorizantal"\r\n                               value="false" data-bind="checked: Question.IsOptionsHorizontal">\r\n                        <span class="radio-button__text">{{nls.lblIsOptionsVerticle}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        #} else if (Question.AnswerTypeId == 7){ #\r\n\r\n        <div>\r\n            <!--<label>Add Options</label>-->\r\n            <div>\r\n                <div>\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <button class="btn--secondary" data-bind="click:btnAddOptionClick" type="button">\r\n                    {{nls.btnAddOption}}\r\n                </button>\r\n\r\n                <div data-template="vwqMultipleOption-template" data-bind="source: Question.AnswerOptions"></div>\r\n            </div>\r\n\r\n\r\n            <div>\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible: hideQDefValidation">\r\n                    <span class="k-icon k-warning"></span> Atleast two options are required\r\n                </span>   \r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">{{nls.lblChooseOptions}}</span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="checkbox">\r\n                        <input class="checkbox__inp" type="checkbox"\r\n                               data-bind="checked:Question.IsRequired">\r\n                        <span class="checkbox__text">{{nls.lblRequiredField}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n        <div class="form-element-with-label">\r\n            <span class="form-element-with-label__text">Display As </span>\r\n            <ul class="form-list">\r\n                <li>\r\n                    <label class="radio-button">\r\n                        <input class="radio-button__inp" type="radio" name="vwqRbOptHorizantal"\r\n                               value="true" data-bind="checked: Question.IsOptionsHorizontal">\r\n                        <span class="radio-button__text">{{nls.lblIsOptionsHorizontal}}</span>\r\n                    </label>\r\n                </li>\r\n                <li>\r\n                    <label class="radio-button">\r\n                        <input class="radio-button__inp" type="radio" name="vwqRbOptHorizantal"\r\n                               value="false" data-bind="checked: Question.IsOptionsHorizontal">\r\n                        <span class="radio-button__text">{{nls.lblIsOptionsVerticle}}</span>\r\n                    </label>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        #}else{#\r\n\r\n        question type not found there is a configuration issue.\r\n\r\n        #}#\r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwqMultipleOption-template">\r\n\r\n    <div>\r\n\r\n            <!--\r\n\r\n                #  if(AnswerTypeId == 5){ #\r\n\r\n                     <input type="radio" disabled="disabled" class="check_radio_align" />\r\n\r\n                 #} else if  (AnswerTypeId == 6)  { #\r\n\r\n                     <input type="checkbox" disabled="disabled" class="check_radio_align" />\r\n\r\n                #}#\r\n\r\n            -->\r\n\r\n            <div class="l--two-column" style="margin-top:10px;">\r\n\r\n                <div class="column-one">\r\n                    <label class="form-element-with-label">\r\n\r\n                        <input type="text" id="vwsecTbName" name="vwsecTbName" maxlength="500" class="form-element-with-label__inp" data-bind="value:ChoiceText">\r\n\r\n                    </label>\r\n                </div>\r\n\r\n\r\n\r\n\r\n                <div class="column-two" style="margin-top:5px;">\r\n                    <button class="btn-delete" data-bind="click:btnOptionDeleteClick">\r\n                        <span class="f-icon f-icon__delete">\r\n\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n          \r\n              <!--\r\n                                            <span  class="icon-sprite_disabled icon_trash" >\r\n                                                {{nls.btnOptionDelete}}\r\n                                           </span>\r\n            -->\r\n\r\n\r\n       \r\n    <div data-bind="invisible: hideCTextValidation">\r\n\r\n\r\n        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible: hideCTextValidation">\r\n            <span class="k-icon k-warning"></span>Please enter choice text\r\n        </span>\r\n    </div>\r\n\r\n    \r\n\r\n    </div>\r\n\r\n</script>\r\n'}),define("modules/adminModule/question/nls/resources",{root:{headerAddEditQuestion:"Add edit Question",lblAnswerType:"Answer Type",lblHAVBed:"HAVBed",lblQuestionText:"Enter Question",lblHelpText:"Help Text",lblAddOptions:"Add Options",lblChooseOptions:"Choose Options",lblRequiredField:"Required Field",lblTextBoxLength:"TextBox Length",lblIsOptionsHorizontal:"Horizontal",lblIsOptionsVerticle:"Vertical",lblQuestionType:"Question Type",lblQuestionTypeOptions:"Question Type Options",lblSectionName:"Section Name",lblEquipmentDependencies:"Equipment Dependencies",btnSave:"Save Question",btnBack:"Back",btnOptionDelete:"Delete",btnAddOption:"+ Add Option"}}),define("modules/adminModule/question/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getQuestion()==e&&l&&l.data.initialize(!1)}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getQuestion(),r||(r=new e.ViewTemplate(s,n,a)),l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.fillQueryParam(d),l.data.initialize(!1);$("#vwQuestion").kendoValidator().data("kendoValidator");r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/adminModule/module",["Boiler","./settings","./agencyList/component","./agency/component","./departmentList/component","./department/component","./medicalConditionList/component","./medicalCondition/component","./medicalConditionTierList/component","./medicalConditionTier/component","./shelterTypeList/component","./shelterType/component","./sheltreeEmployeeRatioList/component","./sheltreeEmployeeRatio/component","./staffSpecialtyList/component","./staffSpecialty/component","./stafftypeList/component","./stafftype/component","./transportTypeList/component","./transportType/component","./dispositionList/component","./disposition/component","./equipmentSupplyList/component","./equipmentSupply/component","./shelterIdentificationList/component","./shelterIdentification/component","./questionList/component","./question/component"],function(e,t,n,a,i,l,r,s,d,o,c,p,u,h,m,f,g,v,y,b,S,w,D,C,k,x,T,E){var _=function(_){var I=new e.Context(_);I.addSettings(t);var A=new e.UrlController($(".appcontent"));A.addRoutes({agencylist:new n(I),"agency/{id}":new a(I),departmentlist:new i(I),"department/{id}":new l(I),medicalconditionlist:new r(I),"medicalcondition/{id}":new s(I),medicalconditiontierlist:new d(I),"medicalconditiontier/{id}":new o(I),sheltertypelist:new c(I),"sheltertype/{id}":new p(I),sheltreeemployeeratiolist:new u(I),"sheltreeemployeeratio/{id}":new h(I),staffspecialtylist:new m(I),"staffspecialty/{id}":new f(I),stafftypelist:new g(I),"stafftype/{id}":new v(I),transportationtypelist:new y(I),"transportationtype/{id}":new b(I),dispositionlist:new S(I),"disposition/{id}":new w(I),equipmentsupplylist:new D(I),"equipmentsupply/{id}":new C(I),shelteridentificationlist:new k(I),"shelteridentification/{id}":new x(I),questionlist:new T(I),"question/{id}":new E(I)}),A.start()};return _}),define("modules/otherModule/settings",{urls:{}}),define("text!modules/otherModule/noPermission/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Data cell help</h1>\n</div>\n\n'}),define("modules/otherModule/noPermission/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)}});return{data:a}};return n}),define("text!modules/otherModule/noPermission/view.html",[],function(){return'<div id="vwNoPermission">\n\n\n<div class="emptyscrmsgs">{{nls.lblNoPermission}}</div>\n\n\n</div>\n'}),define("modules/otherModule/noPermission/nls/resources",{root:{lblNoPermission:"You do not have enough permissions. Please contact administrator."}}),define("modules/otherModule/noPermission/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;this.activate=function(s,d){r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),i.notify($ct.en.getHideErrorMsg()),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/otherModule/module",["Boiler","./settings","./noPermission/component"],function(e,t,n){var a=function(a){var i=new e.Context(a);i.addSettings(t);var l=new e.UrlController($(".appcontent"));l.addRoutes({nopermission:new n(i)}),l.start()};return a}),define("modules/employeeModule/settings",{urls:{}}),define("text!modules/employeeModule/employeeList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Employee  list help</h1>\n</div>\n\n'}),define("modules/employeeModule/employeeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,agencyFilterLookUp:[],departmentFilterLookUp:[],shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],staffTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},initialize:function(){a.set("empRequestData",n.parentContext.empRequestData)},empHeaderData:{shelter:{}},initializeEmployeeHeader:function(){a.set("empHeaderData",n.parentContext.empHeaderData)},empRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.empRequestData.ViewAll&&(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.empRequestData.ViewAll=!1,n.parentContext.empRequestData.ViewAll=!1,a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeEmployeeHeader(),this.fillGrid()},dsEmployeeList:function(){},fillGrid:function(){var e=$("#vwelDgEmployeeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsEmployeeList",$ct.ds.emp.employee.getEmployees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.agencyFilterLookUp=e.Data.AgencyLookupData,a.departmentFilterLookUp=e.Data.DepartmentLookupData,a.shelterFilterLookUp=e.Data.ShelterLookupData,a.shiftTimeFilterLookUp=e.Data.ShiftTimeLookupData,a.staffSpecialityFilterLookUp=e.Data.StaffSpecialityLookupData,a.staffTypeFilterLookUp=e.Data.StaffTypeLookupData,$("#vwelDgEmployeeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffTypeName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='AgencyName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.agencyFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='DepartmentName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.departmentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwelDgEmployeeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsEmployeeList").total()>0?$("#vwelBtnExcel").show():$("#vwelBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,n.parentContext.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,a.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,n.parentContext.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,a.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,n.parentContext.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,e.Data.HasCachedData&&a.empRequestData.ViewAll&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),$.each(e.Data.Employees,function(e,t){t.IsSelected&&a.get("empRequestData.SelectedEmployeeIds").push(t.Id)}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.deleteEmployeeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEmployeeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var i=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds");if($.inArray(a.selectedId,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(a.selectedId,l),1),$.inArray(a.selectedId,i)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(a.selectedId);var r=a.get("empRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("empRequestData.SelectedIdsCount",r-1)}n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeDeleteSuccessMsg())}a.dsEmployeeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchEmployees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwelChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,i)<0){a.get("empRequestData.SelectedEmployeeIds").push(e.data.Id);var l=a.get("empRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=0),a.set("empRequestData.SelectedIdsCount",l+1)}}else if($.inArray(e.data.Id,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(e.data.Id,i),1),$.inArray(e.data.Id,t)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(e.data.Id);var l=a.get("empRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=1),a.set("empRequestData.SelectedIdsCount",l-1)}var r=a.get("dsEmployeeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwEmployeeList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwEmployeeList").find("#chkAll").click(function(e){var t=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds"),l=$("#vwEmployeeList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("empRequestData.OrigSelectedIdsCount"),s=a.get("empRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(l).prop("checked",!0),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(l,t),1),$.inArray(l,i)<0&&a.get("empRequestData.SelectedEmployeeIds").push(l),r+=1}),0>r&&(r=0),a.set("empRequestData.SelectedIdsCount",r)}else{var d=a.get("empRequestData.SelectedIdsCount");$(l).prop("checked",!1),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(l,i),1),$.inArray(l,t)<0&&a.get("empRequestData.UnSelectedEmployeeIds").push(l),d-=1}),0>d&&(d=0),a.set("empRequestData.SelectedIdsCount",d)}var o=a.get("dsEmployeeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)})},refreshEmployeeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsEmployeeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.empRequestData.ViewAll=!0,a.empRequestData.FetchSelectedOnly=!1,a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.ViewAll=!0,n.parentContext.empRequestData.FetchSelectedOnly=!1,n.parentContext.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),a.set("empRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeEmployeeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.employeeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateEmployee())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.employeeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.exportEmployeesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t);
}})},employeeEditUrl:function(e){return e?$ct.rn.getEmployee()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.empHeaderData.shelter.Id:$ct.rn.getEmployee()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/employeeModule/employeeList/view.html",[],function(){return'<div id="vwEmployeeList">\n    <div class="module">\n        <!-- view title -->\n        <h2 class="module-title">Employee List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container is-employee-section">\n            <div class="gridsearch">\n                <div class="gridsearch__search-col">\n                    <label class="search-label">\n                        <input type="text" id="vwelTxtSearch" class="search-label__inp"\n                               placeholder="Search"\n                               data-bind="value:searchToken,events:{keyup:searchEmployees}"\n                               data-value-update="keyup" />\n                    </label>\n                </div>\n                <div class="gridsearch__btns-col">\n                    <button class="btn--secondary buttonBorderNone">\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\n                        <span data-bind="text:filterText"></span>\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\n                        {{nls.btnAdd}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\n                        {{nls.btnFilterOff}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\n                        {{nls.btnExportToExcel}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\n                        {{nls.btnBulkUpdate}}\n                    </button>\n                </div>\n            </div>\n            <div class="table-wrapper" id="vwelDgEmployeeListParent">\n                <table id="vwelDgEmployeeList"\n                       cellspacing="0"\n                       cellpadding="0"\n                       border="0"\n                       class="grid split-table customDataTable"\n                       data-bind="source:dsEmployeeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\n                       data-role="grid"\n                       data-filterable="true"\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\n                       data-row-template="vwelRow-template"\n                       data-selectable="true"\n                       data-columns="[\n                       {width:\'40px\'},\n                       {title:\'Edit\',width:\'60px\'},\n                       {title:\'Delete\',width:\'70px\'},\n                       {field:\'FacilityName\',title:\'Shelter Name\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\n                       {field:\'EmployeeRefId\',title:\'{{nls.gdColEmployeeRefId}}\', width:\'150px\'},\n                       {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\n                       {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\n                       {field:\'StaffTypeName\',title:\'{{nls.gdColStaffType}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                       {field:\'IsMedical\',title:\'{{nls.gdColIsMedical}}\' , width:\'150px\'},\n                       {field:\'AgencyName\',title:\'{{nls.gdColAgency}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                       {field:\'DepartmentName\',title:\'{{nls.gdColDepartment}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                       {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpecialty}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                       {field:\'ShiftTime\',title:\'{{nls.gdColShift}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                       {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\n                       {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\n                    ]"\n                       data-pageable="true"\n                       data-scrollable="true"></table>\n            </div>\n        </div>\n    </div>\n    <!-- <span class="bold" style="position:relative; top:5px;">\n        <span>{{nls.lblShelterName}}\n        </span>\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\n    </span> -->\n    <div style="display: none">\n        <a id="vwmpAncExportExcel"></a>\n    </div>\n</div>\n<script type="text/x-kendo-template" id="vwmpTest">\n    <span>${data}</span>\n</script>\n<script type="text/x-kendo-template" id="vwelRow-template">\n    <tr>\n        <td data-title="{{nls.gdColIsSelected}}">\n            <label class="checkbox">\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vwelChkEmployee}" type="checkbox" data-item-type="child" data-id=${Id} />\n                <span class="checkbox__text"></span>\n            </label>\n        </td>\n        <td>\n            <button class="btn-edit" data-bind="click:btnEditClick">\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\n                <span class="f-icon__text">Edit</span>\n            </button>\n        </td>\n        <td>\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\n                <span class="f-icon__text">Delete</span>\n            </button>\n        </td>\n        <td data-title="Shelter Name">\n            ${FacilityName}\n        </td>\n        <td data-title="{{nls.gdColEmployeeRefId}}">\n            ${EmployeeRefId}\n        </td>\n        <td data-title="{{nls.gdColFirstName}}">\n            ${FirstName}\n        </td>\n        <td data-title="{{nls.gdColLastName}}">\n            ${LastName}\n        </td>\n        <td data-title="{{nls.gdColStaffType}}">\n            ${StaffTypeName}\n        </td>\n        <td data-title="{{nls.gdColIsMedical}}">\n            #= IsMedical ? \'Yes\' : \'No\' #\n        </td>\n        <td data-title="{{nls.gdColAgency}}">\n            ${AgencyName}\n        </td>\n        <td data-title="{{nls.gdColDepartment}}">\n            ${DepartmentName}\n        </td>\n        <td data-title="{{nls.gdColStaffSpecialty}}">\n            ${StaffSpecialityName}\n        </td>\n        <td data-title="{{nls.gdColShift}}">\n            ${ShiftTime}\n        </td>\n        <td data-title="{{nls.gdColUserName}}">\n            ${UpdatedByUserName}\n        </td>\n        <td data-title="{{nls.gdColLastUpdated}}">\n            ${UpdatedOnValue}\n        </td>\n    </tr>\n</script>\n'}),define("modules/employeeModule/employeeList/nls/resources",{root:{headerEmployee:"Employee",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColEmployeeRefId:"Employee Id",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColStaffType:"Staff Type",gdColIsMedical:"Is Medical",gdColAgency:"Agency",gdColDepartment:"Department",gdColStaffSpecialty:"Staff Specialty",gdColShift:"Shift",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/employeeModule/employeeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=!1;i.listen($ct.en.getManageEmployeeClicked(),function(){s=!0}),i.listen($ct.en.getEmployeeHeaderDataChanged(),function(e){$ct.rn.getEmployeeList()==e&&l&&l.data.shelterChange()}),i.listen($ct.en.getEmployeeCreatedOrUpdated(),function(){l&&(l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid())}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeList()==e&&l&&(l.data.initialize(),l.data.refreshEmployeeGrid())}),this.activate=function(d,o){i.parentContext.currentView=$ct.rn.getEmployeeList(),s&&r&&(s=!1,l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),l=new t(i),$("#vwEmployeeList, #vwelDgEmployeeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.employeeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data),l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid()),r.show(),i.parentContext.activeForm=$ct.rn.getEmployeeList(),i.notify($ct.en.getShowActiveEmployeeHeader(),null),i.notify($ct.en.getShowEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&(l.data.setFetchSelectedDataParams(),r.hide())}};return i}),define("text!modules/employeeModule/employeeExtendedList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> EmployeeExtended list help</h1>\n</div>\n\n'}),define("modules/employeeModule/employeeExtendedList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,agencyFilterLookUp:[],departmentFilterLookUp:[],shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],staffTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},initialize:function(){a.set("empRequestData",n.parentContext.empRequestData)},empHeaderData:{shelter:{}},initializeEmployeeHeader:function(){a.set("empHeaderData",n.parentContext.empHeaderData)},empRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedEmployeeIds:new kendo.data.ObservableArray([]),UnSelectedEmployeeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.empRequestData.ViewAll&&(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.empRequestData.ViewAll=!1,n.parentContext.empRequestData.ViewAll=!1,a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeEmployeeHeader(),this.fillGrid()},dsEmployeeExpandedList:function(){},fillGrid:function(){var e=$("#vweelDgEmployeeExtendedList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsEmployeeExpandedList",$ct.ds.emp.employee.getEmployeeExpandedList(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.agencyFilterLookUp=e.Data.AgencyLookupData,a.departmentFilterLookUp=e.Data.DepartmentLookupData,a.shelterFilterLookUp=e.Data.ShelterLookupData,a.shiftTimeFilterLookUp=e.Data.ShiftTimeLookupData,a.staffSpecialityFilterLookUp=e.Data.StaffSpecialityLookupData,a.staffTypeFilterLookUp=e.Data.StaffTypeLookupData,$("#vweelDgEmployeeExtendedListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffTypeName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='AgencyName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.agencyFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='DepartmentName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.departmentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vweelDgEmployeeExtendedList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsEmployeeExpandedList").total()>0?$("#vweelBtnExcel").show():$("#vweelBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,n.parentContext.empRequestData.SelectedIdsCount=e.Data.SelectedEmployeesCount,a.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,n.parentContext.empRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedEmployeesCount,a.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,n.parentContext.empRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedEmployeesCount,e.Data.HasCachedData&&a.empRequestData.ViewAll&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),$.each(e.Data.ExpandedEmployees,function(e,t){t.IsSelected&&a.get("empRequestData.SelectedEmployeeIds").push(t.Id)}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.deleteEmployeeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsEmployeeExpandedList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var i=a.get("empRequestData.UnSelectedEmployeeIds"),l=a.get("empRequestData.SelectedEmployeeIds");if($.inArray(a.selectedId,l)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(a.selectedId,l),1),$.inArray(a.selectedId,i)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(a.selectedId);var r=a.get("empRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("empRequestData.SelectedIdsCount",r-1)}n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeDeleteSuccessMsg())}a.dsEmployeeExpandedList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).FacilityId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchEmployeeExpanded:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vweelChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,i)<0){a.get("empRequestData.SelectedEmployeeIds").push(e.data.Id);var l=a.get("empRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=0),a.set("empRequestData.SelectedIdsCount",l+1)}}else if($.inArray(e.data.Id,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(e.data.Id,i),1),$.inArray(e.data.Id,t)<0){a.get("empRequestData.UnSelectedEmployeeIds").push(e.data.Id);var l=a.get("empRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=1),a.set("empRequestData.SelectedIdsCount",l-1)}var r=a.get("dsEmployeeExpandedList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.empRequestData.SelectedEmployeeIds=a.get("empRequestData.SelectedEmployeeIds"),n.parentContext.empRequestData.UnSelectedEmployeeIds=a.get("empRequestData.UnSelectedEmployeeIds"),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwEmployeeExtendedList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwEmployeeExtendedList").find("#chkAll").click(function(e){var t=a.get("empRequestData.UnSelectedEmployeeIds"),i=a.get("empRequestData.SelectedEmployeeIds"),l=$("#vwEmployeeExtendedList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("empRequestData.OrigSelectedIdsCount"),s=a.get("empRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(l).prop("checked",!0),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,t)>-1&&a.get("empRequestData.UnSelectedEmployeeIds").splice($.inArray(l,t),1),$.inArray(l,i)<0&&a.get("empRequestData.SelectedEmployeeIds").push(l),r+=1}),0>r&&(r=0),a.set("empRequestData.SelectedIdsCount",r)}else{var d=a.get("empRequestData.SelectedIdsCount");$(l).prop("checked",!1),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,i)>-1&&a.get("empRequestData.SelectedEmployeeIds").splice($.inArray(l,i),1),$.inArray(l,t)<0&&a.get("empRequestData.UnSelectedEmployeeIds").push(l),d-=1}),0>d&&(d=0),a.set("empRequestData.SelectedIdsCount",d)}var o=a.get("dsEmployeeExpandedList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("empRequestData.SelectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.empRequestData.ViewAll&&a.get("empRequestData.SelectedEmployeeIds").length>0&&(a.empRequestData.FetchSelectedOnly=!0,n.parentContext.empRequestData.FetchSelectedOnly=!0)})},refreshEmployeeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsEmployeeExpandedList.read(),$ct.helpers.hideWorkAreaBusyCursor()},btnFilterOffClick:function(){a.empRequestData.ViewAll=!0,a.empRequestData.FetchSelectedOnly=!1,a.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),a.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.ViewAll=!0,n.parentContext.empRequestData.FetchSelectedOnly=!1,n.parentContext.empRequestData.SelectedEmployeeIds=new kendo.data.ObservableArray([]),n.parentContext.empRequestData.UnSelectedEmployeeIds=new kendo.data.ObservableArray([]),a.set("empRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.employeeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("empRequestData.SelectedEmployeeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateEmployeeExtended())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.FacilityId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.employeeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.exportEmplyeesExpandedListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},employeeEditUrl:function(e){return e?$ct.rn.getEmployee()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.empHeaderData.shelter.Id:$ct.rn.getEmployee()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/employeeModule/employeeExtendedList/view.html",[],function(){return'<div id="vwEmployeeExtendedList">\n    <div class="module">\n        <!-- view title -->\n        <h2 class="module-title">Employee Expanded List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container is-employee-section">\n            <div class="gridsearch">\n                <div class="gridsearch__search-col">\n                    <label class="search-label">\n                        <input type="text" id="vweelTxtSearch" class="search-label__inp"\n                               placeholder="Search"\n                               data-bind="value:searchToken,events:{keyup:searchEmployeeExpanded}"\n                               data-value-update="keyup" />\n                    </label>\n                </div>\n                <div class="gridsearch__btns-col">\n                    <button class="btn--secondary  buttonBorderNone">\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\n                        <span data-bind="text : filterText"></span>\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\n                        {{nls.btnAdd}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\n                        {{nls.btnFilterOff}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\n                        {{nls.btnExportToExcel}}\n                    </button>\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\n                        {{nls.btnBulkUpdate}}\n                    </button>\n                </div>\n            </div>\n            <div class="table-wrapper" id="vweelDgEmployeeExtendedListParent">\n                <table id="vweelDgEmployeeExtendedList"\n                       cellspacing="0"\n                       cellpadding="0"\n                       border="0"\n                       class="grid split-table customDataTable"\n                       data-bind="source:dsEmployeeExpandedList, events: { change: rowSelectionChange, dataBound:dsDataBoundEvent }"\n                       data-role="grid"\n                       data-filterable="true"\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\n                       data-row-template="vweelRow-template"\n                       data-selectable="true"\n                       data-columns="[\n                        {width:\'40px\'},\n                        {title:\'Edit\',width:\'60px\'},\n                        {title:\'Delete\',width:\'70px\'},\n                        {field:\'FacilityName\',title:\'Shelter Name\', filterable: {multi:true, dataSource:[]} , width:\'250px\'},\n                        {field:\'EmployeeRefId\',title:\'{{nls.gdColEmployeeRefId}}\', width:\'150px\'},\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\n                        {field:\'MiddleName\',title:\'{{nls.gdColMiddleName}}\' , width:\'150px\'},\n                        {field:\'StaffTypeName\',title:\'{{nls.gdColStaffType}}\' , filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                        {field:\'IsMedical\',title:\'{{nls.gdColIsMedical}}\' , width:\'150px\'},\n                        {field:\'AgencyName\',title:\'{{nls.gdColAgency}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                        {field:\'DepartmentName\',title:\'{{nls.gdColDepartment}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                        {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpecialty}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                        {field:\'ShiftDate\',title:\'{{nls.gdColShiftDate}}\', filterable:false , width:\'150px\'},\n                        {field:\'ShiftTime\',title:\'{{nls.gdColShift}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\n                        {field:\'Status\',title:\'{{nls.gdColStatus}}\', width:\'150px\'},\n                        {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\n                        {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\n                    ]"\n                       data-pageable="true"\n                       data-scrollable="true"></table>\n            </div>\n        </div>\n    </div>\n    <!-- <span class="bold" style="position:relative; top:5px;">\n        <span>{{nls.lblShelterName}}\n        </span>\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\n    </span> -->\n    <div style="display: none">\n        <a id="vwmpAncExportExcel"></a>\n    </div>\n</div>\n<script type="text/x-kendo-template" id="vwmpTest">\n    <span>${data}</span>\n</script>\n<script type="text/x-kendo-template" id="vweelRow-template">\n    <tr>\n        <td data-title="{{nls.gdColIsSelected}}">\n            <label class="checkbox">\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vweelChkEmployee}" type="checkbox" data-item-type="child" data-id=${Id} />\n                <span class="checkbox__text"></span>\n            </label>\n        </td>\n        <td>\n            <button class="btn-edit" data-bind="click:btnEditClick">\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\n                <span class="f-icon__text">Edit</span>\n            </button>\n        </td>\n        <td>\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\n                <span class="f-icon__text">Delete</span>\n            </button>\n        </td>\n        <td data-title="Shelter Name">\n            ${FacilityName}\n        </td>\n        <td data-title="{{nls.gdColEmployeeRefId}}">\n            ${EmployeeRefId}\n        </td>\n        <td data-title="{{nls.gdColFirstName}}">\n            ${FirstName}\n        </td>\n        <td data-title="{{nls.gdColLastName}}">\n            ${LastName}\n        </td>\n                <td data-title="{{nls.gdColMiddleName}}">\n            ${MiddleName}\n        </td>\n        <td data-title="{{nls.gdColStaffType}}">\n            ${StaffTypeName}\n        </td>\n        <td data-title="{{nls.gdColIsMedical}}">\n            #= IsMedical ? \'Yes\' : \'No\' #\n        </td>\n        <td data-title="{{nls.gdColAgency}}">\n            ${AgencyName}\n        </td>\n        <td data-title="{{nls.gdColDepartment}}">\n            ${DepartmentName}\n        </td>\n        <td data-title="{{nls.gdColStaffSpecialty}}">\n            ${StaffSpecialityName}\n        </td>\n        <td data-title="{{nls.gdColShiftDate}}">\n            ${ShiftDateValue}\n        </td>\n        <td data-title="{{nls.gdColShift}}">\n            ${ShiftTime}\n        </td>\n        <td data-title="{{nls.gdColStatus}}">\n            ${Status}\n        </td>\n        <td data-title="{{nls.gdColUserName}}">\n            ${UpdatedByUserName}\n        </td>\n        <td data-title="{{nls.gdColLastUpdated}}">\n            ${UpdatedOnValue}\n        </td>\n    </tr>\n</script>\n'}),define("modules/employeeModule/employeeExtendedList/nls/resources",{root:{headerEmployeeExtended:"Employee Extended",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColEmployeeRefId:"Employee Id",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColMiddleName:"Middle Name",gdColStaffType:"Staff Type",gdColIsMedical:"Is Medical",gdColAgency:"Agency",gdColStatus:"Status",gdColDepartment:"Department",gdColStaffSpecialty:"Staff Specialty",gdColShift:"Shift",gdColShiftDate:"Date",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/employeeModule/employeeExtendedList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=!1;i.listen($ct.en.getManageEmployeeExpandedClicked(),function(){s=!0}),i.listen($ct.en.getEmployeeHeaderDataChanged(),function(e){$ct.rn.getEmployeeExtendedList()==e&&l&&l.data.shelterChange()}),i.listen($ct.en.getEmployeeExpandedCreatedOrUpdated(),function(){l&&(l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid())}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeExtendedList()==e&&l&&(l.data.initialize(),l.data.refreshEmployeeGrid())}),this.activate=function(d,o){i.parentContext.currentView=$ct.rn.getEmployeeExtendedList(),s&&r&&(s=!1,l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),l=new t(i),$("#vwEmployeeExtendedList, #vwelDgEmployeeExtendedList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.employeeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data),
l.data.initialize(),l.data.initializeEmployeeHeader(),l.data.fillGrid()),r.show(),i.parentContext.activeForm=$ct.rn.getEmployeeExtendedList(),i.notify($ct.en.getShowActiveEmployeeHeader()),i.notify($ct.en.getShowEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&(l.data.setFetchSelectedDataParams(),r.hide())}};return i}),define("text!modules/employeeModule/employee/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Employee help</h1>\n</div>\n\n'}),define("modules/employeeModule/employee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Employee edit page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},selectedStaffType:{},selectedShift:{},selectedDepartment:{},selectedStaffSpecialty:{},dsStaffTypes:[],dsShifts:[],dsDepartments:[],dsStaffSpecialties:[],initialLoad:!1,employeeId:"",employeeData:{},ShelterName:"",ShelterId:"",fillQueryParam:function(e){a.set("employeeId",e.id),a.set("ShelterId",e.shelterId),a.set("ShelterName",n.parentContext.empHeaderData.shelter.Name);var t={};t.Id=e.shelterId,a.set("selectedShelterItem",t),this.initialize()},initialize:function(){$ct.helpers.clearValidations("vwEmployee")},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("initialLoad",!0),n.notify($ct.en.getHideErrorMsg());$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){var n={};n.Id=-1,n.Name="--Select--",t.splice(0,0,n),a.set("dsShelters",t),a.loadEmployeeData()}})},isEditModeOrSingleShelterUser:function(e){return a.get("employeeId")===$ct.constants.getemptyGUID()&&$ct.security.isMultiFacilityUser()?!1:!0},loadEmployeeData:function(){$ct.helpers.clearValidations("vwEmployee"),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.getEmployeeById(this.employeeId,function(e){var t=e.Data,n={},i={},l={},r={};null===t.Employee?(t.Employee={},t.Employee.Id=$ct.constants.getemptyGUID(),t.Employee.EmployeeRefId="",t.Employee.FirstName="",t.Employee.LastName="",t.Employee.MiddleName="",t.Employee.IsMedical=!0,n.Key=-1,i.Key=-1,l.Key=-1,l.AgencyName="",r.Key=-1):(null==t.Employee.StaffTypeId?n.Key=-1:n.Key=t.Employee.StaffTypeId,null==t.Employee.ShiftId?i.Key=-1:i.Key=t.Employee.ShiftId,null==t.Employee.DeparmentId?l.Key=-1:l.Key=t.Employee.DeparmentId,$.each(t.EmployeeLookupData.AgencyDepartmentData,function(e,n){n.Key==t.Employee.DeparmentId&&(l.AgencyName=n.AgencyName)}),null==t.Employee.StaffSpecialtyId?r.Key=-1:r.Key=t.Employee.StaffSpecialtyId),a.set("employeeData",t),a.set("selectedStaffType",n),a.set("selectedShift",i),a.set("selectedDepartment",l),a.set("selectedStaffSpecialty",r),a.set("dsStaffTypes",t.EmployeeLookupData.StaffTypeData),a.set("dsShifts",t.EmployeeLookupData.ShiftTimeData),a.set("dsDepartments",t.EmployeeLookupData.AgencyDepartmentData),a.set("dsStaffSpecialties",t.EmployeeLookupData.StaffSpecialityData),$ct.helpers.hideWorkAreaBusyCursor()})},trimWhiteSpaces:function(){this.employeeData.Employee.set("FirstName",$.trim(this.employeeData.Employee.FirstName)),this.employeeData.Employee.set("LastName",$.trim(this.employeeData.Employee.LastName))},btnSaveClick:function(){this.trimWhiteSpaces(),a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t=$("#vwEmployee").kendoValidator().data("kendoValidator");if(!t.validate())return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedStaffType.Key)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedDepartment.Key)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(-1==a.selectedShelterItem.Id)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=a.employeeData.toJSON();-1==a.selectedShift.Key?i.Employee.ShiftId=null:i.Employee.ShiftId=a.selectedShift.Key,-1==a.selectedStaffSpecialty.Key?i.Employee.StaffSpecialtyId=null:i.Employee.StaffSpecialtyId=a.selectedStaffSpecialty.Key,i.Employee.StaffTypeId=a.selectedStaffType.Key,i.Employee.DeparmentId=a.selectedDepartment.Key,i.Employee.FacilityId=a.selectedShelterItem.Id,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.saveEmployee(i,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);return null!=i?void n.notify($ct.en.getShowErrorMsg(),i):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeSuccessMsg()),"employeeextendedlist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated(),null),"employeelist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeCreatedOrUpdated(),null),void e.UrlController.goTo(n.parentContext.activeForm))})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),"employeeextendedlist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated(),null),"employeelist"==n.parentContext.activeForm&&n.notify($ct.en.getEmployeeCreatedOrUpdated(),null),e.UrlController.goTo(n.parentContext.activeForm)},setClassForStaffType:function(){return-1==a.selectedStaffType.get("Key")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForStaffType:function(){return-1==a.selectedStaffType.get("Key")&&0==a.get("initialLoad")?!1:!0},setClassForDepartment:function(){return-1==a.selectedDepartment.get("Key")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForDepartment:function(){return-1==a.selectedDepartment.get("Key")&&0==a.get("initialLoad")?!1:!0},setClassForShelterName:function(){return-1==a.selectedShelterItem.get("Id")&&0==a.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForShelterName:function(){return-1==a.selectedShelterItem.get("Id")&&0==a.get("initialLoad")?!1:!0}});return{data:a}};return n}),define("text!modules/employeeModule/employee/view.html",[],function(){return'<div id="vwEmployee">\n    <!--View name : vwEmployee-->\n    <!--Control id prefix : vwe-->\n    <div class="module">\n        <h2 class="module-title">{{nls.headerAddEditEmployee}}</h2>\n        <div class="module-container l--two-column">\n            <div class="column-one">\n                <label class="form-element-with-label">\n                    <span class="form-element-with-label__text">{{nls.lblShelterName}}</span>\n                    <div class="custom-select" data-bind="attr: { class: setClassForShelterName, className:setClassForShelterName}">\n                        <select id="vweDdlShelters"\n                                data-role="dropdownlist"\n                                data-bind="source:dsShelters,value:selectedShelterItem, disabled: isEditModeOrSingleShelterUser"\n                                data-text-field="Name"\n                                data-value-field="Id" required />\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForShelterName">Please select shelter name</span>\n                    </div>\n                </label>\n               \n            </div>\n            <div class="column-two">\n                <label class="form-element-with-label">\n                    <span class="form-element-with-label__text">{{nls.lblEmployeeId}}</span>\n                    <input type="text" class="form-element-with-label__inp" id="vweTbEmployeeId" name="vweTbEmployeeId"\n                           data-bind="value:employeeData.Employee.EmployeeRefId" maxlength="250" />\n                </label>\n                \n            </div>\n\n        </div>\n        <div class="module-container l--two-column">\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblFirstName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                           id="vweTbFirstName" name="vweTbFirstName" required\r\n                           validationmessage="{{nls.valmsgFNRequired}}"\r\n                           data-bind="value:employeeData.Employee.FirstName" />\r\n                    <span class="k-invalid-msg" data-for="vweTbFirstName"></span>\r\n                </label>\r\n\r\n            </div>\r\n            <div class="column-two">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblMiddleName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" id="vweTbMiddleName" name="vweTbMiddleName"\r\n                           data-bind="value:employeeData.Employee.MiddleName" maxlength="2" />\r\n                </label>\r\n            </div>\n        </div>\n        <div class="module-container l--two-column">\r\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblLastName}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" id="vweTbLastName"\r\n                           name="vweTbLastName" required validationmessage="{{nls.valmsgLNRequired}}" data-bind="value:employeeData.Employee.LastName" maxlength="250" />\r\n                    <span class="k-invalid-msg" data-for="vweTbLastName"></span>\r\n                </label>\r\n\r\n            </div>\r\n            <div class="column-two">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblStaffType}}</span>\r\n                    <div class="custom-select" data-bind="attr: { class: setClassForStaffType, className:setClassForStaffType}">\r\n                        <select id="vweDdlStaffTypes" data-role="dropdownlist" data-bind="source:dsStaffTypes, value:selectedStaffType"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"\r\n                              data-bind="invisible:setValidationMsgForStaffType">Please select staff type</span>\r\n                    </div>\r\n                </label>\r\n            </div>\r\n        </div>\n        <div class="module-container l--two-column">\r\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblShift}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vweDdlShifts" data-role="dropdownlist"\r\n                                data-bind="source:dsShifts, value:selectedShift"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                    </div>\r\n                </label>\r\n            </div>\r\n            <div class="column-two">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblDepartment}}</span>\r\n                    <div class="custom-select" data-bind="attr: { class: setClassForDepartment, className:setClassForDepartment}">\r\n                        <select id="vweDdlDepartments" data-role="dropdownlist"\r\n                                data-bind="source:dsDepartments, value:selectedDepartment"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg displayblock"\r\n                              data-bind="invisible:setValidationMsgForDepartment">Please select Department</span>\r\n                    </div>\r\n                </label>\r\n            </div>\r\n        </div>\n        <div class="module-container l--two-column">\r\n            <div class="column-one">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblStaffSpecialty}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vweDdlStaffSpecialties" data-role="dropdownlist"\r\n                                data-bind="source:dsStaffSpecialties, value:selectedStaffSpecialty"\r\n                                data-text-field="Value" data-value-field="Key" />\r\n                    </div>\r\n                </label>\r\n            </div>\r\n            <div class="column-two">\r\n\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblAgency}}</span>\r\n                    <strong class="form-element-with-label__value" data-bind="text:selectedDepartment.AgencyName"></strong>\r\n                </label>\r\n            </div>\r\n        </div>\n        <div class="module-container l--two-column">\n            <div class="column-one">\n                <span class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblIsMedical}}</span>\r\n                    <ul class="form-list">\r\n                        <li>\r\n                            <label class="radio-button">\r\n                                <input class="radio-button__inp" name="vweRbVent" type="radio"\r\n                                       value="true" data-bind="checked:employeeData.Employee.IsMedical">\r\n                                <span class="radio-button__text">Yes</span>\r\n                            </label>\r\n                        </li>\r\n                        <li>\r\n                            <label class="radio-button">\r\n                                <input class="radio-button__inp" name="vweRbVent" type="radio"\r\n                                       value="false" data-bind="checked: employeeData.Employee.IsMedical">\r\n                                <span class="radio-button__text">No</span>\r\n                            </label>\r\n                        </li>\r\n                    </ul>\r\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="footer-bts-container">\n        <button type="button" class="btn" data-bind="click:btnSaveClick">\n            {{nls.btnSave}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n</div>\n'}),define("modules/employeeModule/employee/nls/resources",{root:{headerAddEditEmployee:"Add edit Employee",lnkHelp:"Help",headerEmployeeInfo:"Employee Info",lblEmployeeId:"EmployeeId",lblShelterName:"ShelterName:",lblFirstName:"First Name:",lblMiddleName:"Middle Name:",lblLastName:"Last Name:",lblStaffType:"Staff Type:",lblShift:"Shift:",lblDepartment:"Department:",lblAgency:"Agency:",lblStaffSpecialty:"Staff Specialty:",lblIsMedical:"Is Medical:",valmsgEMPIDRequired:"Employee Id required",valmsgFNRequired:"First Name required",valmsgLNRequired:"Last Name required",btnSave:"Save",btnCancel:"Back"}}),define("modules/employeeModule/employee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=null,d=function(){l&&(l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.fillQueryParam(s),l.data.initializeShelters())};i.listen($ct.en.getEmployeeRecordReload(),function(){d()}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployee()==e&&d()}),this.activate=function(d,o){s=o,i.parentContext.currentView=$ct.rn.getEmployee(),r||(r=new e.ViewTemplate(d,n,a)),r.show(),l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.fillQueryParam(o),l.data.initializeShelters();$("#vwEmployee").kendoValidator().data("kendoValidator");i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/downloadEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>DownloadEmployee help</h1>\n</div>\n\n'}),define("modules/employeeModule/downloadEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Download Employee  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsShelters",t),a.set("selectedShelterItem",t[0]))})},btnDownloadEmployeeDataClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.downloadEmployeeToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/employeeModule/downloadEmployee/view.html",[],function(){return'<div id="vwDownloadEmployee">\n    <!--View name : vwDownloadEmployee-->\n    <!--Control id prefix : vwde-->\n\n    <div class="module">\n        <h2 class="module-title">{{nls.headerDownloadEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblShelter}}</span>\n                <div class="custom-select">\n                    <select id="vwdeDdlShelters"\n                        data-role="dropdownlist"\n                        data-bind="source:dsShelters,value:selectedShelterItem"\n                        data-text-field="Name"\n                        data-value-field="Id"\n                        required />\n                </div>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button class="btn" data-bind="click:btnDownloadEmployeeDataClick" type="button">\n            {{nls.btnDownloadEmployee}}\n        </button>\n    </div>\n\n</div>\n'}),define("modules/employeeModule/downloadEmployee/nls/resources",{root:{headerDownloadEmployee:"Download Employee",lblShelterType:"ShelterType:",lblShelter:"Shelter:",btnDownloadEmployee:"Download Employee"}}),define("modules/employeeModule/downloadEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDownloadEmployee()==e&&l&&l.data.initializeShelters()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDownloadEmployee(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.initializeShelters(),r.show(),i.parentContext.activeForm=$ct.rn.getDownloadEmployee(),i.notify($ct.en.getShowActiveEmployeeHeader(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/uploadEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>UploadEmployee help</h1>\n</div>\n\n'}),define("modules/employeeModule/uploadEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({FileContentId:0,FacilityId:0,fileCount:0,dsFacilityNames:[],selectedFacilityNameItem:{},dsImportOptions:[],selectedImportAction:1,initialize:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor(),e=e.Data,void 0!==e&&null!==e&&e.length>0&&a.set("selectedFacilityNameItem",e[0]),a.set("dsFacilityNames",e)}),$ct.ds.emp.employee.getImportActionOptions(function(e){e=e.Data,$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsImportOptions",e)})},ddlFacilityNames:function(e){a.clearData()},radiobtnClick:function(e){a.clearData()},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},fileProgress:function(e){return""==e?"":"File Uploading.."},onUploadFile:function(e){".xls"===e.files[0].extension||".xlsx"===e.files[0].extension?($("#vwueUploadProgess").show(),1==a.selectedImportAction&&(n.notify($ct.en.getShowValidationMsg(),$ct.msg.getEmployeesUploadImportOption()),$("#vwueUploadProgess").hide(),e.preventDefault()),e.data={FacilityId:a.selectedFacilityNameItem.Id,ImportAction:a.selectedImportAction}):(a.get("clearData")(),n.notify($ct.en.getShowValidationMsg(),$ct.msg.getUploadValidFile()),e.preventDefault())},onSelectFile:function(e){a.fileCount>0&&$(".k-upload-files").remove(),$(".k-upload-files.k-reset").show(),$(".k-upload-selected").show(),a.fileCount++},onProgressFileUpload:function(e){$("#vwueUploadProgess").show(),a.get("fileProgress")(e.percentComplete)},onSuccees:function(e){$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwueUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("");var t=e.response,i=e.response,l=$("#vwueEmployeesLst").data("kendoGrid");if(void 0!=l.dataSource.filter&&l.dataSource.filter({}),void 0!=l.dataSource.sort&&l.dataSource.sort({}),a.set("UploadSummary",i),0===t.FailedImportedEmployees.length){if(0==t.TotalCount&&0==t.SuccessCount)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getEmployeeUploadError());n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg())}else{for(var r=0;r<t.FailedImportedEmployees.length;r++){var s=t.FailedImportedEmployees[r];i.FailedImportedEmployees[r].ValidationError=s.ValidationError.replace(/\\r\\n/g,"\r\n")}a.set("UploadSummary",i),i.FailedImportedEmployees.length>0&&a.set("FacilityId",i.FailedImportedEmployees[0].FacilityId),a.set("FileContentId",i.FileContentId),i.FailCount>0?($("#vwueExcel").show(),$("#vwueDivGrid").show(),$("#vwueEmployeesLst").data("kendoGrid").dataSource.page(1)):($("#vwueExcel").hide(),$("#vwueDivGrid").hide())}$("#vwupdSummary").show()},onError:function(e){$("#vwueUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("")},onCompleteFileUpload:function(e){},replaceString:function(e){return e.replace("|g","<br />")},clearData:function(e){$("#vwueExcel").hide(),$("#vwupdSummary").hide(),$("#vwueDivGrid").hide(),$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwueUploadProgess").hide(),$(".k-upload-selected").hide(),$(".k-upload-files").remove(),$(".k-upload-status").remove(),$(".k-upload.k-header").addClass("k-upload-empty"),$(".k-upload-button").removeClass("k-state-focused")},btnExportExcelClick:function(e){$ct.ds.emp.employee.getExportFailedImportedEmployeeDataToExcel(this,function(e){if("Failure"!==e.AcknowledgeType){$("#vwueExportExcel").attr("href",e.Data.DownloadUrl),$("#vwueExportExcel").click(function(e){window.location.href=$("#vwueExportExcel").attr("href")});var t=jQuery.Event("click");$("#vwueExportExcel").trigger(t)}else n.notify($ct.en.getShowValidationMsg(),e.Message)})}});return{data:a}};return n}),define("text!modules/employeeModule/uploadEmployee/view.html",[],function(){return'<div id="vwUploadEmployee1">\r\n    <!--Control id prefix : vwue-->\r\n    <div id="vwUploadEmployee">\r\n        <div class="module">\r\n            <h2 class="module-title">{{nls.headerUploadEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n            <div class="module-container">\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblFacility}}</span>\r\n                    <div class="custom-select">\r\n                        <select id="vwueDdlFacilityNames"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsFacilityNames,events:{change:ddlFacilityNames},value:selectedFacilityNameItem"\r\n                            data-text-field="Name"\r\n                            data-value-field="Id" />\r\n                    </div>\r\n                </label>\r\n\r\n                <div class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblOptions}}</span>\r\n                    <ul class="form-list" data-template="vwueImportOptions-template" data-bind="source:dsImportOptions"></ul>\r\n                     <!-- data-role="listview" -->\r\n                </div>\r\n\r\n                <label class="form-element-with-label">\r\n                    <span class="form-element-with-label__text">{{nls.lblUpload}}</span>\r\n                    <input id="vwueUpload" name="vwueUpload" type="file"\r\n                           data-role="upload"\r\n                           data-multiple=false\r\n                           data-async="{ saveUrl:\'{{nls.fileUploadUrl}}\', autoUpload:false}"\r\n                           data-bind="events:{\r\n                            select: onSelectFile,\r\n                            upload:onUploadFile,\r\n                            success:onSuccees,\r\n                            complete:onCompleteFileUpload,\r\n                            error: onError,\r\n                            remove:onRemove,\r\n                            progress:onProgressFileUpload}" />\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- uploaded data details -->\r\n        <section class="uploaded-employee-data">\r\n            \r\n            \r\n            <ul class="uploaded-employee-data__info" id="vwupdSummary" hidden>\r\n                <li>\r\n                    {{nls.lblTotalRecords}}:\r\n                    <strong data-bind="text:UploadSummary.TotalCount"></strong>\r\n                </li>\r\n                <li>\r\n                    <span class="f-icon f-icon__success" aria-hidden="true"></span>\r\n                    {{nls.lblTotalRecordsUpdated}}:\r\n                    <strong data-bind="text:UploadSummary.SuccessCount"></strong>\r\n                </li>\r\n                <li>\r\n                    <span class="f-icon f-icon__not-reported" aria-hidden="true"></span>\r\n                    {{nls.lblTotalRecordsFailed}}:\r\n                    <strong data-bind="text:UploadSummary.FailCount"></strong>\r\n                </li>\r\n\r\n                <li id="vwueExcel">\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>{{nls.btnExportToExcel}}\r\n                    </button>\r\n                </li>\r\n               \r\n            </ul>\r\n\r\n            <div hidden id="vwueDivGrid" class="uploaded-employee-data__table">\r\n                <table id="vwueEmployeesLst"\r\n                    data-scrolable="true"\r\n                    data-bind="source:UploadSummary.FailedImportedEmployees"\r\n                    data-role="grid"\r\n                    data-filterable="true"\r\n                    data-sortable="true"\r\n                    data-row-template="vwupdRow-template"\r\n                    data-selectable="true"\r\n                    data-columns="[\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width: \'150px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\', width: \'150px\'},\r\n                        {field:\'ValidationError\',title:\'{{nls.gdColReason}}\'}\r\n                    ]"\r\n                    data-pageable="true">\r\n                </table>\r\n            </div>\r\n         \r\n</section>\r\n\r\n        <!-- Upload Employee data -->\r\n        <div hidden>\r\n            <a id="vwueExportExcel"></a>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwupdRow-template">\r\n     <tr>\r\n        <td>${FirstName}</td>\r\n        <td>${LastName}</td>\r\n        <td><span data-bind="text:ValidationError"></span></td>\r\n    </tr>\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwueImportOptions-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio"\r\n                name="ImportActionType"\r\n                id="${data.Key}" value="${data.Key}"\r\n                data-bind="checked:selectedImportAction, click:radiobtnClick">\r\n            <span class="radio-button__text">${data.Value}</span>\r\n        </label>\r\n    </li>\r\n</script>\r\n'}),define("modules/employeeModule/uploadEmployee/nls/resources",{root:{headerUploadEmployee:"Upload Employee",lblFacility:"Facility Name:",lblUpload:"Upload File:",lblOptions:"Choose Options:",btnExportToExcel:"Export",lblTotalRecords:"Total Records",lblTotalRecordsUpdated:"Updated",lblTotalRecordsFailed:"Failed",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColReason:"Reason",fileUploadUrl:$ct.cn.getEmployeeUrl()+"UploadEmployees"}}),define("modules/employeeModule/uploadEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getUploadEmployee()==e&&l&&(l.data.clearData(),l.data.initialize())}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getUploadEmployee(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.clearData(),l.data.initialize(),r.show(),i.parentContext.activeForm=$ct.rn.getUploadEmployee(),i.notify($ct.en.getShowActiveEmployeeHeader(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&($("#vwueDivGrid").hide(),r.hide())}};return i}),define("text!modules/employeeModule/bulkUpdateEmployee/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>BulkUpdateEmployee help</h1>\n</div>\n\n'}),define("modules/employeeModule/bulkUpdateEmployee/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({empRequestData:{},Intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("empRequestData",n.parentContext.empRequestData),$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var i=$ct.mt.getErrorObject(t);null!=i&&(n.notify($ct.en.getShowErrorMsg(),i),e.UrlController.goTo($ct.rn.getEmployeeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.Intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),
$ct.ds.emp.employee.bulkUpdateEmployeeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg()),n.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getEmployeeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeList())},shelterId:0});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployee/view.html",[],function(){return'\n<div id="vwBulkUpdateEmployee">\n    <!--View name : vwBulkUpdateEmployee-->\n    <!--Control id prefix : vwbue-->\n\n    <div class="module">\n        <h2 class="module-title">{{nls.headerBulkUpdateEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblShift}}</span>\n                <div class="custom-select">\n                    <select id="vwbueDdlShifts"\n                        data-role="dropdownlist"\n                        data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\n                        data-text-field="Value"\n                        data-value-field="Key" />\n                </div>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn" id="vwbueSave1" data-bind="click:btnSaveClick">\n            {{nls.btnUpdate}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n\n</div>\n'}),define("modules/employeeModule/bulkUpdateEmployee/nls/resources",{root:{headerBulkUpdateEmployee:"BulkUpdate - Employee",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"StaffType",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"StaffSpecialty"}}),define("modules/employeeModule/bulkUpdateEmployee/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployee()==e&&l&&l.data.resetFields()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateEmployee(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.resetFields(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/bulkUpdateEmployeeExtended/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>BulkUpdateEmployeeExpanded help</h1>\n</div>\n\n'}),define("modules/employeeModule/bulkUpdateEmployeeExtended/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({empRequestData:{},Intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("empRequestData",n.parentContext.empRequestData),$ct.ds.emp.employee.getEmployeeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.EmployeeLookupData);var i=$ct.mt.getErrorObject(t);null!=i&&(n.notify($ct.en.getShowErrorMsg(),i),e.UrlController.goTo($ct.rn.getEmployeeList())),a.saveRequest.valStaffType="-1",a.saveRequest.valDepartment="-1",a.saveRequest.valShiftTime="-1",a.saveRequest.valStaffSpeciality="-1"})},resetFields:function(){a.Intialize(),a.set("saveRequest.valStaffType","-1"),a.set("saveRequest.valDepartment","-1"),a.set("saveRequest.valShiftTime","-1"),a.set("saveRequest.valStaffSpeciality","-1")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valStaffType:"-1",valDepartment:"-1",valShiftTime:"-1",valStaffSpeciality:"-1"},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.employee.bulkUpdateEmployeeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeUploadSuccessMsg()),n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getEmployeeExpandedCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getEmployeeExtendedList())},shelterId:0});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployeeExtended/view.html",[],function(){return'\n<div id="vwBulkUpdateEmployeeExtended">\n    <!--View name : vwBulkUpdateEmployeeExtended-->\n    <!--Control id prefix : vwbuee-->\n\n    <div class="module">\n        <h2 class="module-title">{{nls.headerBulkUpdateEmployee}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblStaffType}}</span>\n                <div class="custom-select">\n                    <select id="vwbueeDdlStaffTypes"\n                        data-role="dropdownlist"\n                        data-bind="source:dsLookupData.StaffTypeData, value:saveRequest.valStaffType"\n                        data-text-field="Value"\n                        data-value-field="Key" />\n                </div>\n            </label>\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDepartment}}</span>\n                <div class="custom-select">\n                    <select id="vwbueeDdlDepartments"\n                        data-role="dropdownlist"\n                        data-bind="source:dsLookupData.AgencyDepartmentData, value:saveRequest.valDepartment"\n                        data-text-field="Value"\n                        data-value-field="Key" />\n                </div>\n            </label>\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblShift}}</span>\n                <div class="custom-select">\n                    <select id="vwbueeDdlShifts"\n                        data-role="dropdownlist"\n                        data-bind="source:dsLookupData.ShiftTimeData, value:saveRequest.valShiftTime"\n                        data-text-field="Value"\n                        data-value-field="Key" />\n                </div>\n            </label>\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblStaffSpecialty}}</span>\n                <div class="custom-select">\n                    <select id="vwbueeDdlStaffSpecialties"\n                        data-role="dropdownlist"\n                        data-bind="source:dsLookupData.StaffSpecialityData, value:saveRequest.valStaffSpeciality"\n                        data-text-field="Value"\n                        data-value-field="Key" />\n                </div>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn" id="vwbueeSave1" data-bind="click:btnSaveClick">\n            {{nls.btnUpdate}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n    \n</div>\n'}),define("modules/employeeModule/bulkUpdateEmployeeExtended/nls/resources",{root:{headerBulkUpdateEmployee:"BulkUpdate - Employee",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblStaffType:"Staff Type",lblDepartment:"Department",lblShift:"Shift",lblStaffSpecialty:"Staff Specialty"}}),define("modules/employeeModule/bulkUpdateEmployeeExtended/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployeeExtended()==e&&l&&l.data.resetFields()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateEmployeeExtended(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.resetFields(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/employeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>EmployeeAttendance help</h1>\n</div>\n\n'}),define("text!modules/employeeModule/employeeAttendance/comments/view.html",[],function(){return'<div id="vwEmpAttendenceComment">\n    <!--View name : vwEmpAttendenceComment-->\n    <!--Control id prefix : vweac-->\n\n    <div class="module">\n        <!-- <h2 class="module-title">{{nls.headerAddEditComment}}</h2> -->\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\n                <textarea id="vweacTaDescription" name="vweacTaDescription" required\n                    data-bind="value:comment, attr:{maxlength: DescriptionLength}"\n                    validationmessage="{{nls.valmsgDescriptionRequired}}" rows="5"></textarea>\n                <span class="k-invalid-msg" data-for="vweacTaDescription"></span>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn" data-bind="click:savecommentClick">\n            {{nls.btnSave}}\n        </button>\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n\n</div>\n'}),define("modules/employeeModule/employeeAttendance/comments/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({datafromParent:{},comment:"",initialize:function(e){t.set("datafromParent",e)},savecommentClick:function(n){var a={};Objforsave={},t.datafromParent.griddata.Comment=t.comment,Objforsave=t.datafromParent.griddata,Objforsave.toJSON(),a.EmployeeAttendanceRaw=Objforsave,a.ShiftDate=t.datafromParent.date,a.ShiftId=t.datafromParent.shift,a.FacilityId=t.datafromParent.facilityId,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.saveEmployeeAttendence(a,function(n){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(n))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&(t.btnCancelClick(),e.notify($ct.en.getEmployeeAttendenceList())));var a=$ct.mt.getErrorObject(n);if(null!=a)e.notify($ct.en.getShowErrorMsg(),a);else{e.notify($ct.en.getEmployeeAttendanceUpdated(),null);var i=$("#commonWindow").data("kendoWindow");i.close(),e.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg())}})},btnCancelClick:function(e){var t=$("#commonWindow").data("kendoWindow");t.close()}});return{data:t}};return t}),define("modules/employeeModule/employeeAttendance/comments/nls/resources",{root:{headerAddEditComment:"Comment",lblDescription:"Description",btnSave:"Save",btnCancel:"Back"}}),define("modules/employeeModule/employeeAttendance/viewmodel",["Boiler","text!./help/help.html","text!./comments/view.html","./comments/viewmodel","i18n!./comments/nls/resources"],function(e,t,n,a,i){var l=function(l){var r=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dsFacilities:[],selectedFacility:{},dsShifts:[],selectedShift:{},attendenceDate:new Date,attendenceDatestring:"",shelterFilterLookUp:[],shiftTimeFilterLookUp:[],staffSpecialityFilterLookUp:[],statusFilterLookUp:[],previousAttendenceDatestring:"",previousSelectedShift:-1,previousSelectedFacility:-1,hideMessage:!0,hideWorkArea:!0,initialLoadforGo:!0,isRecordsPresentForExport:!1,employeeAttendanceSummary:{},ActiveEvent:{},dcRequestData:{viewAll:!0,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},initializeEvent:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceEvent(function(e){var t=e.Data;r.set("ActiveEvent",t.ActiveEvent)})},initializeGlobalData:function(){r.set("dcRequestData",l.parentContext.dcRequestData),l.parentContext.StatusLookUpData=[]},showWorkArea:function(){return r.get("hideWorkArea")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},showMessage:function(){return r.get("hideMessage")?$ct.styles.getNoneStyle():$ct.styles.getBlockStyle()},isattendenceDateValid:function(){if(r.get("initialLoadforGo"))return!0;var e=r.get("attendenceDate");return""==e||null==e?!1:!0},initializeFacilities:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceFacilities(function(e){var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){var n={};n.Id=-1,n.Name="--All--",t.splice(0,0,n),r.set("dsFacilities",e.Data),r.set("selectedFacility",e.Data[0])}r.initializeShifts()})},initializeShifts:function(){$ct.ds.emp.empattendance.getEmployeeAttendenceInitialLoad(function(e){var t=e.Data;if(void 0!==t&&null!==t&&t.length>0){r.set("dsShifts",e.Data),r.set("selectedShift",e.Data[0]);var n=($("#vweaAttendenceDate").data("kendoDateTimePicker"),r.attendenceDate.getMonth()+1+"/"+r.attendenceDate.getDate()+"/"+r.attendenceDate.getFullYear());r.set("previousAttendenceDatestring",n),r.btnGoClick()}})},btnGoClick:function(){if(r.set("initialLoadforGo",!1),r.isattendenceDateValid()){var e=r.attendenceDate.getMonth()+1+"/"+r.attendenceDate.getDate()+"/"+r.attendenceDate.getFullYear();r.set("attendenceDatestring",e),r.set("previousSelectedShift",r.selectedShift.Key),r.set("previousSelectedFacility",r.selectedFacility.Id),this.fillGrid(),$ct.helpers.displayWorkAreaBusyCursor()}},dsEmployeeAttendance:function(){},fillGrid:function(){l.parentContext.attendenceDate=r.attendenceDatestring,l.parentContext.selectedShift=r.previousSelectedShift,l.parentContext.facilityId=r.previousSelectedFacility,this.set("dsEmployeeAttendance",$ct.ds.emp.empattendance.getEmployeeAttendence(this,function(e){if(r.set("previousAttendenceDatestring",r.attendenceDatestring),r.shelterFilterLookUp=e.Data.EmployeeAttendanceShelterLookUpData,r.shiftTimeFilterLookUp=e.Data.EmployeeAttendanceShiftTimeLookUpData,r.staffSpecialityFilterLookUp=e.Data.EmployeeAttendanceStaffSpecialityLookUpData,r.statusFilterLookUp=e.Data.EmployeeAttendanceStatusLookUpData,r.hasCachedData=e.Data.HasCachedData,r.isLastPageCachedData=e.Data.IsLastPageCachedData,$("#vweaDgEmployeeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ShiftTime']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.shiftTimeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StaffSpecialityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.staffSpecialityFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='StatusName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.statusFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vweaDgEmployeeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}0==e.Data.EmployeeAttendanceRawData.length?r.set("isRecordsPresentForExport",!1):r.set("isRecordsPresentForExport",!0),void 0!=e.Data.StatusLookUpData&&(l.parentContext.StatusLookUpData=e.Data.StatusLookUpData),r.set("hideWorkArea",!1),r.set("hideMessage",!0),void 0!=e.Data.EmployeeAttendanceSummary&&(r.set("employeeAttendanceSummary",e.Data.EmployeeAttendanceSummary),0==r.employeeAttendanceSummary.TotalEmployees?(r.set("hideWorkArea",!0),r.set("hideMessage",!1)):(r.set("hideWorkArea",!1),r.set("hideMessage",!0))),r.set("dcRequestData.viewAll",!1),r.set("dcRequestData.fetchSelectedOnly",!1),r.set("dcRequestData.selectedEmployeeIds",new kendo.data.ObservableArray([])),r.set("dcRequestData.unSelectedEmployeeIds",new kendo.data.ObservableArray([])),$.each(e.Data.EmployeeAttendanceRawData,function(e,t){t.IsSelected&&r.get("dcRequestData.selectedEmployeeIds").push(t.EmployeeId)}),l.parentContext.dcRequestData.viewAll=!1,l.parentContext.dcRequestData.fetchSelectedOnly=!1,l.parentContext.dcRequestData.selectedEmployeeIds=r.get("dcRequestData.selectedEmployeeIds"),l.parentContext.dcRequestData.unSelectedEmployeeIds=r.get("dcRequestData.unSelectedEmployeeIds"),$ct.helpers.hideWorkAreaBusyCursor()}))},refreshEmployeeAttendanceGrid:function(e){void 0!=r.dsEmployeeAttendance.read&&r.dsEmployeeAttendance.read()},btnBulkUpdateClick:function(t){if(r.setFetchSelectedDataParams(),!(r.get("dcRequestData.selectedEmployeeIds").length>0||r.hasCachedData&&!r.isLastPageCachedData)){var n={};return n.messageType=$ct.mt.getError(),n.message="Please select records to bulk update",void l.notify($ct.en.getShowValidationMsg(),"Please select atleast one Employee.")}e.UrlController.goTo($ct.rn.getBulkUpdateEmployeeAttendance())},setFetchSelectedDataParams:function(){r.dcRequestData.ViewAll&&(r.get("dcRequestData.selectedEmployeeIds").length>0||r.hasCachedData&&!r.isLastPageCachedData)&&(r.dcRequestData.ViewAll=!1,l.parentContext.dcRequestData.ViewAll=!1)},btnExportExcelClick:function(){l.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.exportEmployeeAttendenceToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&l.notify($ct.en.getShowErrorMsg(),t)}})},changeSaveClick:function(e){var t={};Objforsave={},Objforsave=e.data.toJSON(),t.EmployeeAttendanceRaw=Objforsave,t.FacilityId=r.previousSelectedFacility,t.ShiftDate=r.attendenceDatestring,t.ShiftId=r.previousSelectedShift,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.saveEmployeeAttendence(t,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&r.refreshEmployeeAttendanceGrid());var t=$ct.mt.getErrorObject(e);null!=t?l.notify($ct.en.getShowErrorMsg(),t):(void 0!=e.Data.EmployeeAttendanceRawData&&r.dsEmployeeAttendance.read(),l.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg()))})},vweaChkEmployee:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=r.get("dcRequestData.unSelectedEmployeeIds"),n=r.get("dcRequestData.selectedEmployeeIds");e.target.checked?($.inArray(e.data.EmployeeId,t)>-1&&r.get("dcRequestData.unSelectedEmployeeIds").splice($.inArray(e.data.EmployeeId,t),1),$.inArray(e.data.EmployeeId,n)<0&&r.get("dcRequestData.selectedEmployeeIds").push(e.data.EmployeeId)):($.inArray(e.data.EmployeeId,n)>-1&&r.get("dcRequestData.selectedEmployeeIds").splice($.inArray(e.data.EmployeeId,n),1),$.inArray(e.data.EmployeeId,t)<0&&r.get("dcRequestData.unSelectedEmployeeIds").push(e.data.EmployeeId));var a=r.get("dsEmployeeAttendance");void 0!=a.data()&&($(a.data()).each(function(e,t){jQuery.inArray(t.EmployeeId,r.get("dcRequestData.selectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),l.parentContext.dcRequestData.selectedEmployeeIds=r.get("dcRequestData.selectedEmployeeIds"),l.parentContext.dcRequestData.unSelectedEmployeeIds=r.get("dcRequestData.unSelectedEmployeeIds")),$ct.helpers.hideWorkAreaBusyCursor()},vweaDataBoundEvent:function(e){var t=$("#vwEmployeeAttendance").find("th[role='columnheader']").first();$(t).html('<label class="checkbox"><input class="checkbox__inp" id="chkAll" type="checkbox" /><span class="checkbox__text"></span></label>'),$("#vwEmployeeAttendance").find("#chkAll").click(function(e){var t=r.get("dcRequestData.unSelectedEmployeeIds"),n=r.get("dcRequestData.selectedEmployeeIds"),a=$("#vwEmployeeAttendance").find("input[data-item-type='child']");e.target.checked?($(a).prop("checked",!0),$(a).each(function(e,a){var i=$(a).attr("data-id");$.inArray(i,t)>-1&&r.get("dcRequestData.unSelectedEmployeeIds").splice($.inArray(i,t),1),$.inArray(i,n)<0&&r.get("dcRequestData.selectedEmployeeIds").push(i)})):($(a).prop("checked",!1),$(a).each(function(e,a){var i=$(a).attr("data-id");$.inArray(i,n)>-1&&r.get("dcRequestData.selectedEmployeeIds").splice($.inArray(i,n),1),$.inArray(i,t)<0&&r.get("dcRequestData.unSelectedEmployeeIds").push(i)}));var i=r.get("dsEmployeeAttendance");void 0!=i.data()&&$(i.data()).each(function(e,t){jQuery.inArray(t.EmployeeId,r.get("dcRequestData.selectedEmployeeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),l.parentContext.dcRequestData.selectedEmployeeIds=r.get("dcRequestData.selectedEmployeeIds"),l.parentContext.dcRequestData.unSelectedEmployeeIds=r.get("dcRequestData.unSelectedEmployeeIds")})},clearData:function(){r.dcRequestData.viewAll=!0,r.dcRequestData.FetchSelectedOnly=!1,r.dcRequestData.selectedEmployeeIds=new kendo.data.ObservableArray([]),r.dcRequestData.unSelectedEmployeeIds=new kendo.data.ObservableArray([]),l.parentContext.dcRequestData.viewAll=!0,l.parentContext.dcRequestData.FetchSelectedOnly=!1,l.parentContext.dcRequestData.selectedEmployeeIds=new kendo.data.ObservableArray([]),l.parentContext.dcRequestData.unSelectedEmployeeIds=new kendo.data.ObservableArray([]),r.fillGrid()},btnFilterOffClick:function(){r.clearData()},btnEditClick:function(t){var r={};r.griddata=t.data,r.date=l.parentContext.attendenceDate,r.shift=l.parentContext.selectedShift,r.facilityId=l.parentContext.facilityId;var s=new e.ViewTemplate(null,n,i),d=new a(l);$ct.helpers.displayWindow(s,"Comment",d.data),d.data.initialize(r)}});return{data:r}};return l}),define("text!modules/employeeModule/employeeAttendance/view.html",[],function(){return'<div id="vwEmployeeAttendance">\r\n    <!--View name : vwEmployeeAttendance-->\r\n    <!--Control id prefix : vwea-->\r\n    <div class="module" >\r\n        <h2 class="module-title">Employee Attendance<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container employee-attendance">\r\n\r\n            <div class="employee-attendance__row is-filter-shelter">\r\n                <!--  filters section -->\r\n                <div class="employee-attendance__filters-section">\r\n                    <div class="employee-attendance__filters-section__shelters">\r\n                        <label>Shelters:</label>\r\n                        <div class="custom-select">\r\n                            <select id="vweaDdlFacilities"\r\n                                    data-role="dropdownlist"\r\n                                    data-bind="source:dsFacilities, value:selectedFacility"\r\n                                    data-text-field="Name" data-value-field="Id" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="employee-attendance__filters-section__shifts">\r\n                        <label>Shifts:</label>\r\n                        <div class="custom-select">\r\n                            <select id="vweaDdlShifts"\r\n                                    data-role="dropdownlist"\r\n                                    data-bind="source:dsShifts, value:selectedShift"\r\n                                    data-text-field="Value" data-value-field="Key" />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="employee-attendance__filters-section__shifts-date">\r\n                        <label>Shift Date:</label>\r\n                        <!-- k-invalid / k-valid needs to be added here-->\r\n                        <div class="custom-datetimepicker">\r\n                            <input id="vwshStartDate" name="vweaAttendenceDate"\r\n                                   data-role="datepicker"\r\n                                   data-bind="value:attendenceDate"/>\r\n\r\n                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"\r\n                                  data-bind="invisible:isattendenceDateValid">\r\n                                <!-- shiftdate-valid -->\r\n                                Attendance date is required\r\n                            </span>\r\n                        </div>\r\n                        <span class="employee-attendance__filters-section__go-btn">\r\n                            <button type="button" data-bind="click:btnGoClick" class="btn">Go</button>\r\n                        </span>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <!-- event details section -->\r\n                <div class="employee-attendance__shelter-event">\r\n                    <div class="employee-attendance__shelter-event__name">\r\n                        <span>{{nls.lblEndedReportingPeriod}}</span>\r\n                        <strong ><!--State-Wide Severe Weather March 8-11, 2016-->\r\n                            <span data-bind="text:ActiveEvent.EventName"></span><br />\r\n                        </strong>\r\n                        <!-- data-bind="text:ActiveEvent.EventName" -->\r\n                    </div>\r\n                    <div class="employee-attendance__shelter-event__duration">\r\n                        <span>Duration:</span>\r\n                        <strong data-bind="text:ActiveEvent.EventDuration"></strong>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            \r\n            <div data-bind="style:{display:showMessage}"> Employees are not assigned for the selected shift. </div>\r\n\r\n            <div class="employee-attendance__row is-notificaion-action-btns">\r\n                <!-- notification status -->\r\n                <div class="employee-attendance__notification-info" data-bind="style:{display:showWorkArea}">\r\n                    <!-- <div class="red-bold-text"> {{nls.lblMessage}} </div> -->\r\n                    <ul>\r\n                        <li>\r\n                            <span class="icon-Reported">{{nls.lblReported}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalReported"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                        <li>\r\n                            <span class="icon-NotReported">{{nls.lblNotReported}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalNotReported"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                        <li>\r\n                            <span class="icon-UnAssigned">{{nls.lblUnassigned}}:</span>\r\n                            <strong>\r\n                                <span data-bind="text:employeeAttendanceSummary.TotalUnAssigned"></span>/<span data-bind="text:employeeAttendanceSummary.TotalEmployees"></span>\r\n                            </strong>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <!-- action buttons -->\r\n                <div class="employee-attendance__action-buttons" data-bind="style:{display:showWorkArea}">\r\n                    <button class="btn--secondary" data-bind="visible:isRecordsPresentForExport, click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnShowAll}}\r\n                    </button>\r\n\r\n                    <button type="button" data-bind="click:btnBulkUpdateClick" class="btn--secondary">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper"  id="vweaDgEmployeeListParent"  data-bind="style:{display:showWorkArea}">\r\n                <table id="vweaDgEmployeeList"\r\n                       data-bind="source:dsEmployeeAttendance, events: { dataBound:vweaDataBoundEvent }"\r\n                       data-role="grid" data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vweaRow-template"\r\n                       data-columns="[{width:\'40px\'},\r\n                        {title:\'Add Comment\',width:\'120px\'},\r\n                        {field:\'FacilityName\',title:\'{{nls.gdColFacilityName}}\', width:\'250px\' , filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'ShiftTime\',title:\'{{nls.gdColShiftTime}}\', width:\'150px\',filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'StatusName\',title:\'{{nls.gdColStatus}}\', width:\'250px\',filterable: {multi:true,dataSource:[]}},\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'200px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\', width:\'150px\'},\r\n                        {field:\'MiddleName\',title:\'{{nls.gdColMiddleName}}\', width:\'150px\'},\r\n                        {field:\'StaffSpecialityName\',title:\'{{nls.gdColStaffSpeciality}}\', filterable: {multi:true,dataSource:[]}, width:\'150px\'},\r\n                        {field:\'Comment\',title:\'{{nls.gdColComments}}\', width:\'150px\'},\r\n                        {field:\'EmployeeAttendanceUpdatedUserName\',title:\'{{nls.gdColUpdatedUserName}}\', width:\'150px\'},            {field:\'EmployeeAttendanceUpdatedOn\',title:\'{{nls.gdColUpdatedDate}}\',filterable:false,width:\'200px\'}]"\r\n                       data-pageable="true" data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vweaRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vweaChkEmployee}" type="checkbox" data-item-type="child" data-id=${EmployeeId} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n\r\n        <td>\r\n            <button class="btn-add-comment" data-bind="click:btnEditClick"> <span class="f-icon f-icon__add-comment" aria-hidden="true"></span> <span class="f-icon__text">Edit</span> </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColFacilityName}}"> ${FacilityName} </td>\r\n        <td data-title="{{nls.gdColShiftTime}}"> ${ShiftTime} </td>\r\n        <td data-title="{{nls.gdColStatus}}">\r\n            <input data-role="dropdownlist" data-bind="source:StatusLookUpData,value:ReportId,events:{change:changeSaveClick}" data-template="item-template" data-value-template="value-template" data-text-field="Value" data-value-field="Key"/>\r\n        </td>\r\n        <td data-title="{{nls.gdColFirstName}}"> ${FirstName} </td>\r\n        <td data-title="{{nls.gdColLastName}}"> ${LastName} </td>\r\n        <td data-title="{{nls.gdColMiddleName}}"> ${MiddleName} </td>\r\n        <td data-title="{{nls.gdColStaffSpeciality}}"> ${StaffSpecialityName} </td>\r\n        <td data-title="{{nls.gdColComments}}"> ${Comment} </td>\r\n        <td data-title="{{nls.gdColUserName}}"> ${EmployeeAttendanceUpdatedUserName} </td>\r\n        <td data-title="{{nls.gdColUpdatedDate}}"> ${EmployeeAttendanceUpdatedOnValue} </td>\r\n    </tr>\r\n</script>\r\n<script id="item-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n<script id="value-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n';
}),define("modules/employeeModule/employeeAttendance/nls/resources",{root:{nlsTest:"Localization Test",lblEndedReportingPeriod:"Event Name: ",lblMessage:"The following are Employee status details",gdColIsSelected:"",gdColFacilityName:"Shelter Name",gdColShiftTime:"Shift",gdColStatus:"Status",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColMiddleName:"Middle Name",gdColStaffSpeciality:"Staff Speciality",gdColComments:"Comments",gdColUpdatedDate:"Updated Date",gdColUpdatedUserName:"User Name",lblReported:"Reported",lblNotReported:"Not Reported",lblUnassigned:"Unassigned",lblTotal:"All Employees",lblEmployeeList:"Employee List:",btnBulkUpdate:"Bulk Update",btnShowAll:"Show All",btnExportToExcel:"Export"}}),define("modules/employeeModule/employeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getEmployeeAttendance()==e&&l&&s()}),i.listen($ct.en.getEmployeeAttendanceUpdated(),function(e){l&&l.data.refreshEmployeeAttendanceGrid()}),i.listen($ct.en.getEmployeeAttendenceList(),function(){s()});var s=function(){r&&(i.parentContext.dcRequestData={viewAll:!1,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.initializeEvent(),l.data.initializeGlobalData(),l.data.initializeFacilities())};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),i.parentContext.dcRequestData={viewAll:!0,fetchSelectedOnly:!1,selectedEmployeeIds:new kendo.data.ObservableArray([]),unSelectedEmployeeIds:new kendo.data.ObservableArray([])},l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.initializeGlobalData(),l.data.initializeFacilities(),l.data.initializeEvent()),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/bulkUpdateEmployeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>BulkUpdateEmployeeAttendance help</h1>\n</div>\n\n'}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},StatusToLookUpData:[],selectedStatus:{},comment:"",initialLoad:!1,initialize:function(){a.set("initialLoad",!0),a.set("comment","");var e={};e.Key=-1,e.Value="--Select--",n.parentContext.StatusLookUpData.splice(0,0,e),a.set("StatusToLookUpData",n.parentContext.StatusLookUpData),a.set("selectedStatus",a.StatusToLookUpData[0])},btnUpdateClick:function(){a.set("initialLoad",!1),n.notify($ct.en.getHideErrorMsg());var t={};t.ReportId=this.selectedStatus.Key,t.Comment=this.comment,t.FacilityId=n.parentContext.facilityId,t.SelectedEmployeeIds=n.parentContext.dcRequestData.selectedEmployeeIds,t.UnSelectedEmployeeIds=n.parentContext.dcRequestData.unSelectedEmployeeIds,t.ShiftDate=n.parentContext.attendenceDate,t.ShiftId=n.parentContext.selectedShift,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.emp.empattendance.bulkUpdateEmployeeAttendence(t,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.initialize());var i=$ct.mt.getErrorObject(t);return null!=i?void n.notify($ct.en.getShowErrorMsg(),i):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getEmployeeAttendenceUpdatedSuccessMsg()),n.notify($ct.en.getEmployeeAttendanceUpdated(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance()),void 0)})},btnCancelClick:function(){n.notify($ct.en.getHideErrorMsg()),n.notify($ct.en.getEmployeeAttendanceUpdated(),null),e.UrlController.goTo($ct.rn.getEmployeeAttendance())}});return{data:a}};return n}),define("text!modules/employeeModule/bulkUpdateEmployeeAttendance/view.html",[],function(){return'<div id="vwBulkUpdateEmployeeAttendance">\n    <!--View name : vwBulkUpdateEmployeeAttendance-->\n    <!--Control id prefix : vwbuea-->\n\n    <div class="module">\n        <h2 class="module-title">{{nls.headerBulkUpdate}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n        <div class="module-container">\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblStatus}}</span>\n                <input data-role="dropdownlist"\n                    data-bind="source:StatusToLookUpData, value:selectedStatus"\n                    data-template="item-template"\n                    data-value-template="value-template"\n                    data-text-field="Value"\n                    data-value-field="Key" />\n            </label>\n\n            <label class="form-element-with-label">\n                <span class="form-element-with-label__text">{{nls.lblComment}}</span>\n                <textarea id="vweacTaDescription"\n                    name="vweacTaDescription"\n                    data-bind="value:comment, attr:{maxlength: DescriptionLength}"\n                    rows="5">\n                </textarea>\n            </label>\n        </div>\n    </div>\n\n    <div class="footer-bts-container">\n        <button type="button" class="btn " data-bind="click:btnUpdateClick">\n            {{nls.btnUpdate}}\n        </button>\n        <button type="button" class="btn " data-bind="click:btnCancelClick">\n            {{nls.btnCancel}}\n        </button>\n    </div>\n\n</div>\n\n<script id="item-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n<script id="value-template" type="text/x-kendo-template">\r\n    <span class="icon-#:Value#">#:Value #</span>\r\n</script>\r\n\n'}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/nls/resources",{root:{headerBulkUpdate:"Bulk Update - Employee Attendance",btnUpdate:"Update",btnCancel:"Back",headerDataCell:"Bulk Update",lblStatus:"Status ",lblComment:"Optional Comment"}}),define("modules/employeeModule/bulkUpdateEmployeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateEmployeeAttendance()==e&&l&&l.data.initialize()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.initialize(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/multiFacilityEmployeeAttendance/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Multi Facility Employee  Attendence list help</h1>\n</div>\n\n'}),define("modules/employeeModule/multiFacilityEmployeeAttendance/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee Attendence List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeAttendance/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeAttendenceList">\n    <!--View name : vwMultiFacilityEmployeeAttendenceList-->\n    <!--Control id prefix : vwmfea-->\n   {{nls.headerEmployee}}\n\n    <span data-bind="text:pagename"></span>\n </div>'}),define("modules/employeeModule/multiFacilityEmployeeAttendance/nls/resources",{root:{headerEmployee:"Multi Facility Employee Attendence List"}}),define("modules/employeeModule/multiFacilityEmployeeAttendance/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeAttendance(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/multiFacilityEmployeeExtendedList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Multi Facilty EmployeeExtended list help</h1>\n</div>\n\n'}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee Extended List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeExtendedList/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeExtendedList">\n\n    <!--View name : vwMultiFacilityEmployeeExtendedList-->\n    <!--Control id prefix : vwmfeel-->\n    {{nls.headerMultiEmployeeExtended}}\n\n    <span  data-bind="text:pagename"></span>\n </div>\n'}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/nls/resources",{root:{headerMultiEmployeeExtended:"Multi Facility Employee Extended"}}),define("modules/employeeModule/multiFacilityEmployeeExtendedList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeExtendedList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/employeeModule/multiFacilityEmployeeList/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1> Multi Facility Employee  list help</h1>\n</div>\n\n'}),define("modules/employeeModule/multiFacilityEmployeeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},pagename:"Multi Facility Employee List"});return{data:a}};return n}),define("text!modules/employeeModule/multiFacilityEmployeeList/view.html",[],function(){return'<div id="vwMultiFacilityEmployeeList">\n    <!--View name : vwMultiFacilityEmployeeList-->\n    <!--Control id prefix : vwmfel-->\n    {{nls.headerEmployee}}\n    <span   data-bind="text:pagename"></span>\n </div>'}),define("modules/employeeModule/multiFacilityEmployeeList/nls/resources",{root:{headerEmployee:"Multi Facility Employee List"}}),define("modules/employeeModule/multiFacilityEmployeeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getMultiFacilityEmployeeList(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),r.show()},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/employeeModule/module",["Boiler","./settings","./employeeList/component","./employeeExtendedList/component","./employee/component","./downloadEmployee/component","./uploadEmployee/component","./bulkUpdateEmployee/component","./bulkUpdateEmployeeExtended/component","./employeeAttendance/component","./bulkUpdateEmployeeAttendance/component","./multiFacilityEmployeeAttendance/component","./multiFacilityEmployeeExtendedList/component","./multiFacilityEmployeeList/component"],function(e,t,n,a,i,l,r,s,d,o,c,p,u,h){var m=function(m){var f=new e.Context(m);f.addSettings(t);var g=new e.UrlController($(".appcontent"));g.addRoutes({employeelist:new n(f),employeeextendedlist:new a(f),"employee/{id}/{shelterId}":new i(f),downloademployee:new l(f),uploademployee:new r(f),bulkupdateemployee:new s(f),bulkupdateemployeeextended:new d(f),employeeattendance:new o(f),bulkupdateemployeeattendance:new c(f),multifacilityemployeeattendance:new p(f),multifacilityemployeeextendedlist:new u(f),multifacilityemployeelist:new h(f)}),g.start()};return m}),define("modules/shelterModule/settings",{urls:{}}),define("text!modules/shelterModule/shelterStatus/help/help.html",[],function(){return'<div id = "vwHelp">\n    <h1>ShelterStatus help</h1>\n</div>\n\n'}),define("modules/shelterModule/shelterStatus/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"ShelterStatus  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},selectedEventItem:{},dsEventNames:[],isRecordsPresentForShelterStatusExport:!1,initialLoad:!0,initializeEvents:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getEvents(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsEventNames",t),a.set("selectedEventItem",t[0]))})},dsShelterStatus:function(){this.initialLoad&&$ct.helpers.displayWorkAreaBusyCursor(),this.fillGrid(),this.initialLoad&&(this.initialLoad=!1,$ct.helpers.hideWorkAreaBusyCursor())},fillGrid:function(){var e=$("#vwsstDgShelterStatus").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsShelterStatus",$ct.ds.shlt.shelter.getShelterStatus(this,function(e){$ct.mt.isNoDataFound(e)||null!=$ct.mt.getErrorObject(e)?a.set("isRecordsPresentForShelterStatusExport",!1):a.set("isRecordsPresentForShelterStatusExport",!0),$(".k-loading-mask").remove()}))},refreshShelterStatusGrid:function(e){a.dsShelterStatus.read()},btnSaveClick:function(e){if(e.data.set("saveClicked",!0),e.data.hideOpenDateValidation()&&e.data.hideClosedDateValidation()&&e.data.hideOpenClosedDateValidation()){var t=e.data.toJSON(),i=new Date(t.OpenDate);t.OpenDate=kendo.toString(new Date(i),"yyyy-MM-ddTHH:mm:ss");var l=new Date(t.ClosedDate);t.ClosedDate=kendo.toString(new Date(l),"yyyy-MM-ddTHH:mm:ss"),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.shlt.shelter.saveShelterStatus(t,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsShelterStatus.read());var t=$ct.mt.getErrorObject(e);null!=t?n.notify($ct.en.getShowErrorMsg(),t):n.notify($ct.en.getShowSuccMsg(),$ct.msg.getShelterStatusSuccessMsg()),a.dsShelterStatus.read()})}},btnExportToExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.shlt.shelter.exportShelterStatusToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/shelterModule/shelterStatus/view.html",[],function(){return'\n<div id="vwShelterStatus">\n\n    <!--View name : vwShelterStatus-->\n    <!--Control id prefix : vwsst-->\n\n    <div class="module">\n       <h2 class="module-title">{{nls.headerShelterStatus}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\n\n        <div class="module-container">\n            <div class="gridsearch">\n                <div class="gridsearch__search-col">\n\n                    <span>{{nls.lblEventName}}</span>\n\n                    <div class="custom-select">\n                        <select id="vwsstDdlEventNames"\n                            data-role="dropdownlist"\n                            data-bind="source:dsEventNames,value:selectedEventItem"\n                            data-text-field="Value"\n                            data-value-field="Key" />\n                    </div>\n                </div>\n                <div class="gridsearch__btns-col">\n                    <button class="btn--secondary"\n                        data-bind="enabled:isRecordsPresentForShelterStatusExport,click:btnExportToExcelClick"\n                        type="button">\n                            <span class="f-icon f-icon__export" aria-hidden="true"></span>\n                            {{nls.btnExportToExcel}}\n                    </button>\n                </div>\n                \n            </div>\n            <div class="table-wrapper">\n                <!--style="width:1150px"-->\n                <table id="vwsstDgShelterStatus" \n                       data-bind="source:dsShelterStatus" data-role="grid"\n                       data-filterable="true"\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\n                       data-row-template="vwsstRow-template"\n                       data-selectable="true"\n                       data-columns="[\n                       {title:\'{{nls.gdColSave}}\',width:\'60px\'},\n                       {field:\'ShelterTypeName\',title:\'{{nls.gdColShelterType}}\',width:\'100px\'},\n                       {field:\'ShelterName\',title:\'{{nls.gdColShelterName}}\',width:\'150px\'},\n                       {field:\'Status\',title:\'{{nls.gdColStatus}}\',width:\'120px\'},\n                       {field:\'OpenDate\',title:\'{{nls.gdColOpenDate}}\',filterable:false,width:\'250px\'},\n                       {field:\'ClosedDate\',title:\'{{nls.gdColClosedDate}}\',filterable:false,width:\'250px\'} ]"\n                       data-pageable="true"></table>\n\n            </div>\n        </div>\n    </div>\n\n</div>\n\n\n\n\n\n<script type="text/x-kendo-template" id="vwsstRow-template">\n    <tr>\n\n        <td data-title="{{nls.gdColSave}}">\n\n            <button class="btn-save"  data-bind="click:btnSaveClick"><span class="f-icon f-icon__save" aria-hidden="true"></span> <span class="f-icon__text">Save</span></button>\n        </td>\n\n        \n        <td data-title="{{nls.gdColShelterType}}">\n            ${ShelterTypeName}\n\n        </td>\n\n        <td data-title="{{nls.gdColShelterName}}">\n            ${ShelterName}\n        </td>\n        <td data-title="{{nls.gdColStatus}}">\n\n            <span data-bind="invisible:onchangeopencloseddate"></span>\n\n            <span data-bind="text:Status"></span>\n\n        </td>\n\n        <td data-title="{{nls.gdColOpenDate}}">\n            <div class="custom-datetimepicker">\n                <input data-role="datetimepicker" data-bind="value: OpenDate" />\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideOpenDateValidation">\n                    Open date is required\n                </span>\n            </div>\n\n        </td>\n         \n        <td data-title="{{nls.gdColClosedDate}}">\n        <div class="custom-datetimepicker">\n            <input data-role="datetimepicker" data-bind="value: ClosedDate" />\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideClosedDateValidation">Closed date is required</span>\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideOpenClosedDateValidation">Closed date should be greater than Open date </span>\n        </div>\n    </td>\n\n    </tr>\n</script>\n\n'}),define("modules/shelterModule/shelterStatus/nls/resources",{root:{headerShelterStatus:"Shelter Status",lblEventName:"Event Name:",btnExportToExcel:"Export",gdColSave:"Save",gdColShelterType:"Shelter Type",gdColShelterName:"Shelter Name",gdColStatus:"Status",gdColOpenDate:"Open Date",gdColClosedDate:"Closed Date"}}),define("modules/shelterModule/shelterStatus/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelterStatus()==e&&s()});var s=function(){r&&(l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.initializeEvents())};this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getShelterStatus(),r||(r=new e.ViewTemplate(s,n,a)),l=new t(i),kendo.bind(r.getDomElement(),l.data),l.data.initializeEvents(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("modules/shelterModule/module",["Boiler","./settings","./shelterStatus/component"],function(e,t,n){var a=function(a){var i=new e.Context(a);i.addSettings(t);var l=new e.UrlController($(".appcontent"));l.addRoutes({shelterstatus:new n(i)}),l.start()};return a}),define("modules/sheltereeModule/settings",{urls:{}}),define("text!modules/sheltereeModule/sheltereeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>SheltereeList help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelteree List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],dispositionFilterLookUp:[],caregiversFilterLookUp:[],oxygenDependentFilterLookUp:[],electricalDependentFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){a.set("sheltereeHeaderData",n.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.sheltereeRequestData.ViewAll&&(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.sheltereeRequestData.ViewAll=!1,n.parentContext.sheltereeRequestData.ViewAll=!1,a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeList:function(){},fillGrid:function(){var e=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeList",$ct.ds.sheltree.sheltree.getShelterees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.shelterFilterLookUp=e.Data.ShelterLookupData,a.parishFilterLookUp=e.Data.ParishLookupData,a.regionFilterLookUp=e.Data.RegionLookupData,a.dispositionFilterLookUp=e.Data.DispositionLookupData,a.caregiversFilterLookUp=e.Data.CaregiversLookupData,a.oxygenDependentFilterLookUp=e.Data.OxygenDependentLookupData,a.electricalDependentFilterLookUp=e.Data.ElectricalDependentLookupData,$("#vwslDgSheltereeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.regionFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Caregivers']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.caregiversFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='OxygenDependent']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.oxygenDependentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='ElectricalDependent']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.electricalDependentFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Disposition']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.dispositionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("ShelterName"),t.hideColumn("ShelterName"))}a.get("dsSheltereeList").total()>0?$("#vwslBtnExcel").show():$("#vwslBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,n.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,a.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,a.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&a.sheltereeRequestData.ViewAll&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.SheltereeRawData,function(e,t){t.IsSelected&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltereeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var i=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(a.selectedId,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(a.selectedId,l),1),$.inArray(a.selectedId,i)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(a.selectedId);var r=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("sheltereeRequestData.SelectedIdsCount",r-1)}n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}a.dsSheltereeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).ShelterId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchShelterees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwslChkShelteree:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,i)<0){a.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var l=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=0),a.set("sheltereeRequestData.SelectedIdsCount",l+1)}}else if($.inArray(e.data.Id,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,i),1),$.inArray(e.data.Id,t)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var l=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=1),a.set("sheltereeRequestData.SelectedIdsCount",l-1)}var r=a.get("dsSheltereeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwSheltereeList").find("#chkAll").click(function(e){var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds"),l=$("#vwSheltereeList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("sheltereeRequestData.OrigSelectedIdsCount"),s=a.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(l).prop("checked",!0),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(l,t),1),$.inArray(l,i)<0&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(l),r+=1}),0>r&&(r=0),a.set("sheltereeRequestData.SelectedIdsCount",r)}else{var d=a.get("sheltereeRequestData.SelectedIdsCount");$(l).prop("checked",!1),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(l,i),1),$.inArray(l,t)<0&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(l),d-=1}),0>d&&(d=0),a.set("sheltereeRequestData.SelectedIdsCount",d)}var o=a.get("dsSheltereeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1;
}),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsSheltereeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.sheltereeRequestData.ViewAll=!0,a.sheltereeRequestData.FetchSelectedOnly=!1,a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.ViewAll=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,n.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),a.set("sheltereeRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateShelteree())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.ShelterId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/sheltereeModule/sheltereeList/view.html",[],function(){return'<div id="vwSheltereeList">\r\n    <!--View name : vwSheltereeList-->\r\n    <!--Control id prefix :vwsl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">Shelteree List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container is-employee-section">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <input type="text" id="vwslTxtSearch" class="search-label__inp"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchShelterees}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary  buttonBorderNone">\r\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\r\n                        <span data-bind="text : filterText"></span>\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnFilterOff}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper" id="vwslDgSheltereeListParent">\r\n                <table id="vwslDgSheltereeList"\r\n                       cellspacing="0"\r\n                       cellpadding="0"\r\n                       border="0"\r\n                       class="grid split-table customDataTable"\r\n                       data-bind="source:dsSheltereeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                       data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwslRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                                   {width:\'40px\'},\r\n                                   {title:\'Edit\',width:\'60px\'},\r\n                                   {title:\'Delete\',width:\'70px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Caregivers\',title:\'{{nls.gdColCaregivers}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'OxygenDependent\',title:\'{{nls.gdColOxygenDependent}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'ElectricalDependent\',title:\'{{nls.gdColElectricalDependent}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'Disposition\',title:\'{{nls.gdColDisposition}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                    ]"\r\n                       data-pageable="true"\r\n                       data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <span class="bold" style="position:relative; top:5px;">\r\n        <span>{{nls.lblShelterName}}\r\n        </span>\r\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\r\n    </span> -->\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwslRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vwslChkShelteree}" type="checkbox" data-item-type="child" data-id=${Id} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="{{nls.gdColShelterName}}">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColCaregivers}}">\r\n            ${Caregivers}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColOxygenDependent}}">\r\n            ${OxygenDependent}\r\n        </td>\r\n        <td data-title="{{nls.gdColElectricalDependent}}">\r\n            ${ElectricalDependent}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDisposition}}">\r\n            ${Disposition}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n\r\n    </tr>\r\n</script>\r\n'}),define("modules/sheltereeModule/sheltereeList/nls/resources",{root:{headerShelteree:"Shelteree",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export To Excel",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColCaregivers:"Caregivers",gdColOxygenDependent:"Oxygen Dependent",gdColElectricalDependent:"Electrical Dependent",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:"}}),define("modules/sheltereeModule/sheltereeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=!1;i.listen($ct.en.getManageSheltereeClicked(),function(){s=!0}),i.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeList()==e&&l&&l.data.shelterChange()}),i.listen($ct.en.getSheltereeCreatedOrUpdated(),function(){l&&(l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid())}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeList()==e&&l&&(l.data.initialize(),l.data.refreshSheltereeGrid())}),this.activate=function(d,o){i.parentContext.currentView=$ct.rn.getSheltereeList(),s&&r&&(s=!1,l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),l=new t(i),$("#vwSheltereeList, #vwslDgSheltereeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data),l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r.show(),i.parentContext.activeForm=$ct.rn.getSheltereeList(),i.notify($ct.en.getShowActiveSheltereeHeader(),null),i.notify($ct.en.getShowSheltereeShelterHeader(),null),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(l.data.setFetchSelectedDataParams(),r.hide())}};return i}),define("text!modules/sheltereeModule/sheltereeMedicalUpdateList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Shelteree Medical Update List help</h1>\r\n</div>\r\n\r\n'}),define("text!modules/sheltereeModule/sheltereeMedicalUpdateList/comments/view.html",[],function(){return'<div id="vwSheltereeMedicalUpdateListComment">\r\n    <!--View name : vwSheltereeMedicalUpdateListComment-->\r\n    <!--Control id prefix : vwsmulc-->\r\n\r\n    <div class="module">\r\n        <!-- <h2 class="module-title">{{nls.headerAddEditComment}}</h2> -->\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDescription}}</span>\r\n                <textarea id="vwsmulcTaDescription" name="vwsmulcTaDescription" required\r\n                          data-bind="value:comment, attr:{maxlength: DescriptionLength}"\r\n                          validationmessage="{{nls.valmsgCommentRequired}}" rows="5"></textarea>\r\n                <span class="k-invalid-msg" data-for="vwsmulcTaDescription"></span>\r\n            </label>\r\n           \r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" data-bind="click:saveCommentClick">\r\n            {{nls.btnSave}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n\r\n    <div class="form-element-with-label" data-bind="visible:isCommentHistoryPresent">\r\n        <span class="form-element-with-label__text" style="margin-top:15px;">{{nls.lblHistory}}</span>\r\n        <div data-template="vwsmulcRow-template" data-bind="source:history" class="Medicalupdate-Comments-History"></div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<script id="vwsmulcRow-template" type="text/x-kendo-template">\r\n    <div data-title="Comment">\r\n        <span class="Medicalupdate-Comments-History-label"> >>> Comment </span>\r\n        <span class="Medicalupdate-Comments-History-label"> added on  </span>\r\n        <span data-bind="text:CommentDate" class="Medicalupdate-Comments-History-label"></span>\r\n\r\n\r\n\r\n        <span data-bind="text:Comment" class="Medicalupdate-Comments-History-comment"></span>\r\n    </div>\r\n</script>'}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/comments/viewmodel",["Boiler"],function(e){var t=function(e){var t=kendo.observable({Id:"",comment:"",history:[],isCommentHistoryPresent:!1,DescriptionLength:4e3,initialLoad:!0,fillQueryParams:function(e){t.set("Id",e)},initialize:function(e){$ct.ds.sheltree.sheltree.commentMedicalUpdateList(t.Id,function(e){0!=e.Data.length?(t.set("history",e.Data),t.set("isCommentHistoryPresent",!0)):(t.history={},t.history.Comment="",t.history.CommentDate="",t.history.UserName="")})},saveCommentClick:function(){this.trimWhiteSpaces(),t.set("initialLoad",!1),e.notify($ct.en.getHideErrorMsg());var n=$("#vwSheltereeMedicalUpdateListComment").kendoValidator().data("kendoValidator");if(!n.validate())return void e.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var a={};a.SheltereeComment={},a.SheltereeComment.SheltereeId=t.Id,a.SheltereeComment.Comment=t.comment,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.commentSaveMedicalUpdateList(a,function(t){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(t))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&(commentsViewModel.btnCancelClick(),e.notify($ct.en.getSheltereeMedicalUpdateList())));var n=$ct.mt.getErrorObject(t);if(null!=n)e.notify($ct.en.getShowErrorMsg(),n);else{e.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated(),null);var a=$("#commonWindow").data("kendoWindow");a.close(),e.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeMedicalConditionUpdateListCommentSuccessMsg())}})},trimWhiteSpaces:function(){t.set("comment",$.trim(this.comment))},btnCancelClick:function(e){var t=$("#commonWindow").data("kendoWindow");t.close()}});return{data:t}};return t}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/comments/nls/resources",{root:{headerAddEditComment:"Comment",lblDescription:"Description",lblHistory:"History",valmsgCommentRequired:"Comment is required",btnSave:"Save",btnCancel:"Back"}}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/viewmodel",["Boiler","text!./help/help.html","text!./comments/view.html","./comments/viewmodel","i18n!./comments/nls/resources"],function(e,t,n,a,i){var l=function(l){var r=kendo.observable({pageName:"Shelteree Medical Update List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){r.set("sheltereeRequestData",l.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){r.set("sheltereeHeaderData",l.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;r.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){r.sheltereeRequestData.ViewAll&&(r.get("sheltereeRequestData.SelectedSheltereeIds").length>0||r.hasCachedData&&!r.isLastPageCachedData)&&(r.sheltereeRequestData.ViewAll=!1,l.parentContext.sheltereeRequestData.ViewAll=!1,r.sheltereeRequestData.FetchSelectedOnly=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeMedicalUpdateList:function(){},fillGrid:function(){var e=$("#vwsmulDgSheltereeMedicalUpdateList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeMedicalUpdateList",$ct.ds.sheltree.sheltree.getSheltereeMedicalUpdatees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),r.shelterFilterLookUp=e.Data.ShelterLookupData,r.parishFilterLookUp=e.Data.ParishLookupData,r.regionFilterLookUp=e.Data.RegionLookupData,$("#vwsmulDgSheltereeMedicalUpdateListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=r.regionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}r.get("dsSheltereeMedicalUpdateList").total()>0?$("#vwsmulBtnExcel").show():$("#vwsmulBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&l.notify($ct.en.getShowValidationMsg(),e.Message),r.set("isFilteredData",e.Data.IsFilteredData),r.set("hasCachedData",e.Data.HasCachedData),r.set("isLastPageCachedData",e.Data.IsLastPageCachedData),r.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,l.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,r.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,l.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,r.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,l.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&r.sheltereeRequestData.ViewAll&&(r.sheltereeRequestData.FetchSelectedOnly=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),r.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),r.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.MedicalUpdateRawData,function(e,t){t.IsSelected&&r.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),l.parentContext.sheltereeRequestData.SelectedSheltereeIds=r.get("sheltereeRequestData.SelectedSheltereeIds"),l.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){l.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&r.dsSheltereeMedicalUpdateList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)l.notify($ct.en.getShowErrorMsg(),t);else{var n=r.get("sheltereeRequestData.UnSelectedSheltereeIds"),a=r.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(r.selectedId,a)>-1&&r.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(r.selectedId,a),1),$.inArray(r.selectedId,n)<0){r.get("sheltereeRequestData.UnSelectedSheltereeIds").push(r.selectedId);var i=r.get("sheltereeRequestData.SelectedIdsCount");(void 0==i||0>=i)&&(i=1),r.set("sheltereeRequestData.SelectedIdsCount",i-1)}l.parentContext.sheltereeRequestData.SelectedSheltereeIds=r.get("sheltereeRequestData.SelectedSheltereeIds"),l.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=r.get("sheltereeRequestData.UnSelectedSheltereeIds"),r.sheltereeRequestData.ViewAll&&r.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(r.sheltereeRequestData.FetchSelectedOnly=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),l.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}r.dsSheltereeMedicalUpdateList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).ShelterId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchSheltereeMedicalUpdatees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwsmulChkSheltereeMedicalUpdate:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=r.get("sheltereeRequestData.UnSelectedSheltereeIds"),n=r.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&r.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,n)<0){r.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var a=r.get("sheltereeRequestData.SelectedIdsCount");(void 0==a||0>=a)&&(a=0),r.set("sheltereeRequestData.SelectedIdsCount",a+1)}}else if($.inArray(e.data.Id,n)>-1&&r.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,n),1),$.inArray(e.data.Id,t)<0){r.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var a=r.get("sheltereeRequestData.SelectedIdsCount");(void 0==a||0>=a)&&(a=1),r.set("sheltereeRequestData.SelectedIdsCount",a-1)}var i=r.get("dsSheltereeMedicalUpdateList");$(i.data()).each(function(e,t){jQuery.inArray(t.Id,r.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),l.parentContext.sheltereeRequestData.SelectedSheltereeIds=r.get("sheltereeRequestData.SelectedSheltereeIds"),l.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=r.get("sheltereeRequestData.UnSelectedSheltereeIds"),r.sheltereeRequestData.ViewAll&&r.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(r.sheltereeRequestData.FetchSelectedOnly=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeMedicalUpdateList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwSheltereeMedicalUpdateList").find("#chkAll").click(function(e){var t=r.get("sheltereeRequestData.UnSelectedSheltereeIds"),n=r.get("sheltereeRequestData.SelectedSheltereeIds"),a=$("#vwSheltereeMedicalUpdateList").find("input[data-item-type='child']");if(e.target.checked){var i=r.get("sheltereeRequestData.OrigSelectedIdsCount"),s=r.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");i-=s,(void 0===i||0>i)&&(i=0),$(a).prop("checked",!0),$(a).each(function(e,a){var l=$(a).attr("data-id");$.inArray(l,t)>-1&&r.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(l,t),1),$.inArray(l,n)<0&&r.get("sheltereeRequestData.SelectedSheltereeIds").push(l),i+=1}),0>i&&(i=0),r.set("sheltereeRequestData.SelectedIdsCount",i)}else{var d=r.get("sheltereeRequestData.SelectedIdsCount");$(a).prop("checked",!1),$(a).each(function(e,a){var i=$(a).attr("data-id");$.inArray(i,n)>-1&&r.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(i,n),1),$.inArray(i,t)<0&&r.get("sheltereeRequestData.UnSelectedSheltereeIds").push(i),d-=1}),0>d&&(d=0),r.set("sheltereeRequestData.SelectedIdsCount",d)}var o=r.get("dsSheltereeMedicalUpdateList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,r.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),r.sheltereeRequestData.ViewAll&&r.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(r.sheltereeRequestData.FetchSelectedOnly=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),r.dsSheltereeMedicalUpdateList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){r.sheltereeRequestData.ViewAll=!0,r.sheltereeRequestData.FetchSelectedOnly=!1,r.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),r.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),l.parentContext.sheltereeRequestData.ViewAll=!0,l.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,l.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),l.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),r.set("sheltereeRequestData.SelectedIdsCount",0),r.set("searchToken",""),r.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(r.get("sheltereeRequestData.SelectedSheltereeIds").length>0||r.hasCachedData&&!r.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void l.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){var n=$ct.mt.getErrorObject(t);null!=n?l.notify($ct.en.getShowErrorMsg(),n):e.UrlController.goTo($ct.rn.getBulkUpdateSheltereeMedicalUpdate())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.ShelterId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){l.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereeMedicalUpdateesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&l.notify($ct.en.getShowErrorMsg(),t)}})},btnReportsClick:function(){l.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.generatereportsforMedicalUpdateesList(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&l.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+l.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId},btnAddCommentClick:function(t){var r=new e.ViewTemplate(null,n,i),s=new a(l);s.data.fillQueryParams(t.data.Id),$ct.helpers.displayWindow(r,"Comment",s.data)}});return{data:r}};return l}),define("text!modules/sheltereeModule/sheltereeMedicalUpdateList/view.html",[],function(){return'<div id="vwSheltereeMedicalUpdateList">\r\n\r\n    <!--View name : vwSheltereeMedicalUpdateList-->\r\n    <!--Control id prefix : vwsmul-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">Shelteree Medical Update List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container is-employee-section">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <input type="text" id="vwsmulTxtSearch" class="search-label__inp"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchSheltereeMedicalUpdatees}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary  buttonBorderNone">\r\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\r\n                        <span data-bind="text : filterText"></span>\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnFilterOff}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnReportsClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnReports}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper" id="vwsmulDgSheltereeMedicalUpdateListParent">\r\n                <table id="vwsmulDgSheltereeMedicalUpdateList"\r\n                       cellspacing="0"\r\n                       cellpadding="0"\r\n                       border="0"\r\n                       class="grid split-table customDataTable"\r\n                       data-bind="source:dsSheltereeMedicalUpdateList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                       data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsmulRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                                   {width:\'40px\'},\r\n                                   {title:\'Edit\',width:\'60px\'},\r\n                                   {title:\'Delete\',width:\'70px\'},\r\n                                   {title:\'AddComment\',width:\'60px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'SectionBed\',title:\'{{nls.gdColSectionBed}}\', width:\'150px\'},\r\n                                   {field:\'Comments\',title:\'{{nls.gdColComments}}\', width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                    ]"\r\n                       data-pageable="true"\r\n                       data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <span class="bold" style="position:relative; top:5px;">\r\n        <span>{{nls.lblShelterName}}\r\n        </span>\r\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\r\n    </span> -->\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwsmulRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vwsmulChkSheltereeMedicalUpdate}" type="checkbox" data-item-type="child" data-id=${Id} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n\r\n        <td>\r\n            <button class="btn-add-comment" data-bind="click:btnAddCommentClick"> <span class="f-icon f-icon__add-comment" aria-hidden="true"></span> <span class="f-icon__text">Edit</span> </button>\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColShelterName}}">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColSectionBed}}">\r\n            ${SectionBed}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColComments}}">\r\n            ${Comments}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>\r\n';
}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/nls/resources",{root:{headerSheltereeMedicalUpdate:"SheltereeMedicalUpdate",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColSectionBed:"Section Bed",gdColComments:"Comments",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:",btnReports:"Report"}}),define("modules/sheltereeModule/sheltereeMedicalUpdateList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=!1;i.listen($ct.en.getManageSheltereeMedicalUpdateClicked(),function(){s=!0}),i.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeMedicalUpdateList()==e&&l&&l.data.shelterChange()}),i.listen($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated(),function(){l&&(l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid())}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeMedicalUpdateList()==e&&l&&(l.data.initialize(),l.data.refreshSheltereeGrid())}),this.activate=function(d,o){i.parentContext.currentView=$ct.rn.getSheltereeMedicalUpdateList(),s&&r&&(s=!1,l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),l=new t(i),$("#vwSheltereeMedicalUpdateList, #vwsmulDgSheltereeMedicalUpdateList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data),l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r.show(),i.parentContext.activeForm=$ct.rn.getSheltereeMedicalUpdateList(),i.notify($ct.en.getShowActiveSheltereeHeader(),null),i.notify($ct.en.getShowSheltereeShelterHeader(),null),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/sheltereeDischargeList/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>Shelteree Discharge List help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/sheltereeDischargeList/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Shelteree Discharge List page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},initialSearchToken:"",searchToken:"",selectedId:$ct.constants.getemptyGUID(),selectedShelterId:-1,selectedRecordVersion:-1,isBulkUpdateEnabled:!1,isExportExcelEnabled:!1,isFilteredData:!1,hasCachedData:!1,isLastPageCachedData:!1,shelterFilterLookUp:[],parishFilterLookUp:[],regionFilterLookUp:[],dispositionFilterLookUp:[],caregiversFilterLookUp:[],transportationTypeFilterLookUp:[],filterText:function(){return this.get("isFilteredData")?"Filter On":"Filter Off"},eventdata:{},initialize:function(){a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData)},sheltereeHeaderData:{shelter:{}},initializeSheltereeHeader:function(){a.set("sheltereeHeaderData",n.parentContext.sheltereeHeaderData),$ct.ds.sheltree.sheltree.getActiveEvents(this,function(e){var t=e.Data.ActiveEvent;a.set("eventdata",t)})},sheltereeRequestData:{ViewAll:!0,FetchSelectedOnly:!1,SelectedSheltereeIds:new kendo.data.ObservableArray([]),UnSelectedSheltereeIds:new kendo.data.ObservableArray([])},setFetchSelectedDataParams:function(){a.sheltereeRequestData.ViewAll&&(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)&&(a.sheltereeRequestData.ViewAll=!1,n.parentContext.sheltereeRequestData.ViewAll=!1,a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)},shelterChange:function(e){$ct.helpers.displayWorkAreaBusyCursor(),this.setFetchSelectedDataParams(),this.initializeSheltereeHeader(),this.fillGrid()},dsSheltereeDischargeList:function(){},fillGrid:function(){var e=$("#vwsdlDgSheltereeDischargeList").data("kendoGrid");void 0!=e&&null!=e&&e.content.scrollLeft("0"),this.set("dsSheltereeDischargeList",$ct.ds.sheltree.sheltree.getSheltereeDischargees(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),a.shelterFilterLookUp=e.Data.ShelterLookupData,a.parishFilterLookUp=e.Data.ParishLookupData,a.regionFilterLookUp=e.Data.RegionLookupData,a.dispositionFilterLookUp=e.Data.DispositionLookupData,a.caregiversFilterLookUp=e.Data.CaregiversLookupData,a.transportationTypeFilterLookUp=e.Data.TransportationTypeLookupData,$("#vwsdlDgSheltereeDischargeListParent").find(".k-grid-filter").click(function(e){if(void 0!=$(e.target).closest("th[data-field='FacilityName']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.shelterFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='HomeParish']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.parishFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Region']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.regionFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Caregivers']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.caregiversFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='TransportationType']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.transportationTypeFilterLookUp,t.container.empty(),t.refresh()}if(void 0!=$(e.target).closest("th[data-field='Disposition']").data("kendoFilterMultiCheck")){var t=$(e.target).closest("th").data("kendoFilterMultiCheck");t.checkSource._view=a.dispositionFilterLookUp,t.container.empty(),t.refresh()}}),!$ct.security.isMultiFacilityUser()){var t=$("#vwslDgSheltereeList").data("kendoGrid");void 0!=t&&null!=t&&(t.showColumn("FacilityName"),t.hideColumn("FacilityName"))}a.get("dsSheltereeDischargeList").total()>0?$("#vwsdlBtnExcel").show():$("#vwsdlBtnExcel").hide(),$ct.mt.isNoDataFound(e)&&e.TotalRecords<=0&&n.notify($ct.en.getShowValidationMsg(),e.Message),a.set("isFilteredData",e.Data.IsFilteredData),a.set("hasCachedData",e.Data.HasCachedData),a.set("isLastPageCachedData",e.Data.IsLastPageCachedData),a.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,n.parentContext.sheltereeRequestData.SelectedIdsCount=e.Data.SelectedSheltereesCount,a.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigSelectedIdsCount=e.Data.OrigSelectedSheltereesCount,a.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,n.parentContext.sheltereeRequestData.OrigCurPageSelectedIdsCount=e.Data.OrigCurPageSelectedSheltereesCount,e.Data.HasCachedData&&a.sheltereeRequestData.ViewAll&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),$.each(e.Data.DischargeRawData,function(e,t){t.IsSelected&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(t.Id)}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([])}))},isRowSelected:function(e){return this.get("selectedId")===$ct.constants.getemptyGUID()||null===this.get("selectedId")||void 0===this.get("selectedId")?!1:!0},btnDeleteClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayConfirmWindow($ct.msg.getDeleteConfirmationMsg())&&($ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.deleteSheltereeById(e.data.Id,e.data.Version,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(e))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&a.dsSheltereeDischargeList.read());var t=$ct.mt.getErrorObject(e);if(null!=t)n.notify($ct.en.getShowErrorMsg(),t);else{var i=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),l=a.get("sheltereeRequestData.SelectedSheltereeIds");if($.inArray(a.selectedId,l)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(a.selectedId,l),1),$.inArray(a.selectedId,i)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(a.selectedId);var r=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==r||0>=r)&&(r=1),a.set("sheltereeRequestData.SelectedIdsCount",r-1)}n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeDeleteSuccessMsg())}a.dsSheltereeDischargeList.read()}))},rowSelectionChange:function(e){this.set("selectedId",e.sender.dataItem(e.sender.select()).Id),this.set("selectedShelterId",e.sender.dataItem(e.sender.select()).ShelterId),this.set("selectedRecordVersion",e.sender.dataItem(e.sender.select()).Version)},searchSheltereeDischargees:function(e){this.initialSearchToken!==this.searchToken&&(this.fillGrid(),this.initialSearchToken=this.searchToken)},vwsdlChkSheltereeDischarge:function(e){$ct.helpers.displayWorkAreaBusyCursor();var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds");if(e.target.checked){if($.inArray(e.data.Id,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(e.data.Id,t),1),$.inArray(e.data.Id,i)<0){a.get("sheltereeRequestData.SelectedSheltereeIds").push(e.data.Id);var l=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=0),a.set("sheltereeRequestData.SelectedIdsCount",l+1)}}else if($.inArray(e.data.Id,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(e.data.Id,i),1),$.inArray(e.data.Id,t)<0){a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(e.data.Id);var l=a.get("sheltereeRequestData.SelectedIdsCount");(void 0==l||0>=l)&&(l=1),a.set("sheltereeRequestData.SelectedIdsCount",l-1)}var r=a.get("dsSheltereeDischargeList");$(r.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),n.parentContext.sheltereeRequestData.SelectedSheltereeIds=a.get("sheltereeRequestData.SelectedSheltereeIds"),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0),$ct.helpers.hideWorkAreaBusyCursor()},dsDataBoundEvent:function(e){var t=$("#vwSheltereeDischargeList").find("th[role='columnheader']").first();$(t).html("<label class='checkbox'><input class='checkbox__inp' type='checkbox' data-item-type='child' id='chkAll' /><span class='checkbox__text'></span></label>"),$("#vwSheltereeDischargeList").find("#chkAll").click(function(e){var t=a.get("sheltereeRequestData.UnSelectedSheltereeIds"),i=a.get("sheltereeRequestData.SelectedSheltereeIds"),l=$("#vwSheltereeDischargeList").find("input[data-item-type='child']");if(e.target.checked){var r=a.get("sheltereeRequestData.OrigSelectedIdsCount"),s=a.get("sheltereeRequestData.OrigCurPageSelectedIdsCount");r-=s,(void 0===r||0>r)&&(r=0),$(l).prop("checked",!0),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,t)>-1&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").splice($.inArray(l,t),1),$.inArray(l,i)<0&&a.get("sheltereeRequestData.SelectedSheltereeIds").push(l),r+=1}),0>r&&(r=0),a.set("sheltereeRequestData.SelectedIdsCount",r)}else{var d=a.get("sheltereeRequestData.SelectedIdsCount");$(l).prop("checked",!1),$(l).each(function(e,n){var l=$(n).attr("data-id");$.inArray(l,i)>-1&&a.get("sheltereeRequestData.SelectedSheltereeIds").splice($.inArray(l,i),1),$.inArray(l,t)<0&&a.get("sheltereeRequestData.UnSelectedSheltereeIds").push(l),d-=1}),0>d&&(d=0),a.set("sheltereeRequestData.SelectedIdsCount",d)}var o=a.get("dsSheltereeDischargeList");$(o.data()).each(function(e,t){jQuery.inArray(t.Id,a.get("sheltereeRequestData.SelectedSheltereeIds"))>=0?t.IsSelected=!0:t.IsSelected=!1}),a.sheltereeRequestData.ViewAll&&a.get("sheltereeRequestData.SelectedSheltereeIds").length>0&&(a.sheltereeRequestData.FetchSelectedOnly=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!0)})},refreshSheltereeGrid:function(e){$ct.helpers.displayWorkAreaBusyCursor(),a.dsSheltereeDischargeList.read(),$ct.helpers.hideWorkAreaBusyCursor()},clearData:function(){a.sheltereeRequestData.ViewAll=!0,a.sheltereeRequestData.FetchSelectedOnly=!1,a.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),a.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.ViewAll=!0,n.parentContext.sheltereeRequestData.FetchSelectedOnly=!1,n.parentContext.sheltereeRequestData.SelectedSheltereeIds=new kendo.data.ObservableArray([]),n.parentContext.sheltereeRequestData.UnSelectedSheltereeIds=new kendo.data.ObservableArray([]),a.set("sheltereeRequestData.SelectedIdsCount",0),a.set("searchToken",""),a.fillGrid()},btnFilterOffClick:function(){this.clearData()},reinitializeData:function(){this.initializeSheltereeHeader(),this.clearData()},btnAddClick:function(t){this.setFetchSelectedDataParams(),e.UrlController.goTo(this.sheltereeEditUrl(!0))},btnBulkUpdateClick:function(){if(this.setFetchSelectedDataParams(),!(a.get("sheltereeRequestData.SelectedSheltereeIds").length>0||a.hasCachedData&&!a.isLastPageCachedData)){var t={};return t.messageType=$ct.mt.getError(),t.message="Please select records to bulk update",void n.notify($ct.en.getShowErrorMsg(),t)}$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){var a=$ct.mt.getErrorObject(t);null!=a?n.notify($ct.en.getShowErrorMsg(),a):e.UrlController.goTo($ct.rn.getBulkUpdateSheltereeDischarge())})},btnEditClick:function(t){this.setFetchSelectedDataParams(),this.set("selectedId",t.data.Id),this.set("selectedShelterId",t.data.ShelterId),this.set("selectedRecordVersion",t.data.Version),e.UrlController.goTo(this.sheltereeEditUrl(!1))},btnExportExcelClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.exportSheltereeDischargeesListToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},btnReportsClick:function(){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.generatereportsforDischargeesList(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})},sheltereeEditUrl:function(e){return e?$ct.rn.getShelteree()+"/"+$ct.constants.getemptyGUID()+"/"+n.parentContext.sheltereeHeaderData.shelter.Id:$ct.rn.getShelteree()+"/"+this.selectedId+"/"+this.selectedShelterId}});return{data:a}};return n}),define("text!modules/sheltereeModule/sheltereeDischargeList/view.html",[],function(){return'<div id="vwSheltereeDischargeList">\r\n    <!--View name : vwSheltereeDischargeList-->\r\n    <!--Control id prefix : vwsdl-->\r\n    <div class="module">\r\n        <!-- view title -->\r\n        <h2 class="module-title">Shelteree Discharge List<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container is-employee-section">\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n                        <input type="text" id="vwsdlTxtSearch" class="search-label__inp"\r\n                               placeholder="Search"\r\n                               data-bind="value:searchToken,events:{keyup:searchSheltereeDischargees}"\r\n                               data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n                <div class="gridsearch__btns-col">\r\n                    <button class="btn--secondary  buttonBorderNone">\r\n                        <span class="f-icon f-icon__filter-off" aria-hidden="true"></span>\r\n                        <span data-bind="text : filterText"></span>\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnAddClick" type="button">\r\n                        <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                        {{nls.btnAdd}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnFilterOffClick" type="button">\r\n                        <span class="f-icon f-icon__showall" aria-hidden="true"></span>\r\n                        {{nls.btnFilterOff}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnExportToExcel}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnBulkUpdateClick" type="button">\r\n                        <span class="f-icon f-icon__upload" aria-hidden="true"></span>\r\n                        {{nls.btnBulkUpdate}}\r\n                    </button>\r\n                    <button class="btn--secondary" data-bind="click:btnReportsClick" type="button">\r\n                        <span class="f-icon f-icon__export" aria-hidden="true"></span>\r\n                        {{nls.btnReports}}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div class="table-wrapper" id="vwsdlDgSheltereeDischargeListParent">\r\n                <table id="vwsdlDgSheltereeDischargeList"\r\n                       cellspacing="0"\r\n                       cellpadding="0"\r\n                       border="0"\r\n                       class="grid split-table customDataTable"\r\n                       data-bind="source:dsSheltereeDischargeList, events: { change: rowSelectionChange,dataBound:dsDataBoundEvent }"\r\n                       data-role="grid"\r\n                       data-filterable="true"\r\n                       data-sortable=\'{ "mode": "single", "allowUnsort": false }\'\r\n                       data-row-template="vwsdlRow-template"\r\n                       data-selectable="true"\r\n                       data-columns="[\r\n                                   {width:\'40px\'},\r\n                                   {title:\'Edit\',width:\'60px\'},\r\n                                   {title:\'Delete\',width:\'70px\'},\r\n                                   {field:\'FacilityName\',title:\'{{nls.gdColShelterName}}\', filterable: {multi:true, dataSource:[]} ,  width:\'250px\'},\r\n                                   {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width:\'150px\'},\r\n                                   {field:\'LastName\',title:\'{{nls.gdColLastName}}\' , width:\'150px\'},\r\n                                   {field:\'HomeParish\',title:\'{{nls.gdColHomeParish}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Region\',title:\'{{nls.gdColRegion}}\',filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'Caregivers\',title:\'{{nls.gdColCaregivers}}\' ,filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'TransportationType\',title:\'{{nls.gdColTransportationType}}\', filterable: {multi:true, dataSource:[]}, width:\'200px\'},\r\n                                   {field:\'Disposition\',title:\'{{nls.gdColDisposition}}\', filterable: {multi:true, dataSource:[]}, width:\'150px\'},\r\n                                   {field:\'DischargeDateValue\',title:\'{{nls.gdColDischargeDate}}\',filterable:false ,width:\'150px\'},\r\n                                   {field:\'UpdatedByUserName\',title:\'{{nls.gdColUserName}}\' , width:\'200px\'},\r\n                                   {field:\'UpdatedOn\',title:\'{{nls.gdColLastUpdated}}\',filterable:false , width:\'200px\'}\r\n                    ]"\r\n                       data-pageable="true"\r\n                       data-scrollable="true"></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- <span class="bold" style="position:relative; top:5px;">\r\n        <span>{{nls.lblShelterName}}\r\n        </span>\r\n        <span data-bind="text:empHeaderData.shelter.Name"></span>\r\n    </span> -->\r\n    <div style="display: none">\r\n        <a id="vwmpAncExportExcel"></a>\r\n    </div>\r\n</div>\r\n<script type="text/x-kendo-template" id="vwmpTest">\r\n    <span>${data}</span>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwsdlRow-template">\r\n    <tr>\r\n        <td data-title="{{nls.gdColIsSelected}}">\r\n            <label class="checkbox">\r\n                <input class="checkbox__inp" data-bind="checked:IsSelected, events:{change:vwsdlChkSheltereeDischarge}" type="checkbox" data-item-type="child" data-id=${Id} />\r\n                <span class="checkbox__text"></span>\r\n            </label>\r\n        </td>\r\n        <td>\r\n            <button class="btn-edit" data-bind="click:btnEditClick">\r\n                <span class="f-icon f-icon__edit" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Edit</span>\r\n            </button>\r\n        </td>\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n        <td data-title="Shelter Name">\r\n            ${FacilityName}\r\n        </td>\r\n\r\n\r\n        <td data-title="{{nls.gdColFirstName}}">\r\n            ${FirstName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastName}}">\r\n            ${LastName}\r\n        </td>\r\n        <td data-title="{{nls.gdColHomeParish}}">\r\n            ${HomeParish}\r\n        </td>\r\n        <td data-title="{{nls.gdColRegion}}">\r\n            ${Region}\r\n        </td>\r\n        <td data-title="{{nls.gdColCaregivers}}">\r\n            ${Caregivers}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColTransportationType}}">\r\n            ${TransportationType}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDisposition}}">\r\n            ${Disposition}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColDischargeDate}}">\r\n            ${DischargeDateValue}\r\n        </td>\r\n\r\n        <td data-title="{{nls.gdColUserName}}">\r\n            ${UpdatedByUserName}\r\n        </td>\r\n        <td data-title="{{nls.gdColLastUpdated}}">\r\n            ${UpdatedOnValue}\r\n        </td>\r\n\r\n    </tr>\r\n</script>\r\n'}),define("modules/sheltereeModule/sheltereeDischargeList/nls/resources",{root:{headerSheltereeDischarge:"Shelteree Discharge",btnAdd:"Add",btnDelete:"Delete",btnEdit:"Edit",lblShelterName:"Shelter Name :",btnExportToExcel:"Export",btnBulkUpdate:"Bulk Update",btnFilterOff:"View All",gdColIsSelected:"",gdColShelterName:"Shelter Name",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColHomeParish:"Home Parish",gdColRegion:"Region",gdColCaregivers:"Caregivers",gdColTransportationType:"Transportation Type",gdColDischargeDate:"Discharge Date",gdColDisposition:"Disposition",gdColUserName:"Updated User",gdColLastUpdated:"Updated Date",btnGo:"Go",btnFilterOff:"Show All",lblEventName:"EventName:",lblDuration:"Duration:",btnReports:"Report"}}),define("modules/sheltereeModule/sheltereeDischargeList/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null,s=!1;i.listen($ct.en.getManageSheltereeDischargeClicked(),function(){s=!0}),i.listen($ct.en.getSheltereeHeaderDataChanged(),function(e){$ct.rn.getSheltereeDischargeList()==e&&l&&l.data.shelterChange()}),i.listen($ct.en.getSheltereeDischargeCreatedOrUpdated(),function(){l&&(l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid())}),i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getSheltereeDischargeList()==e&&l&&(l.data.initialize(),l.data.refreshSheltereeGrid())}),this.activate=function(d,o){i.parentContext.currentView=$ct.rn.getSheltereeDischargeList(),s&&r&&(s=!1,l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r||(r=new e.ViewTemplate(d,n,a),l=new t(i),$("#vwSheltereeDischargeList, #vwsdlDgSheltereeDischargeList").delegate("tbody>tr","dblclick",function(t){e.UrlController.goTo(l.data.sheltereeEditUrl(!1))}),kendo.bind(r.getDomElement(),l.data),l.data.initialize(),l.data.initializeSheltereeHeader(),l.data.fillGrid()),r.show(),i.parentContext.activeForm=$ct.rn.getSheltereeDischargeList(),i.notify($ct.en.getShowActiveSheltereeHeader(),null),i.notify($ct.en.getShowSheltereeShelterHeader(),null),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&(l.data.setFetchSelectedDataParams(),r.hide())}};return i}),define("text!modules/sheltereeModule/bulkUpdateShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployee help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.SheltereeLookupData);var i=$ct.mt.getErrorObject(t);null!=i&&(n.notify($ct.en.getShowErrorMsg(),i),e.UrlController.goTo($ct.rn.getSheltereeList())),a.saveRequest.valDisposition="-1",a.saveRequest.valTransportationType="-1",a.saveRequest.valDischargeDate=null,a.saveRequest.valDischargeTime=null,a.saveRequest.valArrivalDate=null,a.saveRequest.valArrivalTime=null,a.saveRequest.valDestination=""})},resetFields:function(){a.intialize(),a.set("saveRequest.valDisposition","-1"),a.set("saveRequest.valTransportationType","-1"),a.set("saveRequest.valDischargeDate",null),a.set("saveRequest.valDischargeTime",null),a.set("saveRequest.valArrivalDate",null),a.set("saveRequest.valArrivalTime",null),a.set("saveRequest.valDestination","")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valDisposition:"-1",valTransportationType:"-1",valDischargeDate:null,valDischargeTime:null,valArrivalDate:null,valArrivalTime:null,valDestination:""},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateShelteree/view.html",[],function(){return'\r\n<div id="vwBulkUpdateShelteree">\r\n    <!--View name : vwBulkUpdateShelteree-->\r\n    <!--Control id prefix : vwbus-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdateShelteree}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDiposition}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusDdlDispositions"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.DispositionData, value:saveRequest.valDisposition"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblTransportation}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusDdlTransportationTypes"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.TransportationTypeData, value:saveRequest.valTransportationType"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusDischargeDate" name="vwbusDischargeDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valDischargeDate " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusDischargeTime" name="vwbusDischargeTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valDischargeTime " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusArrivalDate" name="vwbusArrivalDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valArrivalDate" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusArrivalTime" name="vwbusArrivalTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valArrivalTime" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDestination}}</span>\r\n\r\n                <input type="text" class="form-element-with-label__inp" id="vwbusDestination" name="vwbusDestination"\r\n                       data-bind="value:saveRequest.valDestination" maxlength="250" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" id="vwbusSave1" data-bind="click:btnSaveClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n';
}),define("modules/sheltereeModule/bulkUpdateShelteree/nls/resources",{root:{headerBulkUpdateShelteree:"BulkUpdate - Shelteree",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblDiposition:"Diposition",lblTransportation:"Transportation Type",lblDischargeDate:"Discharge Date",lblDischargeTime:"Discharge Time",lblArrivalDate:"Arrival Date",lblArrivalTime:"Arrival Time",lblDestination:"Destination"}}),define("modules/sheltereeModule/bulkUpdateShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateShelteree()==e&&l&&l.data.resetFields()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateShelteree(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.resetFields(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/bulkUpdateSheltereeDischarge/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeExpanded help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.SheltereeLookupData);var i=$ct.mt.getErrorObject(t);null!=i&&(n.notify($ct.en.getShowErrorMsg(),i),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())),a.saveRequest.valDisposition="-1",a.saveRequest.valTransportationType="-1",a.saveRequest.valDischargeDate=null,a.saveRequest.valDischargeTime=null,a.saveRequest.valArrivalDate=null,a.saveRequest.valArrivalTime=null,a.saveRequest.valDestination=""})},resetFields:function(){a.intialize(),a.set("saveRequest.valDisposition","-1"),a.set("saveRequest.valTransportationType","-1"),a.set("saveRequest.valDischargeDate",null),a.set("saveRequest.valDischargeTime",null),a.set("saveRequest.valArrivalDate",null),a.set("saveRequest.valArrivalTime",null),a.set("saveRequest.valDestination","")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valDisposition:"-1",valTransportationType:"-1",valDisposition:"-1",valTransportationType:"-1",valDischargeDate:null,valDischargeTime:null,valArrivalDate:null,valArrivalTime:null,valDestination:""},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeDischargeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeDischargeCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeDischargeList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateSheltereeDischarge/view.html",[],function(){return'\r\n<div id="vwBulkUpdateSheltereeDischarge">\r\n    <!--View name : vwBulkUpdateSheltereeDischarge-->\r\n    <!--Control id prefix : vwbusd-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdateSheltereeDischarge}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDiposition}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusdDdlDispositions"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.DispositionData, value:saveRequest.valDisposition"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblTransportation}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusdDdlTransportationTypes"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.TransportationTypeData, value:saveRequest.valTransportationType"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusdDischargeDate" name="vwbusdDischargeDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valDischargeDate " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusdDischargeTime" name="vwbusdDischargeTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valDischargeTime " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusdArrivalDate" name="vwbusdArrivalDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valArrivalDate" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusdArrivalTime" name="vwbusdArrivalTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valArrivalTime" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDestination}}</span>\r\n\r\n                <input type="text" class="form-element-with-label__inp" id="vwbusdDestination" name="vwbusdDestination"\r\n                       data-bind="value:saveRequest.valDestination" maxlength="250" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" id="vwbusdSave1" data-bind="click:btnSaveClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/nls/resources",{root:{headerBulkUpdateSheltereeDischarge:"BulkUpdate - Shelteree Discharge",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblDiposition:"Diposition",lblTransportation:"Transportation Type",lblDischargeDate:"Discharge Date",lblDischargeTime:"Discharge Time",lblArrivalDate:"Arrival Date",lblArrivalTime:"Arrival Time",lblDestination:"Destination"}}),define("modules/sheltereeModule/bulkUpdateSheltereeDischarge/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateSheltereeDischarge()==e&&l&&l.data.resetFields()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateSheltereeDischarge(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.resetFields(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>BulkUpdateEmployeeExpanded help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({sheltereeRequestData:{},intialize:function(){$ct.helpers.displayWorkAreaBusyCursor(),a.set("sheltereeRequestData",n.parentContext.sheltereeRequestData),$ct.ds.sheltree.sheltree.getSheltereeBulkUpdateLookup(this,function(t){$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsLookupData",t.Data.SheltereeLookupData);var i=$ct.mt.getErrorObject(t);null!=i&&(n.notify($ct.en.getShowErrorMsg(),i),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())),a.saveRequest.valDisposition="-1",a.saveRequest.valTransportationType="-1",a.saveRequest.valDischargeDate=null,a.saveRequest.valDischargeTime=null,a.saveRequest.valArrivalDate=null,a.saveRequest.valArrivalTime=null,a.saveRequest.valDestination=""})},resetFields:function(){a.intialize(),a.set("saveRequest.valDisposition","-1"),a.set("saveRequest.valTransportationType","-1"),a.set("saveRequest.valDischargeDate",null),a.set("saveRequest.valDischargeTime",null),a.set("saveRequest.valArrivalDate",null),a.set("saveRequest.valArrivalTime",null),a.set("saveRequest.valDestination","")},dsLookupData:{},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},saveRequest:{valDisposition:"-1",valTransportationType:"-1",valDischargeDate:null,valDischargeTime:null,valArrivalDate:null,valArrivalTime:null,valDestination:""},btnSaveClick:function(t){$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.bulkUpdateSheltereeData(this,function(t){$ct.helpers.hideWorkAreaBusyCursor();var a=$ct.mt.getErrorObject(t);return null!=a?void n.notify($ct.en.getShowErrorMsg(),a):(n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg()),n.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList()),void 0)})},btnCancelClick:function(t){n.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated()),e.UrlController.goTo($ct.rn.getSheltereeMedicalUpdateList())},shelterId:0});return{data:a}};return n}),define("text!modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/view.html",[],function(){return'\r\n<div id="vwBulkUpdateSheltereeMedicalUpdate">\r\n    <!--View name : vwBulkUpdateSheltereeMedicalUpdate-->\r\n    <!--Control id prefix : vwbusmu-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerBulkUpdateSheltereeMedicalUpdate}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDiposition}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusmuDdlDispositions"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.DispositionData, value:saveRequest.valDisposition"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblTransportation}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwbusmuDdlTransportationTypes"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsLookupData.TransportationTypeData, value:saveRequest.valTransportationType"\r\n                            data-text-field="Value"\r\n                            data-value-field="Key" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusmuDischargeDate" name="vwbusmuDischargeDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valDischargeDate " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDischargeTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusmuDischargeTime" name="vwbusmuDischargeTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valDischargeTime " />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalDate}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusmuArrivalDate" name="vwbusmuArrivalDate"\r\n                           data-role="datepicker"\r\n                           data-bind="value: saveRequest.valArrivalDate" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblArrivalTime}}</span>\r\n                <div class="custom-datetimepicker">\r\n                    <input id="vwbusmuArrivalTime" name="vwbusmuArrivalTime"\r\n                           data-role="timepicker"\r\n                           data-bind="value: saveRequest.valArrivalTime" />\r\n                </div>\r\n            </label>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblDestination}}</span>\r\n\r\n                <input type="text" class="form-element-with-label__inp" id="vwbusmuDestination" name="vwbusdDestination"\r\n                       data-bind="value:saveRequest.valDestination" maxlength="250" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button type="button" class="btn" id="vwbusdSave1" data-bind="click:btnSaveClick">\r\n            {{nls.btnUpdate}}\r\n        </button>\r\n        <button type="button" class="btn" data-bind="click:btnCancelClick">\r\n            {{nls.btnCancel}}\r\n        </button>\r\n    </div>\r\n\r\n</div>\r\n'}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/nls/resources",{root:{headerBulkUpdateSheltereeMedicalUpdate:"BulkUpdate - Shelteree MedicalUpdate",headerEmployee:"BulkUpdate",btnUpdate:"Update",btnCancel:"Back",lblDiposition:"Diposition",lblTransportation:"Transportation Type",lblDischargeDate:"Discharge Date",lblDischargeTime:"Discharge Time",lblArrivalDate:"Arrival Date",lblArrivalTime:"Arrival Time",lblDestination:"Destination"}}),define("modules/sheltereeModule/bulkUpdateSheltereeMedicalUpdate/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getBulkUpdateSheltereeMedicalUpdate()==e&&l&&l.data.resetFields()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getBulkUpdateSheltereeMedicalUpdate(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.resetFields(),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/downloadShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>DownloadShelteree help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/downloadShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({pageName:"Download Shelteree  page",helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},dsShelters:[],selectedShelterItem:{},initializeShelters:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor();var t=e.Data;void 0!==t&&null!==t&&t.length>0&&(a.set("dsShelters",t),a.set("selectedShelterItem",t[0]))})},btnDownloadSheltereeDataClick:function(e){n.notify($ct.en.getHideErrorMsg()),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltree.downloadSheltereeToExcel(this,function(e){if($ct.helpers.hideWorkAreaBusyCursor(),void 0!=e.Data.DownloadUrl)window.location.href=e.Data.DownloadUrl;else{var t=$ct.mt.getErrorObject(e);null!=t&&n.notify($ct.en.getShowErrorMsg(),t)}})}});return{data:a}};return n}),define("text!modules/sheltereeModule/downloadShelteree/view.html",[],function(){return'<div id="vwDownloadShelteree">\r\n    <!--View name : vwDownloadShelteree-->\r\n    <!--Control id prefix : vwds-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerDownloadShelteree}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblShelter}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwdsDdlShelters"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsShelters,value:selectedShelterItem"\r\n                            data-text-field="Name"\r\n                            data-value-field="Id"\r\n                            required />\r\n                </div>\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <div class="footer-bts-container">\r\n        <button class="btn" data-bind="click:btnDownloadSheltereeDataClick" type="button">\r\n            {{nls.btnDownloadShelteree}}\r\n        </button>\r\n    </div>\r\n</div>\r\n'}),define("modules/sheltereeModule/downloadShelteree/nls/resources",{root:{headerDownloadShelteree:"Download Shelteree",lblShelterType:"ShelterType:",lblShelter:"Shelter:",btnDownloadShelteree:"Download Shelteree"}}),define("modules/sheltereeModule/downloadShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getDownloadShelteree()==e&&l&&l.data.initializeShelters()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getDownloadShelteree(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.initializeShelters(),r.show(),i.parentContext.activeForm=$ct.rn.getDownloadShelteree(),i.notify($ct.en.getShowActiveSheltereeHeader(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/shelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1> Employee help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/shelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(t){var n=kendo.observable({demographicsTabIndex:0,medicalTabIndex:1,careRequirementsTabIndex:2,equipmentSuppliesTabIndex:3,vitalsTabIndex:4,medicationTabIndex:5,shelterIdentificationTabIndex:6,currentTabIndex:0,sheltreeTabs:[{id:0,name:"Demographics",tabClass:$ct.styles.getActiveTabClass()},{id:1,name:"Medical",tabClass:$ct.styles.getTabDisabledClass()},{id:2,name:"Care Requirements",tabClass:$ct.styles.getTabDisabledClass()},{id:3,name:"Equipment Supplies",tabClass:$ct.styles.getTabDisabledClass()},{id:4,name:"Vitals",tabClass:$ct.styles.getTabDisabledClass()},{id:5,name:"Medication",tabClass:$ct.styles.getTabDisabledClass()},{id:6,name:"Shelter Identification",tabClass:$ct.styles.getTabDisabledClass()}],tabNumberCalculation:function(){if(this.get("tabClass")==$ct.styles.getCompleteDataPresentClass())return"";var e=this.id+1;return e},setTabNumberCalculationFunctionToSheltreeTabs:function(){$.each(n.sheltreeTabs,function(e,t){t.tabNumber=n.tabNumberCalculation})},initialLoad:!1,isDemographicsActive:function(){return id=n.get("currentTabIndex"),id==n.demographicsTabIndex?!0:!1},isMedicalOrCareRequirementsOrVitalsActive:function(){return id=n.get("currentTabIndex"),id==n.medicalTabIndex||id==n.careRequirementsTabIndex||id==n.vitalsTabIndex?!0:!1},isMedicationActive:function(){return id=n.get("currentTabIndex"),id==n.medicationTabIndex?!0:!1},isShelterIdentificationActive:function(){return id=n.get("currentTabIndex"),id==n.shelterIdentificationTabIndex?!0:!1},isMedicalActive:function(){return id=n.get("currentTabIndex"),id==n.medicalTabIndex?!0:!1},isEquipmentSuppliesActive:function(){return id=n.get("currentTabIndex"),id==n.equipmentSuppliesTabIndex?!0:!1},isPreviousButtonVisible:function(){return id=n.get("currentTabIndex"),0==id?!1:!0},isNextButtonVisible:function(){return id=n.get("currentTabIndex"),id==n.sheltreeTabs.length-1?!1:!0},nextClick:function(){currentId=kendo.parseInt(n.currentTabIndex),currentId+=1,n.validateSaveCurrentTabAndMoveToNewTab(currentId)},previousClick:function(){currentId=kendo.parseInt(n.currentTabIndex),currentId-=1,n.validateSaveCurrentTabAndMoveToNewTab(currentId)},setTabClasses:function(e,t){return e.IsDemographicsExist?(t==n.demographicsTabIndex?n.set("sheltreeTabs["+n.demographicsTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsDemographicsExist?n.set("sheltreeTabs["+n.demographicsTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.demographicsTabIndex+"].tabClass",$ct.styles.getNoDataClass()),t==n.medicalTabIndex?n.set("sheltreeTabs["+n.medicalTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsMedicalConditionExist?n.set("sheltreeTabs["+n.medicalTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.medicalTabIndex+"].tabClass",$ct.styles.getNoDataClass()),t==n.careRequirementsTabIndex?n.set("sheltreeTabs["+n.careRequirementsTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsCareRequirementExist?n.set("sheltreeTabs["+n.careRequirementsTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.careRequirementsTabIndex+"].tabClass",$ct.styles.getNoDataClass()),t==n.shelterIdentificationTabIndex?n.set("sheltreeTabs["+n.shelterIdentificationTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsShelterIdentificationExist?n.set("sheltreeTabs["+n.shelterIdentificationTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.shelterIdentificationTabIndex+"].tabClass",$ct.styles.getNoDataClass()),t==n.vitalsTabIndex?n.set("sheltreeTabs["+n.vitalsTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsVitalsExist?n.set("sheltreeTabs["+n.vitalsTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.vitalsTabIndex+"].tabClass",$ct.styles.getNoDataClass()),t==n.medicationTabIndex?n.set("sheltreeTabs["+n.medicationTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsMedicationAllergyExist?n.set("sheltreeTabs["+n.medicationTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.medicationTabIndex+"].tabClass",$ct.styles.getNoDataClass()),void(t==n.equipmentSuppliesTabIndex?n.set("sheltreeTabs["+n.equipmentSuppliesTabIndex+"].tabClass",$ct.styles.getActiveTabClass()):e.IsEquipmentSupplyExist?n.set("sheltreeTabs["+n.equipmentSuppliesTabIndex+"].tabClass",$ct.styles.getCompleteDataPresentClass()):n.set("sheltreeTabs["+n.equipmentSuppliesTabIndex+"].tabClass",$ct.styles.getNoDataClass()))):(n.set("sheltreeTabs["+n.demographicsTabIndex+"].tabClass",$ct.styles.getActiveTabClass()),n.set("sheltreeTabs["+n.medicalTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()),n.set("sheltreeTabs["+n.careRequirementsTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()),n.set("sheltreeTabs["+n.equipmentSuppliesTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()),n.set("sheltreeTabs["+n.vitalsTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()),n.set("sheltreeTabs["+n.medicationTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()),void n.set("sheltreeTabs["+n.shelterIdentificationTabIndex+"].tabClass",$ct.styles.getTabDisabledClass()))},sheltreeTabClick:function(e){n.validateSaveCurrentTabAndMoveToNewTab(e.currentTarget.id)},validateSaveCurrentTabAndMoveToNewTab:function(e){if(n.isTabDataValid(n.currentTabIndex))n.saveTabDataAndGotoNewTab(n.currentTabIndex,e);else{if(n.sheltereeId==$ct.constants.getemptyGUID())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());if(!$ct.helpers.displayConfirmWindow(" Current tab has incomplete data, do you want to proceed?"))return;n.gotoNewTab(e)}},isTabDataValid:function(e){return e==n.demographicsTabIndex?n.isDemographicsDataValid():e==n.medicalTabIndex?n.isMedicalDataValid():e==n.careRequirementsTabIndex?n.isCareRequirementsDataValid():e==n.shelterIdentificationTabIndex?n.isShelterIdentyDischargeAndDispositionDataValid():e==n.equipmentSuppliesTabIndex?n.isEquipmentSuppliesDataValid():e==n.vitalsTabIndex?n.isVitalsDataValid():e==n.medicationTabIndex?n.isMedicationDataValid():void alert("Invalid tab index")},saveTabDataAndGotoNewTab:function(e,t){return e==n.demographicsTabIndex?n.saveDemographics(!1,t):e==n.medicalTabIndex?n.saveMedical(!1,t):e==n.careRequirementsTabIndex?n.saveCareRequirements(!1,t):e==n.shelterIdentificationTabIndex?n.saveShelterIdentyDischargeAndDisposition(!1,t):e==n.equipmentSuppliesTabIndex?n.saveEquipmentSupplies(!1,t):e==n.vitalsTabIndex?n.saveVitals(!1,t):e==n.medicationTabIndex?n.saveMedication(!1,t):void alert("Invalid tab index")},saveClick:function(){var e=n.currentTabIndex;return e==n.demographicsTabIndex?n.saveDemographics(!0,-1):e==n.medicalTabIndex?n.saveMedical(!0,-1):e==n.careRequirementsTabIndex?n.saveCareRequirements(!0,-1):e==n.shelterIdentificationTabIndex?n.saveShelterIdentyDischargeAndDisposition(!0,-1):e==n.equipmentSuppliesTabIndex?n.saveEquipmentSupplies(!0,-1):e==n.vitalsTabIndex?n.saveVitals(!0,-1):e==n.medicationTabIndex?n.saveMedication(!0,-1):void alert("Invalid tab index")},backClick:function(){t.notify($ct.en.getHideErrorMsg()),"sheltereelist"==t.parentContext.activeForm&&t.notify($ct.en.getSheltereeCreatedOrUpdated(),null),"sheltereemedicalupdatelist"==t.parentContext.activeForm&&t.notify($ct.en.getSheltereeMedicalUpdateCreatedOrUpdated(),null),"sheltereedischargelist"==t.parentContext.activeForm&&t.notify($ct.en.getSheltereeDischargeCreatedOrUpdated(),null),e.UrlController.goTo(t.parentContext.activeForm)},gotoNewTab:function(e){return e==n.demographicsTabIndex?n.getDemographicsById(e):e==n.medicalTabIndex?n.getMedicalById(e):e==n.careRequirementsTabIndex?n.getCareRequirementsById(e):e==n.shelterIdentificationTabIndex?n.getShelterIdentyDischargeAndDispositionById(e):e==n.equipmentSuppliesTabIndex?n.getEquipmentSuppliesById(e):e==n.vitalsTabIndex?n.getVitalsById(e):e==n.medicationTabIndex?n.getMedicationById(e):void alert("Invalid tab index")},refreshTabData:function(){n.gotoNewTab(n.currentTabIndex)},sheltereeId:$ct.constants.getemptyGUID(),shelterId:-1,fillQueryParam:function(e){n.set("sheltereeId",e.id),-1==e.shelterId?n.set("shelterId",1):n.set("shelterId",e.shelterId)},questionRespData:{},questionGroupData:[],getMedicalById:function(e){$ct.helpers.clearValidations("vwQuestionResponse"),n.set("initialLoad",!1),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getMedicalConditionsMiscellenousAndMedicalEquipment(this.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data,r=l.QuestionGroupResponse,s=[],d=r.MedicalConditionQuestionGroup;null!=d&&s.push(d);var o=r.MiscellaneousQuestionGroup;null!=o&&s.push(o);var c=r.MedicalEquipmentQuestionGroup;null!=c&&s.push(c),n.setAnswersToQuestionDefinition(s),n.addValidationsToQuestionDefinition(s),n.set("questionRespData",l),n.set("questionGroupData",s),n.setTabClasses(r.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},addValidationsToQuestionDefinition:function(e){$.each(e,function(e,t){n.addValidationToQuestionsDefinition(t.Questions)})},addValidationToQuestionsDefinition:function(e){$.each(e,function(e,t){t.hideValidation=function(){return!0},t.IsRequired&&(t.triggerValidations=!1,t.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getNumericTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getDecimalTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getTextAreaId()?t.hideValidation=function(){return this.get("triggerValidations")&&(null==this.get("Answer")||""==this.get("Answer"))?!1:!0}:t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()?t.hideValidation=function(){return this.get("triggerValidations")&&(null==this.get("Answer")||""==this.get("Answer"))?!1:!0}:t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()?t.hideValidation=function(){if(!this.get("triggerValidations"))return!0;var e=!1,t=this.get("AnswerOptions");return $.each(t,function(t,n){n.Answer&&(e=!0)}),e}:t.AnswerTypeId==$ct.ds.admin.question.getDropdownListId()?t.hideValidation=function(){return!0}:alert("Question type not found...."))})},setAnswersToQuestionDefinition:function(e){$.each(e,function(e,t){n.setAnswersToQuestionsDefinition(t.Questions)})},setAnswersToQuestionsDefinition:function(e){$.each(e,function(e,t){t.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getNumericTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getDecimalTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getTextAreaId()?t.Answer=t.AnswerOptions[0].QuestionResponse.Answer:t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()?t.Answer=t.AnswerOptions[0].QuestionResponse.Answer:t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()?$.each(t.AnswerOptions,function(e,t){""==t.QuestionResponse.Answer?t.Answer=!1:"true"==t.QuestionResponse.Answer?t.Answer=!0:"false"==t.QuestionResponse.Answer?t.Answer=!1:alert("Invalid value for check box answer")}):t.AnswerTypeId==$ct.ds.admin.question.getDropdownListId()?""==t.AnswerOptions[0].QuestionResponse.Answer?t.Answer={Id:t.AnswerOptions[0].Id}:t.Answer={Id:t.AnswerOptions[0].QuestionResponse.Answer
}:alert("Question type not found....")})},triggerValidationsForQuestionResponse:function(e){$.each(e,function(e,t){n.triggerValidationsForQuestion(t.Questions)})},triggerValidationsForQuestion:function(e){$.each(e,function(e,t){t.set("triggerValidations",!0)})},isMedicalDataValid:function(){return n.triggerValidationsForQuestionResponse(n.questionGroupData),n.isValidDataPresentForQuestion(n.questionGroupData)},isValidDataPresentForQuestion:function(e){var t=!0;return $.each(e,function(e,n){$.each(n.Questions,function(e,n){n.hideValidation()||(t=!1)})}),t},setQuestionDefinitionToAnswers:function(e){$.each(e,function(e,t){n.setQuestionsDefinitionToAnswers(t.Questions)})},setQuestionsDefinitionToAnswers:function(e){$.each(e,function(e,t){t.AnswerTypeId==$ct.ds.admin.question.getStringTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getNumericTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getDecimalTextBoxId()||t.AnswerTypeId==$ct.ds.admin.question.getTextAreaId()?t.AnswerOptions[0].QuestionResponse.Answer=t.Answer:t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceOnlyOneAnswerId()?$.each(t.AnswerOptions,function(e,n){n.QuestionResponse.Answer=t.Answer}):t.AnswerTypeId==$ct.ds.admin.question.getMultipleChoiceMultipleAnswerId()?$.each(t.AnswerOptions,function(e,t){t.QuestionResponse.Answer=t.Answer}):t.AnswerTypeId==$ct.ds.admin.question.getDropdownListId()?$.each(t.AnswerOptions,function(e,n){n.QuestionResponse.Answer=t.Answer.Id}):alert("Question type not found....")})},saveMedical:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isMedicalDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.questionGroupData.toJSON();n.setQuestionDefinitionToAnswers(i);var l=n.questionRespData.toJSON();l.QuestionGroupResponse.QuestionGroups=i,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.saveQuestionResponse(l,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getMedicalById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getMedicalById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully."))})},getCareRequirementsById:function(e){$ct.helpers.clearValidations("vwQuestionResponse"),n.set("initialLoad",!1),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getCareRequirements(this.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data,r=l.QuestionGroupResponse,s=[],d=r.CareRequirementsQuestionGroup;null!=d&&s.push(d),n.setAnswersToQuestionDefinition(s),n.addValidationsToQuestionDefinition(s),n.set("questionRespData",l),n.set("questionGroupData",s),n.setTabClasses(r.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},isCareRequirementsDataValid:function(){return n.triggerValidationsForQuestionResponse(n.questionGroupData),n.isValidDataPresentForQuestion(n.questionGroupData)},saveCareRequirements:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isCareRequirementsDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.questionGroupData.toJSON();n.setQuestionDefinitionToAnswers(i);var l=n.questionRespData.toJSON();l.QuestionGroupResponse.QuestionGroups=i,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.saveQuestionResponse(l,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getCareRequirementsById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getCareRequirementsById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully."))})},dsEquipmentSupplies:[],getEquipmentSuppliesById:function(e){n.set("initialLoad",!1),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getEquipmentSuppliesById(this.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data;null==l.SheltereeEquipmentSupplyData&&(l.SheltereeEquipmentSupplyData=[]),$.each(l.SheltereeEquipmentSupplyData,function(e,t){t.DateNeededForDisplay=null,null!=t.DateNeededValue&&(t.DateNeededForDisplay=kendo.parseDate(t.DateNeededValue))}),n.addValidationToEquipmentSupplies(l.SheltereeEquipmentSupplyData),n.set("dsEquipmentSupplies",l.SheltereeEquipmentSupplyData),n.setTabClasses(l.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},addValidationToEquipmentSupplies:function(e){$.each(e,function(e,t){t.triggerValidations=!1,t.hideValidation=function(){return this.get("triggerValidations")?!0:!0}})},triggerValidationsForEquipmentSupplies:function(e){$.each(e,function(e,t){t.set("triggerValidations",!0)})},isValidDataPresentForEquipmentSupplies:function(e){var t=!0;return $.each(e,function(e,n){n.hideValidation()||(t=!1)}),t},isEquipmentSuppliesDataValid:function(){return n.triggerValidationsForEquipmentSupplies(n.dsEquipmentSupplies),n.isValidDataPresentForEquipmentSupplies(n.dsEquipmentSupplies)},saveEquipmentSupplies:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isEquipmentSuppliesDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.dsEquipmentSupplies.toJSON();$.each(i,function(e,t){null==t.DateNeededForDisplay?t.DateNeededValue=null:t.DateNeededValue=t.DateNeededForDisplay.getMonth()+1+"/"+t.DateNeededForDisplay.getDate()+"/"+t.DateNeededForDisplay.getFullYear()});var l={};l.SheltereeId=this.sheltereeId,l.SheltereeEquipmentSupplyData=i,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.saveEquipmentSupplies(l,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getEquipmentSuppliesById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getEquipmentSuppliesById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successsfully"))})},getVitalsById:function(e){$ct.helpers.clearValidations("vwQuestionResponse"),n.set("initialLoad",!1),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getVitals(this.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data,r=l.QuestionGroupResponse,s=[],d=r.VitalsQuestionGroup;null!=d&&s.push(d),n.setAnswersToQuestionDefinition(s),n.addValidationsToQuestionDefinition(s),n.set("questionRespData",l),n.set("questionGroupData",s),n.setTabClasses(r.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},isVitalsDataValid:function(){return n.triggerValidationsForQuestionResponse(n.questionGroupData),n.isValidDataPresentForQuestion(n.questionGroupData)},saveVitals:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isVitalsDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.questionGroupData.toJSON();n.setQuestionDefinitionToAnswers(i);var l=n.questionRespData.toJSON();l.QuestionGroupResponse.QuestionGroups=i,$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.saveQuestionResponse(l,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getVitalsById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getVitalsById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully."))})},dispositionData:{},dischargeData:{},shelterIdentificationList:[],shelterIdentificationDispAndDischargeRes:{},dispositionLookUp:[],selectedDisposition:{},referredShelterLookUp:[],acceptedToMSNS:!1,selectedReferredShelterId:null,contactDate:null,dischargeDate:null,arrivalDate:null,contactTime:null,dischargeTime:null,arrivalTime:null,getShelterIdentyDischargeAndDispositionById:function(e){n.set("initialLoad",!0),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getSheltereeIdentificationDischargeAndDispositionById(this.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data;if(null===l.SheltereeDisposition&&(l.SheltereeDisposition={},l.SheltereeDisposition.IsNew=!0,l.SheltereeDisposition.SheltereeId=n.sheltereeId,l.SheltereeDisposition.DispositionId=null,l.SheltereeDisposition.ReferredShelterId=null,l.SheltereeDisposition.AcceptedToMSNS=!0,l.SheltereeDisposition.Reason="",l.SheltereeDisposition.DispositionContactPerson="",l.SheltereeDisposition.DispositionDateValue=null,l.SheltereeDisposition.DispositionTimeValue=null,l.SheltereeDisposition.Deleted=!1),null===l.SheltereeDischarge&&(l.SheltereeDischarge={},l.SheltereeDischarge.IsNew=!0,l.SheltereeDischarge.SheltereeId=n.sheltereeId,l.SheltereeDischarge.DischargeDateValue=null,l.SheltereeDischarge.DischargeTimeValue=null,l.SheltereeDischarge.ArrivalDateValue=null,l.SheltereeDischarge.ArrivalTimeValue=null,l.SheltereeDischarge.Destination="",l.SheltereeDischarge.Deleted=!1),n.set("dispositionData",l.SheltereeDisposition),n.set("dischargeData",l.SheltereeDischarge),n.set("shelterIdentificationList",l.SheltereeShelterIdentificationData),n.set("dispositionLookUp",l.DispositionLookUpData),n.set("referredShelterLookUp",l.ReferredShelterData),n.set("shelterIdentificationDispAndDischargeRes",l),null==l.SheltereeDisposition.DispositionId)n.set("selectedDisposition",l.DispositionLookUpData[0]);else{var r={};r.Key=l.SheltereeDisposition.DispositionId,n.set("selectedDisposition",r)}l.SheltereeDisposition.IsNew||null==l.SheltereeDisposition.ReferredShelterId?n.set("selectedReferredShelterId",l.ReferredShelterData[0].Key):n.set("selectedReferredShelterId",l.SheltereeDisposition.ReferredShelterId),n.set("acceptedToMSNS",l.SheltereeDisposition.AcceptedToMSNS),n.set("dischargeDate",null),null!=n.dischargeData.DischargeDateValue&&n.set("dischargeDate",kendo.parseDate(n.dischargeData.DischargeDateValue)),n.set("arrivalDate",null),null!=n.dischargeData.ArrivalDateValue&&n.set("arrivalDate",kendo.parseDate(n.dischargeData.ArrivalDateValue)),n.set("contactDate",null),null!=n.dispositionData.DispositionDateValue&&n.set("contactDate",kendo.parseDate(n.dispositionData.DispositionDateValue)),n.set("dischargeTime",null),null!=n.dischargeData.DischargeTimeValue&&n.set("dischargeTime",kendo.parseDate(n.dischargeData.DischargeTimeValue,"HH:mm")),n.set("arrivalTime",null),null!=n.dischargeData.ArrivalTimeValue&&n.set("arrivalTime",kendo.parseDate(n.dischargeData.ArrivalTimeValue,"HH:mm")),n.set("contactTime",null),null!=n.dispositionData.DispositionTimeValue&&n.set("contactTime",kendo.parseDate(n.dispositionData.DispositionTimeValue,"HH:mm")),n.setTabClasses(l.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},isShelterIdentyDischargeAndDispositionDataValid:function(){return n.set("initialLoad",!1),n.isDispositionDateValid()&&n.isDispositionTimeValid()&&n.isDischargeDateValid()&&n.isDischargeTimeValid()&&n.isArrivalDateValid()&&n.isArrivalTimeValid()&&n.isAtLeastOneShelterIdentificationSelected()?!0:!1},isDispositionDateValid:function(){return!0},isDispositionTimeValid:function(){return!0},isDischargeDateValid:function(){return!0},isDischargeTimeValid:function(){return!0},isArrivalDateValid:function(){return!0},isArrivalTimeValid:function(){return!0},isAtLeastOneShelterIdentificationSelected:function(){if(n.get("initialLoad"))return!0;var e=!1;return $.each(n.get("shelterIdentificationList"),function(t,n){n.IsSelected&&(e=!0)}),e},showMSNSChildArea:function(){return"false"==n.get("acceptedToMSNS")?!0:!1},saveShelterIdentyDischargeAndDisposition:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isShelterIdentyDischargeAndDispositionDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.shelterIdentificationDispAndDischargeRes.toJSON(),l=n.dispositionData.toJSON();if(l.DispositionId=n.selectedDisposition.Key,l.AcceptedToMSNS=n.acceptedToMSNS,n.acceptedToMSNS?l.ReferredShelterId=null:l.ReferredShelterId=n.selectedReferredShelterId,null!=n.contactDate)var r=n.contactDate.getMonth()+1+"/"+n.contactDate.getDate()+"/"+n.contactDate.getFullYear();if(null!=n.contactTime)var s=n.contactTime.getHours()+":"+n.contactTime.getMinutes();l.DispositionDateValue=r,l.DispositionTimeValue=s;var d=n.dischargeData.toJSON();if(null!=n.dischargeDate)var o=n.dischargeDate.getMonth()+1+"/"+n.dischargeDate.getDate()+"/"+n.dischargeDate.getFullYear();if(null!=n.dischargeTime)var c=n.dischargeTime.getHours()+":"+n.dischargeTime.getMinutes();if(null!=n.arrivalDate)var p=n.arrivalDate.getMonth()+1+"/"+n.arrivalDate.getDate()+"/"+n.arrivalDate.getFullYear();if(null!=n.arrivalTime)var u=n.arrivalTime.getHours()+":"+n.arrivalTime.getMinutes();d.DischargeDateValue=o,d.DischargeTimeValue=c,d.ArrivalDateValue=p,d.ArrivalTimeValue=u,i.SheltereeDisposition=l,i.SheltereeDischarge=d,i.SheltereeShelterIdentificationData=n.shelterIdentificationList.toJSON(),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.saveSheltereeIdentificationDischargeAndDisposition(i,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getShelterIdentyDischargeAndDispositionById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getShelterIdentyDischargeAndDispositionById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully"))})},sheltereeData:[],dsTransportationType:[],selectedTransportationTypeItem:{},dsParish:[],selectedParishItem:{},dsHospice:[],dsGender:[],dsCareSettings:[],hospiceIndex:1,setValidationMsgForAge:!0,DOB:null,isHospiceDisabled:!0,getDemographicsById:function(e){n.set("initialLoad",!0),$ct.helpers.clearValidations("vwsDemographics"),$ct.helpers.displayWorkAreaBusyCursor(),n.set("sheltereeData",[]),n.set("dsTransportationType",[]),n.set("selectedTransportationTypeItem",{}),n.set("dsParish",[]),n.set("selectedParishItem",{}),n.set("dsHospice",[]),n.set("dsGender",[]),n.set("dsCareSettings",[]),n.set("hospiceIndex",1),$ct.ds.sheltree.sheltreeinput.getDemographicsById(n.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data;null===l.Shelteree&&(l.Shelteree={},l.Shelteree.FacilityId=n.shelterId,l.Shelteree.FirstName="",l.Shelteree.LastName="",l.Shelteree.MiddleName="",l.Shelteree.AddressLane1="",l.Shelteree.AddressLane2="",l.Shelteree.City="",l.Shelteree.Zip="",l.Shelteree.State="",l.Shelteree.SexId=null,l.Shelteree.DateOfBirth=null,l.Shelteree.DateOfBirthValue=null,l.Shelteree.Age=0,l.Shelteree.HomePhone=null,l.Shelteree.CellPhone=null,l.Shelteree.SheltereePhysicianName="",l.Shelteree.ClinicName="",l.Shelteree.ClinicPhone=null,l.Shelteree.CareSettingsId=null,l.Shelteree.HospiceStabilityId=null,l.Shelteree.SheltereeFacilityName="",l.Shelteree.HasSignedDNR=null,l.Shelteree.ContactName="",l.Shelteree.ContactAddressLane1="",l.Shelteree.ContactAddressLane2="",l.Shelteree.ContactCity="",l.Shelteree.ContactState="",l.Shelteree.ContactCity="",l.Shelteree.ContactHomePhone=null,l.Shelteree.SectionBed="",l.Shelteree.TransportationTypeId=-1,l.Shelteree.HomeParishId=-1),n.set("sheltereeData",l),null!=l.SheltereeFacilityLookUpData&&(n.set("dsTransportationType",l.SheltereeFacilityLookUpData.TransportationTypeData),$.each(n.dsTransportationType,function(e,t){t.Key==l.Shelteree.TransportationTypeId&&n.set("selectedTransportationTypeItem",t)}),n.set("dsParish",l.SheltereeFacilityLookUpData.ParishData),$.each(n.dsParish,function(e,t){t.Key==l.Shelteree.HomeParishId&&n.set("selectedParishItem",t)}),n.set("dsHospice",l.SheltereeFacilityLookUpData.HospiceData),n.set("dsGender",l.SheltereeFacilityLookUpData.GenderData),n.set("dsCareSettings",l.SheltereeFacilityLookUpData.CareSettingsData),$.each(n.dsCareSettings,function(e,t){"Hospice"==t.Value&&n.set("hospiceIndex",t.Key)}));var r=$("#vwsdDateOfBirth").data("kendoDatePicker");r.max(new Date),null!=n.sheltereeData.Shelteree.DateOfBirthValue?n.set("DOB",kendo.parseDate(n.sheltereeData.Shelteree.DateOfBirthValue)):(n.set("DOB",new Date),n.set("DOB",null)),n.sheltereeData.Shelteree.CareSettingsId==n.hospiceIndex&&n.set("isHospiceDisabled",!1),n.setTabClasses(l.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},enableHospiceOnChange:function(){n.set("sheltereeData.Shelteree.HospiceStabilityId",-1),n.get("sheltereeData.Shelteree.CareSettingsId")==n.hospiceIndex?n.set("isHospiceDisabled",!1):n.set("isHospiceDisabled",!0)},caliculateAge:function(){dob=n.get("DOB");var e=new Date,t=Math.floor((e-dob)/315576e5);n.set("sheltereeData.Shelteree.Age",t),0==t&&n.set("sheltereeData.Shelteree.Age","0")},trimWhiteSpaces:function(){this.sheltereeData.Shelteree.set("FirstName",$.trim(this.sheltereeData.Shelteree.FirstName)),this.sheltereeData.Shelteree.set("LastName",$.trim(this.sheltereeData.Shelteree.LastName)),this.sheltereeData.Shelteree.set("MiddleName",$.trim(this.sheltereeData.Shelteree.MiddleName)),this.sheltereeData.Shelteree.set("AddressLane1",$.trim(this.sheltereeData.Shelteree.AddressLane1)),this.sheltereeData.Shelteree.set("AddressLane2",$.trim(this.sheltereeData.Shelteree.AddressLane2)),this.sheltereeData.Shelteree.set("City",$.trim(this.sheltereeData.Shelteree.City)),this.sheltereeData.Shelteree.set("Zip",$.trim(this.sheltereeData.Shelteree.Zip)),this.sheltereeData.Shelteree.set("State",$.trim(this.sheltereeData.Shelteree.State)),this.sheltereeData.Shelteree.set("SheltereePhysicianName",$.trim(this.sheltereeData.Shelteree.SheltereePhysicianName)),this.sheltereeData.Shelteree.set("ClinicName",$.trim(this.sheltereeData.Shelteree.ClinicName)),this.sheltereeData.Shelteree.set("ContactAddressLane1",$.trim(this.sheltereeData.Shelteree.ContactAddressLane1)),this.sheltereeData.Shelteree.set("ContactAddressLane2",$.trim(this.sheltereeData.Shelteree.ContactAddressLane2)),this.sheltereeData.Shelteree.set("ContactCity",$.trim(this.sheltereeData.Shelteree.ContactCity)),this.sheltereeData.Shelteree.set("ContactState",$.trim(this.sheltereeData.Shelteree.ContactState)),this.sheltereeData.Shelteree.set("ContactCity",$.trim(this.sheltereeData.Shelteree.ContactCity)),this.sheltereeData.Shelteree.set("FacilityName",$.trim(this.sheltereeData.Shelteree.FacilityName))},setClassForSex:function(){return null==n.get("sheltereeData.Shelteree.SexId")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():"emptycolor"},setValidationMsgForSex:function(){return null==n.get("sheltereeData.Shelteree.SexId")&&0==n.get("initialLoad")?!1:!0},setClassForCareSettings:function(){return null==n.get("sheltereeData.Shelteree.CareSettingsId")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():"emptycolor"},setValidationMsgForCareSettings:function(){return null==n.get("sheltereeData.Shelteree.CareSettingsId")&&0==n.get("initialLoad")?!1:!0},setValidationMsgForHospice:function(){return null!=n.get("sheltereeData.Shelteree.HospiceStabilityId")&&-1!=n.get("sheltereeData.Shelteree.HospiceStabilityId")||0!=n.get("initialLoad")||0!=n.get("isHospiceDisabled")?!0:!1},setValidationMsgForHasSigned:function(){return null==n.get("sheltereeData.Shelteree.HasSignedDNR")&&0==n.get("initialLoad")?!1:!0},setClassForTransportationType:function(){return-1==n.get("selectedTransportationTypeItem.Key")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForTransportationType:function(){return-1==n.get("selectedTransportationTypeItem.Key")&&0==n.get("initialLoad")?!1:!0},setClassForHomeParish:function(){return-1==n.get("selectedParishItem.Key")&&0==n.get("initialLoad")?$ct.styles.getDataInvalidClass():$ct.styles.getRemoveInvalidDataBorder()},setValidationMsgForHomeParish:function(){return-1==n.get("selectedParishItem.Key")&&0==n.get("initialLoad")?!1:!0},isDateOfBirthValid:function(){if(n.get("initialLoad"))return!0;var e=n.get("DOB");return""==e||null==e?!1:!0},isDemographicsDataValid:function(){n.trimWhiteSpaces(),n.set("initialLoad",!1);var e=$("#vwsDemographics").kendoValidator().data("kendoValidator");return e.validate()?null==n.get("sheltereeData.Shelteree.SexId")||null==n.get("sheltereeData.Shelteree.CareSettingsId")||null==n.get("sheltereeData.Shelteree.HasSignedDNR")||-1==n.get("selectedTransportationTypeItem.Key")||-1==n.get("selectedParishItem.Key")||null==n.get("DOB")?!1:!0:!1},saveDemographics:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isDemographicsDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i={};if(n.set("sheltereeData.Shelteree.TransportationTypeId",n.get("selectedTransportationTypeItem.Key")),n.set("sheltereeData.Shelteree.HomeParishId",n.get("selectedParishItem.Key")),i.Shelteree=n.sheltereeData.Shelteree.toJSON(),i.SheltereeId=n.sheltereeId,n.hospiceIndex!=i.Shelteree.CareSettingsId&&(i.Shelteree.HospiceStabilityId=null),null!=n.DOB)var l=n.DOB.getMonth()+1+"/"+n.DOB.getDate()+"/"+n.DOB.getFullYear();i.Shelteree.DateOfBirthValue=l,$ct.ds.sheltree.sheltreeinput.saveDemographics(i,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getDemographicsById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(n.set("sheltereeId",i.Data.SheltereeId),e?n.getDemographicsById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully."))})},allergyDescriptionLength:4e3,sheltereeMedication:{},sheltereeMedications:[],originalSheltereeMedications:[],sheltereeMedicationAllergy:{},getMedicationById:function(e){$ct.helpers.clearValidations("vwsMedication"),n.set("initialLoad",!1),$ct.helpers.displayWorkAreaBusyCursor(),$ct.ds.sheltree.sheltreeinput.getMedicationById(n.sheltereeId,function(a){var i=$ct.mt.getErrorObject(a);if(null!=i)return t.notify($ct.en.getShowErrorMsg(),i),void n.set("currentTabIndex",e);var l=a.Data,r={};if(r.SheltereeId=n.sheltereeId,r.Id=-1,r.DrugName="",r.Dosage="",r.Frequency="",r.LastTimeUsed=null,r.LastTimeUsedValue="",r.DisplayOrder=-1,r.Deleted=!1,r.Version=1,r.triggerValidations=!1,n.set("sheltereeMedication",r),null==l.SheltereeMedications?(n.set("sheltereeMedications",[]),n.set("originalSheltereeMedications",[])):($.each(l.SheltereeMedications,function(e,t){null==t.LastTimeUsedValue&&(t.LastTimeUsedValue="")}),n.set("sheltereeMedications",l.SheltereeMedications),n.set("originalSheltereeMedications",l.SheltereeMedications)),null==l.SheltereeMedicationAllergy){var s={};s.IsNew=!0,s.SheltereeId=n.sheltereeId,s.Allergies="",s.Deleted=!1,s.Version=1,n.set("sheltereeMedicationAllergy",s)}else n.set("sheltereeMedicationAllergy",l.SheltereeMedicationAllergy);n.addMedication(),n.setTabClasses(l.SheltereeDependentFlagData,e),n.set("currentTabIndex",e),$ct.helpers.hideWorkAreaBusyCursor()})},addMedication:function(){var e=function(){return this.get("triggerValidations")&&""==$.trim(this.get("DrugName"))?!1:!0},t=function(){return this.get("triggerValidations")?!0:!0},a=function(){return this.set("triggerValidations",!0),this.isMedicationNameValid()&&this.isLastTimeUsedValid()?!0:!1},i=n.sheltereeMedication.toJSON();i.isMedicationNameValid=e,i.isLastTimeUsedValid=t,i.isMedicationRecordValid=a;var l=0;$.each(n.sheltereeMedications,function(e,t){l<t.DisplayOrder&&(l=t.DisplayOrder)}),i.DisplayOrder=l+1,n.get("sheltereeMedications").unshift(i)},btnAddMedicationClick:function(){var e=n.get("sheltereeMedications")[0];return e.isMedicationRecordValid()?(null!=e.LastTimeUsed&&e.set("LastTimeUsedValue",e.LastTimeUsed.getMonth()+1+"/"+e.LastTimeUsed.getDate()+"/"+e.LastTimeUsed.getFullYear()),e.set("Id",0),n.get("sheltereeMedications").splice(0,1),n.get("sheltereeMedications").unshift(e.toJSON()),n.addMedication(),void 0):void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg())},btnMedicationDeleteClick:function(e){var t=-1;$.each(n.sheltereeMedications,function(n,a){a.DisplayOrder==e.data.DisplayOrder&&(t=n)}),-1!=t?n.get("sheltereeMedications").splice(t,1):alert("Object not found ")},isMedicationDataValid:function(){n.set("initialLoad",!1);var e=$("#vwsMedication").kendoValidator().data("kendoValidator");return e.validate()?n.sheltereeMedications[0].triggerValidations&&!n.sheltereeMedications[0].isMedicationRecordValid()?!1:!0:!1},saveMedication:function(e,a){if(t.notify($ct.en.getHideErrorMsg()),!n.isMedicationDataValid())return void t.notify($ct.en.getShowValidationMsg(),$ct.msg.getValidationMsg());var i=n.sheltereeMedications.toJSON();i.splice(0,1),$.each(n.originalSheltereeMedications,function(e,t){var a=!1;$.each(n.sheltereeMedications,function(e,n){t.Id==n.Id&&(a=!0)}),a||(t.Deleted=!0,i.push(t.toJSON()))});var l={};l.SheltereeId=n.sheltereeId,l.SheltereeMedications=i,l.SheltereeMedicationAllergy=n.sheltereeMedicationAllergy.toJSON(),t.notify($ct.en.getHideErrorMsg()),$ct.ds.sheltree.sheltreeinput.saveMedication(l,function(i){if($ct.helpers.hideWorkAreaBusyCursor(),$ct.mt.isVersionConflict(i))return void($ct.helpers.displayConfirmWindow($ct.msg.getVersionConflictReloadMsg())&&n.getMedicationById(n.currentTabIndex));var l=$ct.mt.getErrorObject(i);return null!=l?void t.notify($ct.en.getShowErrorMsg(),l):(e?n.getMedicationById(n.currentTabIndex):n.gotoNewTab(a),void t.notify($ct.en.getShowSuccMsg(),"Data saved successfully"))})}});return{data:n}};return n}),define("text!modules/sheltereeModule/shelteree/view.html",[],function(){return'<div id="vwShelteree">\r\n    <!--View name : vwShelteree-->\r\n    <!--Control id prefix : vws-->\r\n    <!--for demographics : vwsd\r\n    for medical condition : vwsmc\r\n    for care requirements : vwscr\r\n    for equipment supply : vwses\r\n    for medication : vwsm\r\n    for disposition : vwsdisp \r\n    for discharge : vwsdc\r\n    for shelter identification : vwssi\r\n    for vitals :vwsv-->\r\n    \r\n\r\n    <script type="text/x-kendo-template" id="vwsNavigationRow-template">\r\n\r\n        <li  id=#:id# data-bind="attr:{class:tabClass},click:sheltreeTabClick">\r\n            <div class="sheltree-navigation__title" data-bind="text:name"></div>\r\n            <span data-bind="text:tabNumber"></span>\r\n        </li>\r\n\r\n    </script>\r\n\r\n\r\n\r\n    <div class="module">\r\n\r\n        <h2 class="module-title">Shelteree input</h2>\r\n\r\n        <ul class="sheltree-navigation" data-template="vwsNavigationRow-template" data-bind="source:sheltreeTabs"></ul>\r\n\r\n        <div id="vwsDemographics" data-bind="visible:isDemographicsActive" > \r\n\r\n            <div class="module-section">\r\n\r\n                <h2 class="module-section__title">{{nls.lblPersonalDetails}}</h2>\r\n\r\n                <div class="module-container l--three-column">\r\n                    <div class="column-one">\r\n\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblFirstName}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                                   id="vwsdTbFirstName" name="vwsdTbFirstName" required\r\n                                   validationmessage="{{nls.valmsgFNRequired}}"\r\n                                   data-bind="value:sheltereeData.Shelteree.FirstName" />\r\n                            <span class="k-invalid-msg" data-for="vwsdTbFirstName"></span>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div class="column-two">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblMiddleName}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" id="vwsdTbMiddleName"\r\n                                   name="vwsdTbMiddleName" data-bind="value:sheltereeData.Shelteree.MiddleName" maxlength="2" />\r\n\r\n                        </label>\r\n                    </div>\r\n                    <div class="column-three">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblLastName}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" id="vwsdTbLastName"\r\n                                   name="vwsdTbLastName" required validationmessage="{{nls.valmsgLNRequired}}" data-bind="value:sheltereeData.Shelteree.LastName" maxlength="100" />\r\n                            <span class="k-invalid-msg" data-for="vwsdTbLastName"></span>\r\n                        </label>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <label class="form-element-with-label-full">\r\n                    <span class="form-element-with-label__text">{{nls.lblAddress1}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                           id="vwsdTbAddress1" name="vwsdTbAddress1" required validationmessage="{{nls.valmsgAddress1Required}}"\r\n                           data-bind="value:sheltereeData.Shelteree.AddressLane1" />\r\n                    <span class="k-invalid-msg" data-for="vwsdTbAddress1"></span>\r\n\r\n                </label>\r\n                <label class="form-element-with-label-full">\r\n                    <span class="form-element-with-label__text">{{nls.lblAddress2}}</span>\r\n                    <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                           id="vwsdTbAddress2" name="vwsdTbAddress2"\r\n                           data-bind="value:sheltereeData.Shelteree.AddressLane2" />\r\n\r\n                </label>\r\n                <div class="module-container l--three-column">\r\n                    <div class="column-one">\r\n\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblCity}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                                   id="vwsdTbCity" name="vwsdTbCity" required validationmessage="{{nls.valmsgCityRequired}}"\r\n                                   data-bind="value:sheltereeData.Shelteree.City" />\r\n                            <span class="k-invalid-msg" data-for="vwsdTbCity"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div class="column-two">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblZip}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" id="vwsdTbZip" required validationmessage="{{nls.valmsgZipRequired}}"\r\n                                   name="vwsdTbZip" data-bind="value:sheltereeData.Shelteree.Zip" maxlength="10" />\r\n                            <span class="k-invalid-msg" data-for="vwsdTbZip"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div class="column-three">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblState}}</span>\r\n                            <input type="text" class="form-element-with-label__inp" id="vwsdTbState"\r\n                                   required validationmessage="{{nls.valmsgStateRequired}}"\r\n                                   name="vwsdTbState" data-bind="value:sheltereeData.Shelteree.State" maxlength="50" />\r\n                            <span class="k-invalid-msg" data-for="vwsdTbState"></span>\r\n                        </label>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="module-container l--three-column">\r\n                    <div class="column-one">\r\n\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblModeOfTransportation}}</span>\r\n                            <div class="custom-select" data-bind="attr: { class: setClassForTransportationType, className:setClassForTransportationType}">\r\n                                <select id="vwsdDdlTransportation"\r\n                                        data-role="dropdownlist"\r\n                                        data-bind="source:dsTransportationType,value:selectedTransportationTypeItem"\r\n                                        data-text-field="Value"\r\n                                        data-value-field="Key" required />\r\n                               \r\n                                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForTransportationType">\r\n                                    Please select Mode Of Transportation\r\n                                </span>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n\r\n\r\n                    <div class="column-two">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblHomeParish}}</span>\r\n                            <div class="custom-select" data-bind="attr: { class: setClassForHomeParish, className:setClassForHomeParish}">\r\n                                <select id="vwsdTbParish"\r\n                                        data-role="dropdownlist"\r\n                                        data-bind="source:dsParish,value:selectedParishItem"\r\n                                        data-text-field="Value"\r\n                                        data-value-field="Key" required />\r\n                                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForHomeParish">\r\n                                    Please select Parish\r\n\r\n                                </span>\r\n                            </div>\r\n\r\n                        </label>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n                <div class="module-container l--three-column">\r\n                    <div class="column-one">\r\n\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblDOB}}</span>\r\n\r\n                            <input id="vwsdDateOfBirth" name="vwsdDateOfBirth" class="form-element-with-label__inp"\r\n                                   data-role="datepicker"\r\n                                   data-bind="value:DOB,events:{change:caliculateAge}" />\r\n                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:isDateOfBirthValid">\r\n                                Date of Birth is required\r\n                            </span>\r\n                           \r\n                        </label>\r\n                    </div>\r\n                    <div class="column-two">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblAge}}</span>\r\n                            <span type="text" id="vwsdTbAge" name="vwsdTbAge"\r\n                                  data-bind="text:sheltereeData.Shelteree.Age">\r\n                            </span>\r\n\r\n                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForAge">\r\n                                <span class="k-icon k-warning"></span>\r\n                                Less than One Year\r\n                            </span>\r\n                        </label>\r\n                    </div>\r\n                    <div class="column-three">\r\n                        <div class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblSex}}</span>\r\n                            <span data-bind="attr: { class: setClassForSex, className: setClassForSex }">\r\n                                <ul class="form-list-inline" data-template="vwsdGenderRow-template" data-bind="source:dsGender"></ul>\r\n                            </span>\r\n                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForSex">\r\n                               \r\n                                Please select Gender\r\n                            </span>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="module-container l--three-column">\r\n                    <div class="column-one">\r\n\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblHomePhone}}</span>\r\n\r\n                            <input data-role="maskedtextbox" class="form-element-with-label__inp" data-mask="(999) 000-0000" name="vwsdTbHomePhone" id="vwsdTbHomePhone"\r\n                                   data-bind="value: sheltereeData.Shelteree.HomePhone" style="width:100%;">\r\n\r\n                        </label>\r\n                    </div>\r\n                    <div class="column-two">\r\n                        <label class="form-element-with-label">\r\n                            <span class="form-element-with-label__text">{{nls.lblCell}}</span>\r\n                            <input data-role="maskedtextbox" class="form-element-with-label__inp" data-mask="(999) 000-0000" name="vwsdTbCellPhone" id="vwsdTbCellPhone"\r\n                                   data-bind="value: sheltereeData.Shelteree.CellPhone" style="width:100%;">\r\n\r\n                        </label>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                <div class="module-section">\r\n                    <h2 class="module-section__title">{{nls.lblPhysicianDetails}}</h2>\r\n\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">Physician Name</span>\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                               id="vwsdTbPhysicianName" name="vwsdTbPhysicianName" required validationmessage="{{nls.valmsgPhysicianNameRequired}}"\r\n                               data-bind="value:sheltereeData.Shelteree.SheltereePhysicianName" />\r\n                        <span class="k-invalid-msg" data-for="vwsdTbPhysicianName"></span>\r\n\r\n                    </label>\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">{{nls.lblClinicName}}</span>\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                               id="vwsdTbClinicName" name="vwsdTbClinicName" required validationmessage="{{nls.valmsgClinicNameRequired}}"\r\n                               data-bind="value:sheltereeData.Shelteree.ClinicName" />\r\n                        <span class="k-invalid-msg" data-for="vwsdTbClinicName"></span>\r\n\r\n                    </label>\r\n                    <div class="module-container l--three-column">\r\n                        <div class="column-one">\r\n\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblHomePhone}}</span>\r\n                                <input data-role="maskedtextbox" class="form-element-with-label__inp" id="vwsdTbClinicPhoneNumber" name="vwsdTbPhoneNumber"\r\n                                       data-bind="value:sheltereeData.Shelteree.ClinicPhone " data-mask="(999) 000-0000" style="width:100%;">\r\n\r\n                            </label>\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblSectionBed}}</span>\r\n                                <input type="text" class="form-element-with-label__inp"  maxlength="50"\r\n                                       data-bind="value: sheltereeData.Shelteree.SectionBed" style="width:100%;">\r\n\r\n                            </label>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                    <div class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">{{nls.lblCareSettings}}</span>\r\n                            <ul class="form-list" data-template="vwsCareSettingsRow-template" data-bind="source:dsCareSettings"></ul>\r\n\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForCareSettings">\r\n                            \r\n                            Please select CareSettings\r\n                        </span>\r\n                    </div>\r\n                    <div  class="form-element-with-label-full">\r\n\r\n                        <div style="color:#e53935;">User must select either "stable" or "unstable" if selection is hospice</div>\r\n\r\n                            \r\n                        <ul class="form-list-alertmsg" data-template="vwsdHospiceRow-template" data-bind="source:dsHospice"></ul>\r\n\r\n                       \r\n\r\n\r\n                        <span  style="color:#e53935;" data-bind="invisible:setValidationMsgForHospice">\r\n\r\n                            Please select Hospice stability\r\n                        </span>\r\n\r\n                        <!--<span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForHospice">\r\n                           \r\n                            Please select Hospice stability\r\n                        </span>-->\r\n                    </div>\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">{{nls.lblFacilityName}}</span>\r\n\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                               id="vwsdTbFacilityName" name="vwsdTbFacilityName"\r\n                               required validationmessage="{{nls.valmsgFacilityNameRequired}}"\r\n                               data-bind="value:sheltereeData.Shelteree.SheltereeFacilityName" />\r\n                        <span class="k-invalid-msg" data-for="vwsdTbFacilityName"></span>\r\n                    </label>\r\n                    <div class="form-element-with-label">\r\n\r\n                            <span class="form-element-with-label__text">{{nls.lblHasSigned}}<span style="color:#e53935;">(If yes must have DNR Copy on hand)</span></span>\r\n                            <ul class="form-list-inline">\r\n                                <li>\r\n                                    <label class="radio-button">\r\n                                        <input class="radio-button__inp" name="vwsdRbHasSignedDNR" type="radio"\r\n                                               value="true" data-bind="checked:sheltereeData.Shelteree.HasSignedDNR">\r\n                                        <span class="radio-button__text">Yes</span>\r\n                                    </label>\r\n                                </li>\r\n                                <li>\r\n                                    <label class="radio-button">\r\n                                        <input class="radio-button__inp" name="vwsdRbHasSignedDNR" type="radio"\r\n                                               value="false" data-bind="checked: sheltereeData.Shelteree.HasSignedDNR">\r\n                                        <span class="radio-button__text">No</span>\r\n                                    </label>\r\n                                </li>\r\n\r\n                            </ul>\r\n\r\n                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible:setValidationMsgForHasSigned">\r\n\r\n                            Please select Has Signed DNR\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class="module-section">\r\n                    <h2 class="module-section__title">ContactPerson</h2>\r\n\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">Name</span>\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                               id="vwsdTbContactName" name="vwsdTbContactName"\r\n                               data-bind="value:sheltereeData.Shelteree.ContactName" />\r\n\r\n                    </label>\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">{{nls.lblAddress1}}</span>\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                               id="vwsdTbContactAddressLane1" name="vwsdTbContactAddressLane1"\r\n                               data-bind="value:sheltereeData.Shelteree.ContactAddressLane1" />\r\n                        <span class="k-invalid-msg" data-for="vwsdTbContactAddressLane1"></span>\r\n                    </label>\r\n                    <label class="form-element-with-label-full">\r\n                        <span class="form-element-with-label__text">{{nls.lblAddress2}}</span>\r\n                        <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                               id="vwsdTbContactAddressLane2" name="vwsdTbContactAddressLane2"\r\n                               data-bind="value:sheltereeData.Shelteree.ContactAddressLane2" />\r\n\r\n                    </label>\r\n                    <div class="module-container l--three-column">\r\n                        <div class="column-one">\r\n\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblCity}}</span>\r\n                                <input type="text" class="form-element-with-label__inp" maxlength="100"\r\n                                       id="vwsdTbContactCity" name="vwsdTbContactCity"\r\n                                       data-bind="value:sheltereeData.Shelteree.ContactCity" />\r\n\r\n                            </label>\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblZip}}</span>\r\n                                <input type="text" class="form-element-with-label__inp" id="vwsdTbContactZip"\r\n                                       name="vwsdTbContactZip" data-bind="value:sheltereeData.Shelteree.ContactZip" maxlength="250" />\r\n                                <span class="k-invalid-msg" data-for="vwsdTbContactZip"></span>\r\n                            </label>\r\n                        </div>\r\n                        <div class="column-three">\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblState}}</span>\r\n                                <input type="text" class="form-element-with-label__inp" id="vwsdTbContactState"\r\n                                       name="vwsdTbContactState" data-bind="value:sheltereeData.Shelteree.ContactState" maxlength="50" />\r\n                                <span class="k-invalid-msg" data-for="vwsdTbContactState"></span>\r\n                            </label>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class="module-container l--three-column">\r\n                        <div class="column-one">\r\n\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblHomePhone}}</span>\r\n\r\n                                <input data-role="maskedtextbox" class="form-element-with-label__inp"\r\n                                       data-bind="value:sheltereeData.Shelteree.ContactHomePhone" data-mask="(999) 000-0000" style="width:100%;">\r\n\r\n                            </label>\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <span class="form-element-with-label__text">{{nls.lblCell}}</span>\r\n\r\n                                <input data-role="maskedtextbox" class="form-element-with-label__inp"\r\n                                       data-bind="value:sheltereeData.Shelteree.ContactCellPhone" data-mask="(999) 000-0000" style="width:100%;">\r\n\r\n                            </label>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        <div class="module-container" data-bind="visible:isMedicalOrCareRequirementsOrVitalsActive">\r\n\r\n                <div  class="module-section" data-template="vwqrSection-template" data-bind="source:questionGroupData">\r\n                </div>\r\n\r\n        </div>\r\n\r\n        <!--<div class="module-container" data-bind="visible:isCareRequirementsActive">\r\n\r\n            <div class="module-section" data-template="vwqrSection-template" data-bind="source:questionGroupData">\r\n            </div>\r\n\r\n        </div>-->\r\n\r\n\r\n\r\n        <div class="module-container" id="vwsMedication" data-bind="visible:isMedicationActive">\r\n            <!--\r\n            <div class="gridsearch">\r\n                <div class="gridsearch__search-col">\r\n                    <label class="search-label">\r\n\r\n                        <input type="text"\r\n                                class="search-label__inp"\r\n                                id="vwstlTxtSearch"\r\n                                placeholder="Search"\r\n                                data-bind="value:searchToken,events:{keyup:seachStafftypes}"\r\n                                data-value-update="keyup" />\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        -->\r\n\r\n            <div>\r\n                <div class="k-grid k-widget" style="margin-bottom:15px">\r\n                    <section class="k-grid-header" style="padding-right:16px">\r\n\r\n                        <div class="k-grid-header-wrap k-auto-scrollable">\r\n                            <div class="k-auto-scrollable k-grid-content">\r\n                                <table class="grid split-table rwd-table1 k-selectable">\r\n\r\n                                    <thead role="rowgroup">\r\n                                        <tr role="row">\r\n\r\n                                            <th class="k-header">\r\n                                                Drug Name\r\n                                            </th>\r\n                                            <th class="k-header">\r\n                                                Dosage\r\n                                            </th>\r\n                                            <th class="k-header">\r\n\r\n                                                Frequency\r\n                                            </th>\r\n                                            <th class="k-header">\r\n\r\n                                                Last Time Used\r\n                                            </th>\r\n                                            <th class="k-header">\r\n\r\n                                            </th>\r\n                                        </tr>\r\n\r\n\r\n                                    </thead>\r\n\r\n                                    <tbody data-template="vwsmMedicationRow-template" data-bind="source:sheltereeMedications"></tbody>\r\n\r\n                                </table>\r\n                            </div>\r\n                    </div>\r\n\r\n                    </section>\r\n\r\n\r\n                </div>\r\n\r\n\r\n\r\n                <div class="form-element-with-label-full">\r\n\r\n                    <span class="form-element-with-label__text">Allergies</span>\r\n                    <textarea id="vwsmTaDescription" name="vwsmTaDescription" class="form-element-with-label__inp"\r\n                              data-bind="value:sheltereeMedicationAllergy.Allergies, attr:{maxlength: allergyDescriptionLength} "\r\n                              required  validationmessage= "Allergies required" rows="5"></textarea>\r\n                    <span class="k-invalid-msg" data-for="vwsmTaDescription"></span>\r\n                \r\n                \r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n        <!--<div data-template="careRequirements-template" data-bind="source:dsCareRequirements,visible:isCareRequirementsActive"></div>-->\r\n        <div  data-bind="visible:isEquipmentSuppliesActive">\r\n\r\n            <div class="k-grid k-widget" style="margin-bottom:15px">\r\n                <section class="k-grid-header" style="padding-right:16px">\r\n\r\n                    <div class="k-grid-header-wrap k-auto-scrollable">\r\n                        <div class="k-auto-scrollable k-grid-content">\r\n                            \r\n                            <table  class="grid split-table rwd-table1 k-selectable">\r\n\r\n                                <thead role="rowgroup">\r\n                                    <tr role="row">\r\n                                        <th class="k-header">\r\n                                            Equipment Supply Name\r\n                                        </th>\r\n                                        <th class="k-header">\r\n                                            Need\r\n                                        </th>\r\n                                        <th class="k-header">\r\n                                            Have\r\n                                        </th>\r\n                                        <th class="k-header">\r\n                                            Date Needed\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody data-template="vwsesRow-template" data-bind="source:dsEquipmentSupplies"></tbody>\r\n\r\n\r\n                            </table>\r\n\r\n                        </div>\r\n\r\n                        </div>\r\n\r\n                </section>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div  class="module-container" data-bind="visible:isShelterIdentificationActive">\r\n\r\n            <div class="module-section">\r\n\r\n                <div class="module-section__title">{{nls.headingShelterIdentification}}</div>\r\n                <div class="shelter-identification">\r\n\r\n                    <div class="form-element-with-label-full">\r\n\r\n                        <div class="module-container l--two-column">\r\n                            <div class="column-one">\r\n                                <span class="form-element-with-label__text">{{nls.lblShelterIdentification}}</span>\r\n                            </div>\r\n                            <div class="column-two">\r\n                                <div class="form-element-with-label-full">\r\n\r\n                                    <ul class="form-list" data-template="vwssiRow-template" data-bind="source:shelterIdentificationList"></ul>\r\n                                    <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isAtLeastOneShelterIdentificationSelected">{{nls.valmsgshelteridentification}}</span>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class="module-section__title">{{nls.headingShelterDisposition}}</div>\r\n                <div class="disposition">\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblAccepted}}</span>\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <div class="form-element-with-label">\r\n                                <ul class="form-list-horizontal-accepted" data-template="vwsdisRow-template-accept">\r\n                                    <li>\r\n                                        <label class="radio-button">\r\n                                            <input class="radio-button__inp" name="vwssiRbAcceptedToMSNS" type="radio"\r\n                                                   value="true" data-bind="checked:acceptedToMSNS">\r\n                                            <span class="radio-button__text">Yes</span>\r\n                                        </label>\r\n                                    </li>\r\n                                    <li>\r\n                                        <label class="radio-button">\r\n                                            <input class="radio-button__inp" name="vwssiRbAcceptedToMSNS" type="radio"\r\n                                                   value="false" data-bind="checked: acceptedToMSNS">\r\n                                            <span class="radio-button__text">No</span>\r\n                                        </label>\r\n                                    </li>\r\n                                </ul>\r\n                                <span class="disposition__accepted-text">{{nls.lbltext}}</span>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class="module-container l--two-column" style="margin-top:-10px;">\r\n                        \r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblSelectone}}</span>\r\n                        </div>\r\n\r\n                        <div class="column-two">\r\n                            <div class="form-element-with-label">\r\n                                <ul class="form-list-horizontal-notaccepted" data-template="vwssiRowReferredShelterLookUp-template" data-bind="source:referredShelterLookUp, visible:showMSNSChildArea">\r\n                                </ul> \r\n                                \r\n                                <!--<span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert">\r\n                                    <span class="k-icon k-warning"></span>Please select one option\r\n                                </span>-->\r\n                                                            \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblReason}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                                       id="vwsdispTbReason" name="vwsdispTbReason"\r\n                                       data-bind="value:dispositionData.Reason" />\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblContactPerson}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                                       id="vwsdispTbContact" name="vwsdispTbContact"\r\n                                       data-bind="value:dispositionData.DispositionContactPerson" />\r\n                            </label>\r\n                        </div>\r\n                    </div> \r\n                    \r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblDisposition}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <select id="vwssiDdlShelters" class="inputClassSelect"\r\n                                        data-role="dropdownlist"\r\n                                        data-bind="source:dispositionLookUp,value:selectedDisposition"\r\n                                        data-text-field="Value"\r\n                                        data-value-field="Key" required />\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblDateandtime}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <div class="module-container l--two-column-datetimepickers">\r\n                                <div class="column-one">\r\n                                    <div class="custom-datetimepicker inlinedate-time ">\r\n                                        <input id="vwsdispContactDate" name="vwsdispContactDate" data-role="datepicker" data-bind="value:contactDate" />\r\n                                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isDispositionDateValid">{{nls.vldmsgDateRequired}}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div class="column-two">\r\n                                    <label class="form-element-with-label">\r\n                                        <div class="custom-datetimepicker inlinedate-time">\r\n                                            <input id="vwsdispContactTime" name="vwsdispContactTime" data-role="timepicker" data-bind="value:contactTime" />\r\n                                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isDispositionTimeValid">{{nls.vldmsgTimeRequired}}</span>\r\n                                        </div>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                     \r\n                </div>\r\n\r\n                <div class="module-section__title">{{nls.headingDischarge}}</div>\r\n                <div class="discharge">\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblDischargeDateTime}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <div class="module-container l--two-column-datetimepickers">\r\n                                <div class="column-one">\r\n                                    <div class="custom-datetimepicker inlinedate-time">\r\n                                        <input id="vwsdcDischargeDate" name="vwsdisDischargeDate" data-role="datepicker" data-bind="value:dischargeDate" />\r\n                                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isDischargeDateValid">{{nls.valmsgDischagedateRequired}}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div class="column-two">\r\n                                    <label class="form-element-with-label">\r\n                                        <div class="custom-datetimepicker inlinedate-time">\r\n                                            <input id="vwsdcDischargeTime" data-role="timepicker" data-bind="value: dischargeTime" />\r\n                                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isDischargeTimeValid">{{nls.valmsgDischagetimeRequired}}</span>\r\n                                        </div>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblArrivalDateTime}}</span>\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <div class="module-container l--two-column-datetimepickers">\r\n                                <div class="column-one">\r\n                                    <div class="custom-datetimepicker inlinedate-time">\r\n                                        <input id="vwsdisArrivalDate" name="vwsdisArrivalDate" data-role="datepicker" data-bind="value:arrivalDate" />\r\n                                        <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isArrivalDateValid">{{nls.valmsgArrivaldateRequired}}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div class="column-two">\r\n                                    <label class="form-element-with-label">\r\n                                        <div class="custom-datetimepicker inlinedate-time">\r\n                                            <input id="vwsdisArrivalTime" data-role="timepicker" data-bind="value: arrivalTime" />\r\n                                            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isArrivalTimeValid">{{nls.valmsgArrivaltimeRequired}}</span>\r\n                                        </div>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="module-container l--two-column">\r\n                        <div class="column-one">\r\n                            <span class="form-element-with-label__text">{{nls.lblDestination}}</span>\r\n\r\n                        </div>\r\n                        <div class="column-two">\r\n                            <label class="form-element-with-label">\r\n                                <input type="text" class="form-element-with-label__inp" maxlength="250"\r\n                                       id="vwsdcTbContact" name="vwsdcTbContact" data-bind="value:dischargeData.Destination" />\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n    </div>\r\n\r\n\r\n    <div class="footer-bts-container">\r\n\r\n        <button type="button" class="btn" data-bind="visible:isPreviousButtonVisible,click:previousClick" >\r\n            Previous\r\n        </button>\r\n        \r\n        <button type="button" class="btn" data-bind="click:saveClick">\r\n            Save\r\n        </button>\r\n\r\n        <button type="button" class="btn" data-bind="click:backClick">\r\n            Back\r\n        </button>\r\n\r\n        <button type="button" class="btn" data-bind="visible:isNextButtonVisible,click:nextClick">\r\n            Next\r\n        </button>\r\n\r\n    </div>\r\n\r\n\r\n    \r\n\r\n\r\n</div>\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwsesRow-template">\r\n    <tr>\r\n\r\n        <td data-title="EquipmentSupplyName">\r\n            ${EquipmentSupplyName}\r\n        </td>\r\n\r\n        <td data-title="Need">\r\n            <div>\r\n                <input type="radio" name="#:EquipmentSupplyId#Need" value=true data-bind="checked:Need" />\r\n                <span>Yes </span>\r\n\r\n                <input type="radio" name="#:EquipmentSupplyId#Need" value=false data-bind="checked:Need" />\r\n                <span>No </span>\r\n            </div>\r\n        </td>\r\n\r\n        <td data-title="Have">\r\n            <div>\r\n                <input type="radio" value=true name="#:EquipmentSupplyId#Have" data-bind="checked:Have" />\r\n                <span>Yes </span>\r\n\r\n                <input type="radio" value=false name="#:EquipmentSupplyId#Have" data-bind="checked:Have" />\r\n                <span>No </span>\r\n            </div>\r\n        </td>\r\n\r\n        <td data-title="Date">\r\n            <div>\r\n                <input id="#:EquipmentSupplyId#date" name="#:EquipmentSupplyId#date" data-role="datepicker" data-bind="value:DateNeededForDisplay" class="inputClass" />\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideValidation">Please select valid date</span>\r\n\r\n            </div>\r\n        </td>\r\n\r\n\r\n    </tr>\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqrSection-template">\r\n\r\n\r\n    <div>\r\n        <h2 class="module-section__title" data-bind="text:Name"></h2>\r\n        <div class="module-section-content" data-template="vwqrQuestion-template" data-bind="source:Questions">\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqrQuestion-template">\r\n\r\n\r\n    <div class="form-element-with-label-full">\r\n\r\n        # if (IsRequired) { #\r\n\r\n        <span class="form-element-with-label__text required" data-bind="text:QuestionText"></span>\r\n\r\n        #}else{#\r\n\r\n        <span class="form-element-with-label__text" data-bind="text:QuestionText"></span>\r\n        \r\n        #}#\r\n\r\n        <div >\r\n\r\n            <!--Text box question-->\r\n            # if (AnswerTypeId == 1) { #\r\n\r\n            <div>\r\n\r\n                <input type="text" class="form-element-with-label__inp marginL12" data-bind="value:Answer, attr:{maxlength: AnswerWidth}" />\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideValidation">\r\n                    Please enter value\r\n                </span>\r\n\r\n            </div>\r\n\r\n            #} else if (AnswerTypeId == 2){ #\r\n\r\n\r\n            <div >\r\n\r\n                <input type="text" class="form-element-with-label__inp  marginL12"\r\n                       data-role="numerictextbox" data-spinners="false" min="0" max="9999999" data-format="n0"\r\n                       data-bind="value:Answer"\r\n                       data-decimals="0" />\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideValidation">\r\n                    Please enter number\r\n                </span>\r\n\r\n            </div>\r\n\r\n            #} else if (AnswerTypeId == 3){ #\r\n\r\n            <div >\r\n\r\n                <input type="text" class="form-element-with-label__inp  marginL12"\r\n                       data-role="numerictextbox" data-spinners="false" min="0" max="9999999"\r\n                       data-bind="value:Answer"\r\n                       data-decimals="1" data-format="n1" />\r\n\r\n                <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg"  data-bind="invisible: hideValidation">\r\n                    Please enter number\r\n                </span>\r\n\r\n            </div>\r\n\r\n            #} else if (AnswerTypeId == 4){ #\r\n\r\n            <div>\r\n\r\n                <textarea rows="5" class="form-element-with-label__inp marginL12" data-bind="value:Answer, attr:{maxlength: AnswerWidth}"></textarea>\r\n\r\n                <span  class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: hideValidation">\r\n                  Please enter value\r\n                </span>\r\n\r\n            </div>\r\n\r\n            #} else if (AnswerTypeId == 5){ #\r\n\r\n            # if(IsOptionsHorizontal ){ #\r\n\r\n            <ul class="form-list" data-template="vwqrMultipleRadioOptionH-template" data-bind="source: AnswerOptions"></ul>\r\n\r\n            #}else{#\r\n\r\n            <ul class="form-list" data-template="vwqrMultipleRadioOptionV-template" data-bind="source: AnswerOptions"></ul>\r\n\r\n            #}#\r\n\r\n\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert" data-bind="invisible: hideValidation">\r\n                Please select an option\r\n            </span>\r\n\r\n            #} else if (AnswerTypeId == 6){ #\r\n\r\n            # if(IsOptionsHorizontal ){ #\r\n\r\n            <ul class="form-list"data-template="vwqrMultipleCheckOptionH-template" data-bind="source: AnswerOptions"></ul>\r\n\r\n            #}else{#\r\n\r\n            <ul class="form-list" data-template="vwqrMultipleCheckOptionV-template" data-bind="source: AnswerOptions"></ul>\r\n\r\n            #}#\r\n\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" role="alert"  data-bind="invisible: hideValidation">\r\n                Please select atleast one option\r\n            </span>\r\n\r\n\r\n            #} else if (AnswerTypeId == 7){ #\r\n\r\n            <div class="custom-select">\r\n\r\n                <input data-role="dropdownlist"  data-bind="source:AnswerOptions ,  value:Answer"\r\n                       data-text-field="ChoiceText" data-value-field="Id" />\r\n\r\n            </div>\r\n\r\n            #}else{#\r\n\r\n            question type not found there is a configuration issue.\r\n\r\n            #}#\r\n\r\n\r\n        </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n        </script>\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwqrMultipleRadioOptionH-template">\r\n\r\n    <li>\r\n        <label class="radio-button">\r\n\r\n            <input class="radio-button__inp" type="radio" value="${Id}" data-bind="checked: Answer, attr:{name:QuestionId}" />\r\n\r\n            <span class="radio-button__text  marginL12" data-bind="text:ChoiceText"></span>\r\n\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqrMultipleRadioOptionV-template">\r\n\r\n    <li  class="displayBlock">\r\n        <label class="radio-button">\r\n\r\n            <input class="radio-button__inp" type="radio" value="${Id}" data-bind="checked: Answer, attr:{name:QuestionId}" />\r\n\r\n            <span class="radio-button__text  marginL12" data-bind="text:ChoiceText"></span>\r\n\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqrMultipleCheckOptionH-template">\r\n\r\n    <li >\r\n        <label class="checkbox">\r\n\r\n            <input class="checkbox__inp" type="checkbox" data-bind="checked: Answer" name="checkbox" id="checkbox">\r\n            <span class="checkbox__text  marginL12" data-bind="text:ChoiceText"></span>\r\n        </label>\r\n    </li>\r\n\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwqrMultipleCheckOptionV-template">\r\n\r\n    <li  class="displayBlock">\r\n        <label class="checkbox">\r\n\r\n            <input class="checkbox__inp" type="checkbox" data-bind="checked: Answer" name="checkbox" id="checkbox">\r\n            <span class="checkbox__text  marginL12" data-bind="text:ChoiceText"></span>\r\n        </label>\r\n    </li>\r\n\r\n\r\n</script>\r\n\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwssiRow-template">\r\n\r\n    <li>\r\n\r\n        <label class="checkbox">\r\n\r\n            <input class="checkbox__inp" type="checkbox" data-bind="checked: IsSelected">\r\n            <span class="checkbox__text  marginL12" data-bind="text:ShelterIdentificationName"></span>\r\n        </label>\r\n\r\n\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwssiRowReferredShelterLookUp-template">\r\n    <li>\r\n\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" name="vwssiTbReferredShelter" type="radio"\r\n                   value="${Key}" data-bind="checked: selectedReferredShelterId">\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwsCareSettingsRow-template">\r\n    <li>\r\n\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" name="vwsdRbCareSettings" type="radio"\r\n                   value="${Key}" data-bind="checked:sheltereeData.Shelteree.CareSettingsId,events:{change:enableHospiceOnChange}">\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwsdGenderRow-template">\r\n    <li>\r\n\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" name="vwsdTbSex" type="radio"\r\n                   value="${Key}" data-bind="checked:sheltereeData.Shelteree.SexId">\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n<script type="text/x-kendo-template" id="vwsdHospiceRow-template">\r\n    <li>\r\n\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" name="vwsdTbHospice" type="radio"\r\n                   value="${Key}" data-bind="checked:sheltereeData.Shelteree.HospiceStabilityId,disabled: isHospiceDisabled">\r\n            <span class="radio-button__text" data-bind="text:Value"></span>\r\n        </label>\r\n    </li>\r\n\r\n</script>\r\n\r\n\r\n\r\n<script type="text/x-kendo-template" id="vwsmMedicationRow-template">\r\n\r\n    <tr>\r\n\r\n        # if (Id == -1) { #\r\n\r\n        <td>\r\n            <input type="text" class="k-textbox" data-bind="value:DrugName" />\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isMedicationNameValid">Name is required</span>\r\n        </td>\r\n        <td>\r\n            <input type="text" class="k-textbox" data-bind="value:Dosage" />\r\n        </td>\r\n        <td>\r\n            <input type="text" class="k-textbox" data-bind="value:Frequency" />\r\n        </td>\r\n        <td>\r\n            <input type="text" data-role="datepicker" class="k-datetimepicker" data-bind="value:LastTimeUsed" />\r\n            <span class="k-widget k-tooltip k-tooltip-validation k-invalid-msg" data-bind="invisible: isLastTimeUsedValid">Please select valid date</span>\r\n        </td>\r\n\r\n\r\n        <td>\r\n            <button class="btn--secondary" data-bind="click:btnAddMedicationClick" type="button">\r\n                <span class="f-icon f-icon__add" aria-hidden="true"></span>\r\n                Add\r\n            </button>\r\n\r\n        </td>\r\n\r\n\r\n\r\n        #}else{#\r\n\r\n        <td>\r\n            ${DrugName}\r\n        </td>\r\n\r\n        <td>\r\n            ${Dosage}\r\n        </td>\r\n\r\n        <td>\r\n            ${Frequency}\r\n        </td>\r\n\r\n        <td>\r\n            ${LastTimeUsedValue}\r\n\r\n        </td>\r\n\r\n        <td>\r\n            <button class="btn-delete" data-bind="click:btnMedicationDeleteClick">\r\n                <span class="f-icon f-icon__delete" aria-hidden="true"></span>\r\n                <span class="f-icon__text">Delete</span>\r\n            </button>\r\n        </td>\r\n\r\n\r\n        #}#\r\n\r\n\r\n\r\n    </tr>\r\n</script>';
}),define("modules/sheltereeModule/shelteree/nls/resources",{root:{lblPersonalDetails:"Personal Details:",lblPhysicianDetails:"Physician Details:",lblSheltereesContactPerson:"Shelteree's Contact Person:",lblFirstName:"First Name:",lblMiddleName:"Middle Name:",lblLastName:"Last Name:",lblAddress1:"Address1:",lblAddress2:"Address2:",lblCity:"City:",lblZip:"Zip:",lblState:"State:",lblModeOfTransportation:"Mode Of Transportation:",lblHomeParish:"Home Parish",lblDOB:"Date Of Birth:",lblAge:"Age:",lblSex:"Sex:",lblHomePhone:"HomePhone:",lblCell:"Cell:",lblSectionBed:"Section Bed",lblPhysicianName:"PhysicianName:",lblClinicName:"Clinic Name:",lblCareSettings:"Care Settings:",lblFacilityName:"Facility Name:",lblHasSigned:"Has Signed DNR?:",valmsgFNRequired:"First Name required",valmsgLNRequired:"Last Name required",valmsgAddress1Required:"Address1 Required",valmsgCityRequired:"City Required",valmsgZipRequired:"Zip Required",valmsgStateRequired:"State Required",valmsgPhysicianNameRequired:"Physician Name Required",valmsgClinicNameRequired:"Clinic Name Required",valmsgFacilityNameRequired:"Facility Name Required",headerAddEditShelteree:"Add edit Shelteree",headerAddEditSheltreeDisposition:"Sheltree Disposition",headingShelterIdentification:"Shelter Identification",headingDischarge:"Discharge",lblShelterIdentification:"Shelter Identification:",headingShelterDisposition:"Disposition",lblAccepted:"Accepted to MSNS?",lbltext:"(If answer is No ask for below block)",lblSelectone:"Select One",lblDisposition:"Disposition:",lblReason:"Reason:",lblContactPerson:"Contact Person:",lblDateandtime:"Date & Time:","lblDispositon:":"Dispositon",lblDischargeDateTime:"Discharge Date & Time:",lblArrivalDateTime:"Arrival Date & Time:",lblDestination:"Destination:",valmsgshelteridentification:" At least one shelter identification should be selected.",valmsgDischagedateRequired:"Date is required",valmsgDischagetimeRequired:"Time is required",valmsgArrivaldateRequired:"Date is required",valmsgArrivaltimeRequired:"Time is required",valmsgDestinationRequired:"Destination Required",vldmsgDateRequired:"Date is required",vldmsgTimeRequired:"Time is required"}}),define("modules/sheltereeModule/shelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getShelteree()==e&&null!=l&&l.data.refreshTabData()}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getShelteree(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),l.data.setTabNumberCalculationFunctionToSheltreeTabs(),kendo.bind(r.getDomElement(),l.data)),l.data.fillQueryParam(d),l.data.getDemographicsById(0),r.show(),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null),i.notify($ct.en.getHideSheltereeHeaderNavigation(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null)},this.deactivate=function(){r&&r.hide()}};return i}),define("text!modules/sheltereeModule/uploadShelteree/help/help.html",[],function(){return'<div id = "vwHelp">\r\n    <h1>UploadShelteree help</h1>\r\n</div>\r\n\r\n'}),define("modules/sheltereeModule/uploadShelteree/viewmodel",["Boiler","text!./help/help.html"],function(e,t){var n=function(n){var a=kendo.observable({FileContentId:0,FacilityId:0,fileCount:0,dsFacilityNames:[],selectedFacilityNameItem:{},dsImportOptions:[],selectedImportAction:1,initialize:function(){$ct.helpers.displayWorkAreaBusyCursor();$ct.ds.shlt.shelter.getShelters(function(e){$ct.helpers.hideWorkAreaBusyCursor(),e=e.Data,void 0!==e&&null!==e&&e.length>0&&a.set("selectedFacilityNameItem",e[0]),a.set("dsFacilityNames",e)}),$ct.ds.sheltree.sheltree.getImportActionOptions(function(e){e=e.Data,$ct.helpers.hideWorkAreaBusyCursor(),a.set("dsImportOptions",e)})},ddlFacilityNames:function(e){a.clearData()},radiobtnClick:function(e){a.clearData()},helpClick:function(n){var a=new e.ViewTemplate(null,t,null);$ct.helpers.displayWindow(a)},fileProgress:function(e){return""==e?"":"File Uploading.."},onUploadFile:function(e){".xls"===e.files[0].extension||".xlsx"===e.files[0].extension?($("#vwusUploadProgess").show(),1==a.selectedImportAction&&(n.notify($ct.en.getShowValidationMsg(),$ct.msg.getEmployeesUploadImportOption()),$("#vwusUploadProgess").hide(),e.preventDefault()),e.data={FacilityId:a.selectedFacilityNameItem.Id,ImportAction:a.selectedImportAction}):(a.get("clearData")(),n.notify($ct.en.getShowValidationMsg(),$ct.msg.getUploadValidFile()),e.preventDefault())},onSelectFile:function(e){a.fileCount>0&&$(".k-upload-files").remove(),$(".k-upload-files.k-reset").show(),$(".k-upload-selected").show(),a.fileCount++},onProgressFileUpload:function(e){$("#vwusUploadProgess").show(),a.get("fileProgress")(e.percentComplete)},onSuccees:function(e){$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwusUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("");var t=e.response,i=e.response,l=$("#vwuSheltereesList").data("kendoGrid");if(void 0!=l.dataSource.filter&&l.dataSource.filter({}),void 0!=l.dataSource.sort&&l.dataSource.sort({}),a.set("UploadSummary",i),0===t.FailedImportedShelterees.length){if(0==t.TotalCount&&0==t.SuccessCount)return void n.notify($ct.en.getShowValidationMsg(),$ct.msg.getSheltereeUploadError());n.notify($ct.en.getShowSuccMsg(),$ct.msg.getSheltereeUploadSuccessMsg())}else{for(var r=0;r<t.FailedImportedShelterees.length;r++){var s=t.FailedImportedShelterees[r];i.FailedImportedShelterees[r].ValidationError=s.ValidationError.replace(/\\r\\n/g,"\r\n")}a.set("UploadSummary",i),i.FailedImportedShelterees.length>0&&a.set("FacilityId",i.FailedImportedShelterees[0].FacilityId),a.set("FileContentId",i.FileContentId),i.FailCount>0?($("#vwusExcel").show(),$("#vwusDivGrid").show(),$("#vwuSheltereesList").data("kendoGrid").dataSource.page(1)):($("#vwusExcel").hide(),$("#vwusDivGrid").hide())}$("#vwusSummary").show()},onError:function(e){$("#vwusUploadProgess").hide(),$ct.helpers.hideWorkAreaBusyCursor(),a.get("fileProgress")("")},onCompleteFileUpload:function(e){},replaceString:function(e){return e.replace("|g","<br />")},clearData:function(e){$("#vwusExcel").hide(),$("#vwusSummary").hide(),$("#vwueDivGrid").hide(),$(".k-upload-files.k-reset").find("li").remove(),$(".k-upload-files.k-reset").hide(),$("#vwusUploadProgess").hide(),$(".k-upload-selected").hide(),$(".k-upload-files").remove(),$(".k-upload-status").remove(),$(".k-upload.k-header").addClass("k-upload-empty"),$(".k-upload-button").removeClass("k-state-focused")},btnExportExcelClick:function(e){$ct.ds.sheltree.sheltree.getExportFailedImportedSheltereeDataToExcel(this,function(e){if("Failure"!==e.AcknowledgeType){$("#vwusExportExcel").attr("href",e.Data.DownloadUrl),$("#vwusExportExcel").click(function(e){window.location.href=$("#vwusExportExcel").attr("href")});var t=jQuery.Event("click");$("#vwusExportExcel").trigger(t)}else n.notify($ct.en.getShowValidationMsg(),e.Message)})}});return{data:a}};return n}),define("text!modules/sheltereeModule/uploadShelteree/view.html",[],function(){return'\r\n<div id="vwUploadEmployee">\r\n    <!--Control id prefix : vwus-->\r\n    <div class="module">\r\n        <h2 class="module-title">{{nls.headerUploadShelteree}}<span class="module-title__icon" data-bind="click:helpClick"></span></h2>\r\n        <div class="module-container">\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblFacility}}</span>\r\n                <div class="custom-select">\r\n                    <select id="vwusDdlFacilityNames"\r\n                            data-role="dropdownlist"\r\n                            data-bind="source:dsFacilityNames,events:{change:ddlFacilityNames},value:selectedFacilityNameItem"\r\n                            data-text-field="Name"\r\n                            data-value-field="Id" />\r\n                </div>\r\n            </label>\r\n            <div class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblOptions}}</span>\r\n                <ul class="form-list" data-template="vwusImportOptions-template" data-bind="source:dsImportOptions"></ul>\r\n                <!-- data-role="listview" -->\r\n            </div>\r\n            <label class="form-element-with-label">\r\n                <span class="form-element-with-label__text">{{nls.lblUpload}}</span>\r\n                <input id="vwusUpload" name="vwusUpload" type="file"\r\n                       data-role="upload"\r\n                       data-multiple=false\r\n                       data-async="{ saveUrl:\'{{nls.fileUploadUrl}}\', autoUpload:false}"\r\n                       data-bind="events:\r\n                                {select: onSelectFile,\r\n                                upload:onUploadFile,\r\n                                success:onSuccees,\r\n                                complete:onCompleteFileUpload,\r\n                                error: onError,\r\n                                remove:onRemove,\r\n                                progress:onProgressFileUpload}" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n    <!-- uploaded data details -->\r\n    <section class="uploaded-employee-data">\r\n\r\n\r\n        <ul class="uploaded-employee-data__info" id="vwupdSummary" hidden>\r\n            <li>\r\n                {{nls.lblTotalRecords}}:\r\n                <strong data-bind="text:UploadSummary.TotalCount"></strong>\r\n            </li>\r\n            <li>\r\n                <span class="f-icon f-icon__success" aria-hidden="true"></span>\r\n                {{nls.lblTotalRecordsUpdated}}:\r\n                <strong data-bind="text:UploadSummary.SuccessCount"></strong>\r\n            </li>\r\n            <li>\r\n                <span class="f-icon f-icon__not-reported" aria-hidden="true"></span>\r\n                {{nls.lblTotalRecordsFailed}}:\r\n                <strong data-bind="text:UploadSummary.FailCount"></strong>\r\n            </li>\r\n\r\n            <li id="vwusExcel">\r\n                <button class="btn--secondary" data-bind="click:btnExportExcelClick" type="button">\r\n                    <span class="f-icon f-icon__export" aria-hidden="true"></span>{{nls.btnExportToExcel}}\r\n                </button>\r\n            </li>\r\n\r\n        </ul>\r\n        <div hidden id="vwusDivGrid" class="uploaded-employee-data__table">\r\n            <table id="vwuSheltereesList"\r\n                   data-scrolable="true"\r\n                   data-bind="source:UploadSummary.FailedImportedShelterees"\r\n                   data-role="grid"\r\n                   data-filterable="true"\r\n                   data-sortable="true"\r\n                   data-row-template="vwusRow-template"\r\n                   data-selectable="true"\r\n                   data-columns="[\r\n                        {field:\'FirstName\',title:\'{{nls.gdColFirstName}}\', width: \'150px\'},\r\n                        {field:\'LastName\',title:\'{{nls.gdColLastName}}\', width: \'150px\'},\r\n                        {field:\'ValidationError\',title:\'{{nls.gdColReason}}\'}\r\n                    ]"\r\n                   data-pageable="true"></table>\r\n        </div>\r\n\r\n    </section>\r\n    <!-- Upload Employee data -->\r\n    <div hidden>\r\n        <a id="vwusExportExcel"></a>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/x-kendo-template" id="vwusRow-template">\r\n    <tr>\r\n        <td>${FirstName}</td>\r\n        <td>${LastName}</td>\r\n        <td><span data-bind="text:ValidationError"></span></td>\r\n    </tr>\r\n</script>\r\n<script type="text/x-kendo-template" id="vwusImportOptions-template">\r\n    <li>\r\n        <label class="radio-button">\r\n            <input class="radio-button__inp" type="radio"\r\n                   name="ImportActionType"\r\n                   id="${data.Key}" value="${data.Key}"\r\n                   data-bind="checked:selectedImportAction, click:radiobtnClick">\r\n            <span class="radio-button__text"> ${data.Value}</span>\r\n        </label>\r\n    </li>\r\n</script>\r\n'}),define("modules/sheltereeModule/uploadShelteree/nls/resources",{root:{headerUploadShelteree:"Upload Shelteree",lblFacility:"Facility Name:",lblUpload:"Upload File:",lblOptions:"Choose Options:",btnExportToExcel:"Export to Excel",lblTotalRecords:"Total No of Records",lblTotalRecordsUpdated:"Total No of Records Updated",lblTotalRecordsFailed:"Total No of Records Failed",gdColFirstName:"First Name",gdColLastName:"Last Name",gdColReason:"Reason",fileUploadUrl:$ct.cn.getSheltereeFacilityUrl()+"UploadShelterees"}}),define("modules/sheltereeModule/uploadShelteree/component",["Boiler","./viewmodel","text!./view.html","i18n!./nls/resources"],function(e,t,n,a){var i=function(i){var l,r=null;i.listen($ct.en.getRefreshView(),function(e){$ct.rn.getUploadShelteree()==e&&l&&(l.data.clearData(),l.data.initialize())}),this.activate=function(s,d){i.parentContext.currentView=$ct.rn.getUploadShelteree(),r||(r=new e.ViewTemplate(s,n,a),l=new t(i),kendo.bind(r.getDomElement(),l.data)),l.data.clearData(),l.data.initialize(),r.show(),i.parentContext.activeForm=$ct.rn.getUploadShelteree(),i.notify($ct.en.getShowActiveSheltereeHeader(),null),i.notify($ct.en.getHideSheltereeShelterHeader(),null),i.notify($ct.en.getHideEmployeeHeaderNavigation(),null),i.notify($ct.en.getHideEmployeeShelterHeader(),null)},this.deactivate=function(){r&&($("#vwusDivGrid").hide(),r.hide())}};return i}),define("modules/sheltereeModule/module",["Boiler","./settings","./sheltereeList/component","./sheltereeMedicalUpdateList/component","./sheltereeDischargeList/component","./bulkUpdateShelteree/component","./bulkUpdateSheltereeDischarge/component","./bulkUpdateSheltereeMedicalUpdate/component","./downloadShelteree/component","./shelteree/component","./uploadShelteree/component"],function(e,t,n,a,i,l,r,s,d,o,c){var p=function(p){var u=new e.Context(p);u.addSettings(t);var h=new e.UrlController($(".appcontent"));h.addRoutes({sheltereelist:new n(u),sheltereemedicalupdatelist:new a(u),sheltereedischargelist:new i(u),bulkupdateshelteree:new l(u),bulkupdatesheltereedischarge:new r(u),bulkupdatesheltereemedicalupdate:new s(u),downloadshelteree:new d(u),"shelteree/{id}/{shelterId}":new o(u),uploadshelteree:new c(u)}),h.start()};return p}),define("modules/modules",["require","./baseModule/module","./adminModule/module","./otherModule/module","./employeeModule/module","./shelterModule/module","./sheltereeModule/module"],function(e){return[e("./baseModule/module"),e("./adminModule/module"),e("./otherModule/module"),e("./employeeModule/module"),e("./shelterModule/module"),e("./sheltereeModule/module")]}),define("text!handlers/ajaxError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\n    <hr>\n    <div class="container">\n        <strong>Error:&nbsp;</strong><span data-bind="html: message"></span><br/>\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\n        <i class="icon-cancel-circle close-btn"></i>\n    </div>\n</div> -->\n\n<article class="message is-error">\n    <span class="message__icon" aria-hidden="true"></span>\n    <h4 class="message__title">Error</h4>\n    <p class="message__desc">\n        <strong>Error:&nbsp;</strong><span data-bind="html: message"></span><br/>\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\n    </p>\n</article>\n'}),define("text!handlers/scriptError.htm",[],function(){return'\ufeff<!-- <div class="msg-block pageerror">\n    <hr>\n    <div class="container">\n        <strong>Error:&nbsp;</strong><span data-bind="text: message"></span><br/>\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\n        <strong>Line:&nbsp;</strong><span data-bind="text: line"></span><br/>\n        <i class="icon-cancel-circle close-btn"></i>\n    </div>\n</div> -->\n<article class="message is-error">\n    <span class="message__icon" aria-hidden="true"></span>\n    <h4 class="message__title">Error</h4>\n    <p class="message__desc">\n        <strong>Error:&nbsp;</strong><span data-bind="text: message"></span><br/>\n        <strong>Url:&nbsp;</strong><span data-bind="text: url"></span><br/>\n        <strong>Line:&nbsp;</strong><span data-bind="text: line"></span><br/>\n    </p>\n</article>\n'}),define("handlers/errorHandler",["Boiler","text!./ajaxError.htm","text!./scriptError.htm"],function(e,t,n){$(document).ajaxError(function(e,n,a){var i=n.status+" "+n.statusText+" "+n.responseText;null==i&&(i=""),i=i+" At "+$ct.helpers.getCurrentTimeStamp();var l=kendo.observable({message:i,url:a.url});$ct.helpers.errorMsgShow(t,l),$ct.helpers.hideWorkAreaBusyCursor(),$ct.helpers.hidePageBusyCursor()}),window.onerror=function(e,t,a){null==e&&(e=""),e=e+" At "+$ct.helpers.getCurrentTimeStamp();var i=kendo.observable({message:e,url:t,line:a});$ct.helpers.errorMsgShow(n,i),$ct.helpers.hideWorkAreaBusyCursor(),$ct.helpers.hidePageBusyCursor()}}),define("application",["Boiler","./settings","./modules/modules","./handlers/errorHandler"],function(e,t,n,a){var i=function(){this.appContext=new e.Context,this.appContext.token="Test",this.appContext.isAuthenticated=!0,this.appContext.addSettings(t),this.appContext.loadChildContexts(n)};return i.prototype.SetupTokenBeforeSend=function(e){var t="Bearer "+e;$.ajaxSetup({beforeSend:function(e){e.setRequestHeader("Authorization",t),e.setRequestHeader("Accept","application/json")}})},i.prototype.SetToken=function(e){this.SetupTokenBeforeSend(e),this.appContext.isAuthenticated=!0,this.appContext.loadChildContexts(n)},i}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t++)e[t](o)}function t(){var t=c;d&&t.length&&(c=[],e(t))}function n(){d||(d=!0,r&&clearInterval(r),t())}function a(e){return d?e(o):c.push(e),a}var i,l,r,s="undefined"!=typeof window&&window.document,d=!s,o=s?document:null,c=[];if(s){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),l=document.createElement("div");try{i=null===window.frameElement}catch(p){}l.doScroll&&i&&window.external&&(r=setInterval(function(){try{l.doScroll(),n()}catch(e){}},30))}("complete"===document.readyState||"interactive"===document.readyState)&&n()}return a.version="2.0.0",a.load=function(e,t,n,i){i.isBuild?n(null):a(n)},a}),require.config({paths:{text:"../assets/js/vendor/require/text",order:"../assets/js/vendor/require/order",i18n:"../assets/js/vendor/require/i18n",domReady:"../assets/js/vendor/require/domReady",path:"../assets/js/vendor/require/path",Boiler:"./core/_boiler_"},waitSeconds:30}),require(["./application","domReady"],function(e,t){t(function(){jQuery.support.cors=!0;new e})}),define("main",function(){});
//# sourceMappingURL=main.build.js.map
//# sourceMappingURL=main.js.map
